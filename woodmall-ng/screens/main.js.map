{"version":3,"file":"main.js","mappings":"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","sources":["./projects/screens/src/app/app.component.ts","./projects/screens/src/app/app.component.html","./projects/screens/src/app/app.module.ts","./projects/screens/src/app/environment.ts","./projects/screens/src/app/events/ServerEventsService.ts","./projects/screens/src/app/libs/ActionsModel.ts","./projects/screens/src/app/libs/AggregateId.ts","./projects/screens/src/app/libs/Array.ts","./projects/screens/src/app/libs/Attachments.ts","./projects/screens/src/app/libs/AuthenticatedHttp.ts","./projects/screens/src/app/libs/CQRS.ts","./projects/screens/src/app/libs/Collections.ts","./projects/screens/src/app/libs/ContextPath.ts","./projects/screens/src/app/libs/Dom.ts","./projects/screens/src/app/libs/Either.ts","./projects/screens/src/app/libs/Elements.ts","./projects/screens/src/app/libs/EventBus.ts","./projects/screens/src/app/libs/Expressions.ts","./projects/screens/src/app/libs/FileUri.ts","./projects/screens/src/app/libs/FunctionalExtensions.ts","./projects/screens/src/app/libs/Html.ts","./projects/screens/src/app/libs/I18nText.ts","./projects/screens/src/app/libs/IdModel.ts","./projects/screens/src/app/libs/Internationalization.ts","./projects/screens/src/app/libs/Language.ts","./projects/screens/src/app/libs/MultiTypeInputModel.ts","./projects/screens/src/app/libs/Numbers.ts","./projects/screens/src/app/libs/Option.ts","./projects/screens/src/app/libs/OrganizationIdsModel.ts","./projects/screens/src/app/libs/PositionXY.ts","./projects/screens/src/app/libs/ProcessVariableValidation.ts","./projects/screens/src/app/libs/ProcessVariables.ts","./projects/screens/src/app/libs/RandomUtil.ts","./projects/screens/src/app/libs/RectXY.ts","./projects/screens/src/app/libs/Size.ts","./projects/screens/src/app/libs/Strings.ts","./projects/screens/src/app/libs/Trilean.ts","./projects/screens/src/app/libs/Try.ts","./projects/screens/src/app/libs/TypeCheck.ts","./projects/screens/src/app/libs/Typed.ts","./projects/screens/src/app/libs/Types.ts","./projects/screens/src/app/libs/VariablePath.ts","./projects/screens/src/app/libs/Variables.ts","./projects/screens/src/app/libs/components/adjusting-text-input.component.ts","./projects/screens/src/app/libs/components/time-summary.component.ts","./projects/screens/src/app/libs/components/toastr/ToastrEventBus.ts","./projects/screens/src/app/libs/components/toastr/ToastrService.ts","./projects/screens/src/app/libs/components/toastr/ToastrViewModel.ts","./projects/screens/src/app/libs/components/toastr/toastr-overlay.component.ts","./projects/screens/src/app/libs/components/toastr/toastr-overlay.component.html","./projects/screens/src/app/libs/components/toastr/toastr.ts","./projects/screens/src/app/libs/simpleFileUploaderController/Messages.ts","./projects/screens/src/app/libs/simpleFileUploaderController/SimpleFileUploaderController.ts","./projects/screens/src/app/libs/time/Size.ts","./projects/screens/src/app/screen/CssUtils.ts","./projects/screens/src/app/screen/ScreenComponentController.ts","./projects/screens/src/app/screen/ScreenExternalEventBus.ts","./projects/screens/src/app/screen/ScreenFormConfig.ts","./projects/screens/src/app/screen/ScreenInstanceServerModel.ts","./projects/screens/src/app/screen/ScreenViewModel.ts","./projects/screens/src/app/screen/SkinsPropertiesProvider.ts","./projects/screens/src/app/screen/components/ComponentLabelViewModel.ts","./projects/screens/src/app/screen/components/ComponentStateFactory.ts","./projects/screens/src/app/screen/components/ComponentsModel.ts","./projects/screens/src/app/screen/components/ScreenComponentViewModel.ts","./projects/screens/src/app/screen/components/attachment/AttachmentInputCommon.ts","./projects/screens/src/app/screen/components/attachment/MultiAttachmentInputComponentDefinition.ts","./projects/screens/src/app/screen/components/attachment/MultiAttachmentInputComponentState.ts","./projects/screens/src/app/screen/components/attachment/MultiAttachmentInputComponentViewModel.ts","./projects/screens/src/app/screen/components/attachment/SingleAttachmentInputComponentDefinition.ts","./projects/screens/src/app/screen/components/attachment/SingleAttachmentInputComponentState.ts","./projects/screens/src/app/screen/components/attachment/SingleAttachmentInputComponentViewModel.ts","./projects/screens/src/app/screen/components/attachment/multi-attachment-input-component.component.ts","./projects/screens/src/app/screen/components/attachment/multi-attachment-input-component.component.html","./projects/screens/src/app/screen/components/attachment/single-attachment-input-component.component.ts","./projects/screens/src/app/screen/components/attachment/single-attachment-input-component.component.html","./projects/screens/src/app/screen/components/button/ButtonComponentDefinition.ts","./projects/screens/src/app/screen/components/button/ButtonComponentState.ts","./projects/screens/src/app/screen/components/button/ButtonComponentViewModel.ts","./projects/screens/src/app/screen/components/button/button-component.component.ts","./projects/screens/src/app/screen/components/button/button-component.component.html","./projects/screens/src/app/screen/components/component-label.component.ts","./projects/screens/src/app/screen/components/component-label.component.html","./projects/screens/src/app/screen/components/date/DateInputComponentDefinition.ts","./projects/screens/src/app/screen/components/date/DateInputComponentState.ts","./projects/screens/src/app/screen/components/date/DateInputComponentViewModel.ts","./projects/screens/src/app/screen/components/date/date-input-component.component.ts","./projects/screens/src/app/screen/components/date/date-input-component.component.html","./projects/screens/src/app/screen/components/html/HtmlComponentDefinition.ts","./projects/screens/src/app/screen/components/html/HtmlComponentState.ts","./projects/screens/src/app/screen/components/html/HtmlComponentViewModel.ts","./projects/screens/src/app/screen/components/html/html-component.component.ts","./projects/screens/src/app/screen/components/html/html-component.component.html","./projects/screens/src/app/screen/components/image/ImageComponentDefinition.ts","./projects/screens/src/app/screen/components/image/ImageComponentState.ts","./projects/screens/src/app/screen/components/image/ImageComponentViewModel.ts","./projects/screens/src/app/screen/components/image/image-component.component.ts","./projects/screens/src/app/screen/components/image/image-component.component.html","./projects/screens/src/app/screen/components/input/AdjustableInputComponentController.ts","./projects/screens/src/app/screen/components/input/BlinkingComponentController.ts","./projects/screens/src/app/screen/components/input/NumberFormatComponentController.ts","./projects/screens/src/app/screen/components/input/NumberInputComponentDefinition.ts","./projects/screens/src/app/screen/components/input/NumberInputComponentState.ts","./projects/screens/src/app/screen/components/input/NumberInputComponentViewModel.ts","./projects/screens/src/app/screen/components/input/PasswordInputComponentDefinition.ts","./projects/screens/src/app/screen/components/input/PasswordInputComponentState.ts","./projects/screens/src/app/screen/components/input/PasswordInputComponentViewModel.ts","./projects/screens/src/app/screen/components/input/TextInputComponentDefinition.ts","./projects/screens/src/app/screen/components/input/TextInputComponentState.ts","./projects/screens/src/app/screen/components/input/TextInputComponentViewModel.ts","./projects/screens/src/app/screen/components/input/number-input-component.component.ts","./projects/screens/src/app/screen/components/input/number-input-component.component.html","./projects/screens/src/app/screen/components/input/password-input-component.component.ts","./projects/screens/src/app/screen/components/input/password-input-component.component.html","./projects/screens/src/app/screen/components/input/text-input-component.component.ts","./projects/screens/src/app/screen/components/input/text-input-component.component.html","./projects/screens/src/app/screen/components/label/LabelComponentDefinition.ts","./projects/screens/src/app/screen/components/label/LabelComponentState.ts","./projects/screens/src/app/screen/components/label/LabelComponentViewModel.ts","./projects/screens/src/app/screen/components/label/label-component.component.ts","./projects/screens/src/app/screen/components/label/label-component.component.html","./projects/screens/src/app/screen/components/link/LinkComponentDefinition.ts","./projects/screens/src/app/screen/components/link/LinkComponentState.ts","./projects/screens/src/app/screen/components/link/LinkComponentViewModel.ts","./projects/screens/src/app/screen/components/link/link-component.component.ts","./projects/screens/src/app/screen/components/link/link-component.component.html","./projects/screens/src/app/screen/components/map/MapComponentController.ts","./projects/screens/src/app/screen/components/map/MapComponentDefinition.ts","./projects/screens/src/app/screen/components/map/MapComponentEventBus.ts","./projects/screens/src/app/screen/components/map/MapComponentState.ts","./projects/screens/src/app/screen/components/map/MapComponentViewModel.ts","./projects/screens/src/app/screen/components/map/MapComponentViewModelWrapper.ts","./projects/screens/src/app/screen/components/map/map-component.component.ts","./projects/screens/src/app/screen/components/map/map-component.component.html","./projects/screens/src/app/screen/components/repeatable/RepeatableContainerDefinition.ts","./projects/screens/src/app/screen/components/repeatable/RepeatableContainerState.ts","./projects/screens/src/app/screen/components/repeatable/RepeatableContainerViewModel.ts","./projects/screens/src/app/screen/components/repeatable/repeatable-container.component.ts","./projects/screens/src/app/screen/components/repeatable/repeatable-container.component.html","./projects/screens/src/app/screen/components/section/SectionContainerDefinition.ts","./projects/screens/src/app/screen/components/section/SectionContainerState.ts","./projects/screens/src/app/screen/components/section/SectionContainerViewModel.ts","./projects/screens/src/app/screen/components/section/section-container.component.ts","./projects/screens/src/app/screen/components/section/section-container.component.html","./projects/screens/src/app/screen/components/select/DropListComponentDefinition.ts","./projects/screens/src/app/screen/components/select/DropListComponentState.ts","./projects/screens/src/app/screen/components/select/DropListComponentViewModel.ts","./projects/screens/src/app/screen/components/select/MultiCheckboxComponentDefinition.ts","./projects/screens/src/app/screen/components/select/MultiCheckboxComponentState.ts","./projects/screens/src/app/screen/components/select/MultiCheckboxComponentViewModel.ts","./projects/screens/src/app/screen/components/select/RadioButtonComponentDefinition.ts","./projects/screens/src/app/screen/components/select/RadioButtonComponentState.ts","./projects/screens/src/app/screen/components/select/RadioButtonComponentViewModel.ts","./projects/screens/src/app/screen/components/select/SingleCheckboxComponentDefinition.ts","./projects/screens/src/app/screen/components/select/SingleCheckboxComponentState.ts","./projects/screens/src/app/screen/components/select/SingleCheckboxComponentViewModel.ts","./projects/screens/src/app/screen/components/select/drop-list-component.component.ts","./projects/screens/src/app/screen/components/select/drop-list-component.component.html","./projects/screens/src/app/screen/components/select/multi-checkbox-component.component.ts","./projects/screens/src/app/screen/components/select/multi-checkbox-component.component.html","./projects/screens/src/app/screen/components/select/radio-button-component.component.ts","./projects/screens/src/app/screen/components/select/radio-button-component.component.html","./projects/screens/src/app/screen/components/select/select-common.ts","./projects/screens/src/app/screen/components/select/single-checkbox-component.component.ts","./projects/screens/src/app/screen/components/select/single-checkbox-component.component.html","./projects/screens/src/app/screen/components/switch/SwitchComponentDefinition.ts","./projects/screens/src/app/screen/components/switch/SwitchComponentState.ts","./projects/screens/src/app/screen/components/switch/SwitchComponentViewModel.ts","./projects/screens/src/app/screen/components/switch/switch-component.component.ts","./projects/screens/src/app/screen/components/switch/switch-component.component.html","./projects/screens/src/app/screen/components/table/TableContainerDefinition.ts","./projects/screens/src/app/screen/components/table/TableContainerState.ts","./projects/screens/src/app/screen/components/table/TableContainerViewModel.ts","./projects/screens/src/app/screen/components/table/table-container.component.ts","./projects/screens/src/app/screen/components/table/table-container.component.html","./projects/screens/src/app/screen/components/tabs/TabsContainerDefinition.ts","./projects/screens/src/app/screen/components/tabs/TabsContainerState.ts","./projects/screens/src/app/screen/components/tabs/TabsContainerViewModel.ts","./projects/screens/src/app/screen/components/tabs/tabs-container.component.ts","./projects/screens/src/app/screen/components/tabs/tabs-container.component.html","./projects/screens/src/app/screen/index.ts","./projects/screens/src/app/screen/model/ComponentStateModel.ts","./projects/screens/src/app/screen/model/PropertiesModel.ts","./projects/screens/src/app/screen/model/ScreenMessages.ts","./projects/screens/src/app/screen/model/ScreenModel.ts","./projects/screens/src/app/screen/model/ScreenSimpleModel.ts","./projects/screens/src/app/screen/model/ViewModel.ts","./projects/screens/src/app/screen/screen-component.component.ts","./projects/screens/src/app/screen/screen-component.component.html","./projects/screens/src/app/screen/screen-portlet.component.ts","./projects/screens/src/app/screen/screen-portlet.component.html","./projects/screens/src/app/screen/screen.component.ts","./projects/screens/src/app/screen/screen.component.html","./projects/screens/src/app/screen/services/ActionsModel.ts","./projects/screens/src/app/screen/services/ApplicationModel.ts","./projects/screens/src/app/screen/services/BusinessVariableInputServerModel.ts","./projects/screens/src/app/screen/services/ScreenDefinitionEvents.ts","./projects/screens/src/app/screen/services/ScreenEventBus.ts","./projects/screens/src/app/screen/services/ScreenInstanceService.ts","./projects/screens/src/app/screen/services/ScreenQueryService.ts","./projects/screens/src/app/screen/services/files/DocumentRepositoryModel.ts","./projects/screens/src/app/screen/services/files/FileViewerModel.ts","./projects/screens/src/app/screen/services/files/FilesMessages.ts","./projects/screens/src/app/screen/services/files/FilesService.ts","./projects/screens/src/app/screen/utils/drop-menu.component.ts","./projects/screens/src/app/screen/utils/drop-menu.component.html","./projects/screens/src/app/shared/internationalization/i18n.service.ts","./projects/screens/src/app/shared/libraries/libraries.service.ts","./projects/screens/src/app/shared/navigation/navigation.service.ts","./projects/screens/src/app/shared/pipes/FileSizeFormatPipe.ts","./projects/screens/src/app/shared/pipes/I18nPipe.ts","./projects/screens/src/app/shared/pipes/sanitize-style.pipe.ts","./projects/screens/src/app/shared/user-settings/user-settings.controller.ts","./projects/screens/src/app/shared/user-settings/user-settings.service.ts","./projects/screens/src/environments/environment.ts","./projects/screens/src/main.ts","./utils/time/Parsers.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html'\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  // screenInstanceId: ScreenInstanceId = <any>undefined;\r\n\r\n  constructor(private route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.route.queryParams.subscribe(params => {\r\n    //   console.log(\"params['si']\", params['si']);\r\n    //   this.screenInstanceId = new ScreenInstanceId(params['si']);\r\n    // });\r\n  }\r\n\r\n\r\n\r\n}\r\n","<my-screen-portlet></my-screen-portlet>\r\n<my-toastr-overlay></my-toastr-overlay>\r\n<div id=\"drop-menu-overlay\"></div>\r\n","import {HttpClientJsonpModule, HttpClientModule} from \"@angular/common/http\";\r\n\r\nimport {APP_INITIALIZER, NgModule} from '@angular/core';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\n\r\nimport {ScreenComponent, ScreenComponentComponent} from './screen';\r\nimport {RouterTestingModule} from \"@angular/router/testing\";\r\nimport {AppComponent} from \"./app.component\";\r\nimport {ScreenPortletComponent} from \"./screen/screen-portlet.component\";\r\nimport {SectionContainerComponent} from \"./screen/components/section/section-container.component\";\r\nimport {LabelComponentComponent} from \"./screen/components/label/label-component.component\";\r\nimport {NumberInputComponentComponent} from \"./screen/components/input/number-input-component.component\";\r\nimport {TextInputComponentComponent} from \"./screen/components/input/text-input-component.component\";\r\nimport {PasswordInputComponentComponent} from \"./screen/components/input/password-input-component.component\";\r\nimport {FormsModule} from \"@angular/forms\";\r\nimport {ComponentLabelComponent} from \"./screen/components/component-label.component\";\r\nimport {ButtonComponentComponent} from \"./screen/components/button/button-component.component\";\r\nimport {SingleCheckboxComponentComponent} from \"./screen/components/select/single-checkbox-component.component\";\r\nimport {RepeatableContainerComponent} from \"./screen/components/repeatable/repeatable-container.component\";\r\nimport {TabsContainerComponent} from \"@screens\";\r\nimport {TableContainerComponent} from \"@screens\";\r\nimport {ImageComponentComponent} from \"./screen/components/image/image-component.component\";\r\nimport {MultiCheckboxComponentComponent} from \"./screen/components/select/multi-checkbox-component.component\";\r\nimport {RadioButtonComponentComponent} from \"./screen/components/select/radio-button-component.component\";\r\nimport {LinkComponentComponent} from \"./screen/components/link/link-component.component\";\r\nimport {DropListComponentComponent} from \"./screen/components/select/drop-list-component.component\";\r\nimport {DateInputComponentComponent} from \"./screen/components/date/date-input-component.component\";\r\nimport {DropMenuComponent} from \"./screen/utils/drop-menu.component\";\r\nimport {MapComponentComponent} from \"./screen/components/map/map-component.component\";\r\nimport {GoogleMapsModule} from \"@angular/google-maps\";\r\nimport {AdjustingTextInput} from \"@libs/components/adjusting-text-input.component\";\r\nimport {I18nService} from \"./shared/internationalization/i18n.service\";\r\nimport {I18nPipe} from \"./shared/pipes/I18nPipe\";\r\nimport {HtmlComponentComponent} from \"./screen/components/html/html-component.component\";\r\nimport {SwitchComponentComponent} from \"./screen/components/switch/switch-component.component\";\r\nimport {\r\n  MultiAttachmentInputComponentComponent\r\n} from \"./screen/components/attachment/multi-attachment-input-component.component\";\r\nimport {\r\n  SingleAttachmentInputComponentComponent\r\n} from \"./screen/components/attachment/single-attachment-input-component.component\";\r\nimport {FileSizeFormatPipe} from \"./shared/pipes/FileSizeFormatPipe\";\r\nimport {TimeSummaryComponent} from \"@libs/components/time-summary.component\";\r\nimport {ToastrOverlayComponent} from \"@libs/components/toastr/toastr-overlay.component\";\r\nimport {SanitizeStylePipe} from \"./shared/pipes/sanitize-style.pipe\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    HttpClientJsonpModule,\r\n    RouterTestingModule,\r\n    FormsModule,\r\n    GoogleMapsModule\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    ScreenPortletComponent,\r\n    ToastrOverlayComponent,\r\n    AdjustingTextInput,\r\n    TimeSummaryComponent,\r\n    ScreenComponent,\r\n    DropMenuComponent,\r\n    ScreenComponentComponent,\r\n    SectionContainerComponent,\r\n    RepeatableContainerComponent,\r\n    TabsContainerComponent,\r\n    TableContainerComponent,\r\n    LabelComponentComponent,\r\n    HtmlComponentComponent,\r\n    SwitchComponentComponent,\r\n    ButtonComponentComponent,\r\n    LinkComponentComponent,\r\n    MapComponentComponent,\r\n    DropListComponentComponent,\r\n    ImageComponentComponent,\r\n    SingleCheckboxComponentComponent,\r\n    MultiCheckboxComponentComponent,\r\n    RadioButtonComponentComponent,\r\n    NumberInputComponentComponent,\r\n    TextInputComponentComponent,\r\n    PasswordInputComponentComponent,\r\n    MultiAttachmentInputComponentComponent,\r\n    SingleAttachmentInputComponentComponent,\r\n    ComponentLabelComponent,\r\n    I18nPipe,\r\n    FileSizeFormatPipe,\r\n    SanitizeStylePipe,\r\n    DateInputComponentComponent\r\n  ],\r\n  providers: [{\r\n    provide: APP_INITIALIZER,\r\n    useFactory: resourceProviderFactory,\r\n    deps: [I18nService],\r\n    multi: true\r\n  }],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\r\nexport function resourceProviderFactory(provider: I18nService) {\r\n  return () => provider.initialize();\r\n}\r\n","export function restUrl(part: string): string {\r\n  // return \"https://woodmall-eu.neula.cloud/\" + part;\r\n  return \"https://woodmall.neula.cloud/\" + part;\r\n  // return \"https://jtweston.neula.cloud/\" + part;\r\n  // return \"http://aressoftwareltd.localhost:8080/\" + part;\r\n  // return \"http://woodmall.localhost:8080/\" + part;\r\n  // return \"http://testy.localhost:8080/\" + part;\r\n}\r\n","import {Injectable} from \"@angular/core\";\r\nimport {ScreenInstanceId} from \"@libs/IdModel\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {randomString} from \"@libs/Strings\";\r\nimport {AuthenticatedHttp} from \"@libs/AuthenticatedHttp\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {\r\n  AggregateId,\r\n  AggregateVersion,\r\n  AnyFlowId,\r\n  FlowId,\r\n  RemoteFlowId,\r\n  RemoteOrganizationIdentifier\r\n} from \"@libs/AggregateId\";\r\nimport {EventBus} from \"@libs/EventBus\";\r\nimport {restUrl} from \"../environment\";\r\nimport {NewScreenInstanceEvents} from \"@screens\";\r\nimport {I18nService} from \"../shared/internationalization/i18n.service\";\r\n\r\n\r\n  class ListenConfirmed {\r\n    channelId: string = \"\";\r\n  }\r\n  class ListenResponse {\r\n    error: string|undefined;\r\n    events: ListenResponseData[]|undefined;\r\n    subscriptionsIds: Array<string> = [];\r\n  }\r\n  class ListenResponseData {\r\n    dataType: string = \"\";\r\n    data: any;\r\n    metadata: any;\r\n  }\r\n\r\n\r\n  export class ServerEventBus extends EventBus {\r\n    screenInstanceEvent(events: any/*NewScreenInstanceEvents*/) {}\r\n\r\n  }\r\n\r\n\r\n  export class SubscriptionType {\r\n    constructor(readonly name: string) {}\r\n\r\n    static FlowEventInfo = new SubscriptionType(\"FlowEventInfo\");\r\n    static ActiveFlowsCount = new SubscriptionType(\"ActiveFlowsCount\");\r\n    static ActiveFlows = new SubscriptionType(\"ActiveFlows\");\r\n    static AllFlows = new SubscriptionType(\"AllFlows\");\r\n    static FlowDetails = new SubscriptionType(\"FlowDetails\");\r\n    static TasksChange = new SubscriptionType(\"TasksChange\");\r\n    static AvailableTasks = new SubscriptionType(\"AvailableTasks\");\r\n    static AssignedTasks = new SubscriptionType(\"AssignedTasks\");\r\n    static InstanceInfo = new SubscriptionType(\"InstanceInfo\");\r\n    static MyRoles = new SubscriptionType(\"MyRoles\");\r\n    static Notifications = new SubscriptionType(\"Notifications\");\r\n    static ScreenInstance = new SubscriptionType(\"ScreenInstance\");\r\n    static ScreenInstancesChange = new SubscriptionType(\"ScreenInstancesChange\");\r\n\r\n  }\r\n\r\n\r\n\r\n  @Injectable({\r\n    providedIn: 'root',\r\n  })\r\n  export class ServerEventsService {\r\n    static uniqueIdentifier = randomString(8);\r\n    static requestCounter = 0;\r\n\r\n    private channelId: Option<string> = None();\r\n    private remoteChannels: {[organization: string]: string} = {};\r\n\r\n    public serverEventBus = new ServerEventBus();\r\n\r\n    private delayedSubscriptions: Array<() => void> = [];\r\n\r\n    private remoteOrganizations: Array<RemoteOrganizationIdentifier> = [];\r\n\r\n    private sharedWorkerAvailable: boolean = !!(<any>window).SharedWorker;\r\n    private worker: Worker|SharedWorker|null = null;\r\n\r\n    private debugEnabled = false;\r\n\r\n    constructor(readonly authenticatedHttp: AuthenticatedHttp,\r\n                readonly i18nService: I18nService\r\n                // readonly sessionEventBus: SessionEventBus,\r\n                // readonly organizationSessionInfo: OrganizationSessionInfoClientSide,\r\n                // readonly $window: ng.IWindowService,\r\n                // readonly remoteOrganizationsQueryService: RemoteOrganizationsQueryService,\r\n                // readonly $timeout: ng.ITimeoutService\r\n                ) {\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    private init() {\r\n      this.initLocal();\r\n\r\n      this.remoteOrganizations.forEach(remoteOrganization => {\r\n        this.initRemote(remoteOrganization);\r\n      })\r\n\r\n    }\r\n\r\n    private emergencyReload(error: string) {\r\n      console.error(\"Error while listening to server events, reloading page to re-establish connection\" + error);\r\n      setTimeout(() => window.location.reload(), 1000);\r\n      throw new Error(\"Error while listening to server events, reloading page to re-establish connection: \" + error);\r\n    }\r\n\r\n\r\n    private debug(...args: Array<any>): void {\r\n      if(this.debugEnabled) {\r\n        if (args.length === 1) {\r\n          console.log(\"Page: \" + args[0]);\r\n        } else if (args.length === 2) {\r\n          console.log(\"Page: \" + args[0], args[1]);\r\n        } else if (args.length === 3) {\r\n          console.log(\"Page: \" + args[0], args[1], args[2]);\r\n        } else if (args.length === 4) {\r\n          console.log(\"Page: \" + args[0], args[1], args[2], args[3]);\r\n        } else if (args.length === 5) {\r\n          console.log(\"Page: \" + args[0], args[1], args[2], args[3], args[4]);\r\n        } else if (args.length === 6) {\r\n          console.log(\"Page: \" + args[0], args[1], args[2], args[3], args[4], args[5]);\r\n        } else {\r\n          console.log(\"Page:\", args);\r\n        }\r\n      }\r\n    }\r\n\r\n    private postMessageToWorker(message: Record<string, any>) {\r\n      // flag check is\r\n      if(this.sharedWorkerAvailable) {\r\n        (<SharedWorker>this.worker).port.postMessage(message);\r\n      } else if(!this.sharedWorkerAvailable) {\r\n        (<Worker>this.worker).postMessage(message);\r\n      } else {\r\n        throw new Error(\"No worker\");\r\n      }\r\n    }\r\n\r\n    private listenOnWorkerMessage(onMessage: (message: any) => void) {\r\n      if(this.sharedWorkerAvailable) {\r\n        (<SharedWorker>this.worker).port.addEventListener(\"message\", (e: { data: { messageType: any; channelId: string; events: any[]; error: string; }; }) => {\r\n          onMessage(e.data)\r\n        });\r\n      } else if(!this.sharedWorkerAvailable) {\r\n        (<Worker>this.worker).onmessage = (event: MessageEvent) => {\r\n          onMessage(event.data);\r\n        };\r\n      } else {\r\n        throw new Error(\"No worker\");\r\n      }\r\n    }\r\n\r\n    private initLocal() {\r\n\r\n      this.debug(\"Initiating or connecting to worker\");\r\n\r\n      if(this.sharedWorkerAvailable) {\r\n        console.log(\"Starting shared worker\");\r\n        this.worker = new SharedWorker(\"/serverEventsWorker.min.js?nocache=\"+encodeURIComponent(btoa(\"a\"))); // TODO FIX add anti cache\r\n        this.worker.port.start();\r\n      } else {\r\n        console.log(\"Starting non shared worker\");\r\n        this.worker = new Worker(\"/serverEventsWorker.min.js?nocache=\"+encodeURIComponent(btoa(\"a\"))); // TODO FIX add anti cache\r\n      }\r\n\r\n\r\n      this.postMessageToWorker({messageType: \"listen\", \"serviceIdentifier\": ServerEventsService.uniqueIdentifier, \"urlPrefix\": restUrl(\"\"),\r\n        \"sessionId\": \"\"});\r\n\r\n      this.listenOnWorkerMessage((message: { messageType: any; channelId: string; events: any[]; error: string; }) => {\r\n        this.handleWorkerMessage(message);\r\n      })\r\n\r\n      if (!(<any>window).isUnloading)\r\n      {\r\n        window.addEventListener(\"unload\",() => {\r\n          this.postMessageToWorker({\r\n            messageType: \"pageClosed\",\r\n            sessionId: \"\"\r\n          });\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    private handleWorkerMessage(data: { messageType: any; channelId: string; events: any[]; error: string; }) {\r\n      switch(data.messageType) {\r\n        case \"listenResponse\":\r\n          this.channelId = Some(data.channelId);\r\n          this.debug(\"Page: Connected to channel \"+data.channelId);\r\n          this.replayDelayedSubscriptions();\r\n          break;\r\n        case \"events\":\r\n          this.debug(\"Page: Got response \", data.messageType, data.events);\r\n\r\n          // timeout is used to force scope update\r\n          data.events.forEach(event => {\r\n            this.handleUpdateDataFromServer(event.dataType, event.data, event.metadata);\r\n          });\r\n          break;\r\n        case \"ping\":\r\n          this.postMessageToWorker({messageType: \"pong\"});\r\n          break;\r\n        case \"pong\":\r\n          console.log(\"Received pong from worker\");\r\n          break;\r\n        case \"emergencyReload\":\r\n          this.emergencyReload(data.error);\r\n          break;\r\n        case \"unableToConnect\":\r\n          toastr.error(this.i18nService.translate(\"errors_unable_to_connect\"));\r\n          this.emergencyReload(data.error);\r\n          break;\r\n        case \"subscribeFailed\":\r\n          toastr.error(\"Subscription failed [\" + data.error+\"]\");\r\n          break;\r\n        case \"unsubscribeFailed\":\r\n          toastr.error(\"Unsubscribe failed [\" + data.error+\"]\");\r\n          break;\r\n        case \"channelOpeningFailed\":\r\n          toastr.error(\"Channel opening failed [\" + data.error+\"]\");\r\n          break;\r\n        case \"channelOpeningNotAuthorized\": // ignore\r\n          break;\r\n        default:\r\n          this.debug(\"Page: Got response \", data.messageType);\r\n      }\r\n    }\r\n\r\n    private replayDelayedSubscriptions() {\r\n      const delayed = this.delayedSubscriptions;\r\n      this.delayedSubscriptions = [];\r\n      while(delayed.length > 0) {\r\n        const subscription = delayed.shift();\r\n        if(subscription !== undefined) {\r\n          subscription();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    private initRemote(remoteOrganizationIdentifier: RemoteOrganizationIdentifier) {\r\n      // TODO enable remote\r\n      // delete this.remoteChannels[remoteOrganizationIdentifier.id];\r\n      // this.authenticatedHttp.getWithDetailedError(\"server-events/open-remote-channel/\"+remoteOrganizationIdentifier.id+\"/\"+ServerEventsService.uniqueIdentifier, (data: ListenConfirmed) => {\r\n      //   this.remoteChannels[remoteOrganizationIdentifier.id] = data.channelId;\r\n      //   this.listenAgainForServerEvents(Some(remoteOrganizationIdentifier));\r\n      //   this.replayDelayedSubscriptions();\r\n      // });\r\n    }\r\n\r\n    private channelFor(remoteOrganizationIdentifier: Option<RemoteOrganizationIdentifier>): Option<string> {\r\n      if(remoteOrganizationIdentifier.isEmpty()) {\r\n        return this.channelId;\r\n      } else {\r\n        return Option.of(this.remoteChannels[remoteOrganizationIdentifier.get().id]);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    subscribe(url: (channelId: string) => string, onSuccess: (subscriptionId: string) => void) {\r\n      if(this.channelId.isDefined()) {\r\n        this.debug(\"Page: Will subscribe by worker \" + url(this.channelId.get()));\r\n        this.postMessageToWorker({\r\n          messageType: \"subscribe\",\r\n          \"sessionId\": \"\",\r\n          subscriptionUrl: url(this.channelId.get())});\r\n      } else {\r\n        this.delayedSubscriptions.push(() => this.subscribe(url, onSuccess));\r\n      }\r\n\r\n    }\r\n\r\n\r\n    subscribeForFlowEventInfo(flowId: AnyFlowId, flowVersion: AggregateVersion, onSuccess: (subscriptionCode: string) => void): void {\r\n      let endpoint = \"\";\r\n      let channelId = \"\";\r\n      let flow = \"\";\r\n\r\n      if(flowId instanceof FlowId) {\r\n        endpoint = \"subscribe-for-flow-events-info/\";\r\n        // channelId = this.channelId.get();\r\n        flow = flowId.id;\r\n      } else if(flowId instanceof RemoteFlowId) {\r\n        endpoint = \"remote-subscribe-for-flow-events-info/\"+flowId.remoteOrganization+\"/\";\r\n        // channelId = this.channelFor(Some(new RemoteOrganizationIdentifier(flowId.remoteOrganization))).get();\r\n        flow = flowId.id;\r\n      } else {\r\n        throw new Error(\"Incorrect flow id\")\r\n      }\r\n\r\n      // TODO fix handling remote\r\n      this.subscribe(channelId => `server-events/${endpoint}${channelId}/${flow}/${flowVersion.asInt}`, subscriptionId => onSuccess(subscriptionId));\r\n\r\n    }\r\n\r\n\r\n    subscribeForScreenInstance(instanceId: ScreenInstanceId, lastVersion: number, onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-for-screen-instance/${channelId}/${instanceId.id}/${lastVersion}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n    subscribeForScreenInstancesListChange(onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-screen-instances-list-change/${channelId}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n\r\n    subscribeForInstanceInfo(instanceId: AggregateId, onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-for-instance/${channelId}/${instanceId.id}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n    subscribeForTasksChange(remoteOrganization: Option<RemoteOrganizationIdentifier>, onSuccess: (subscriptionCode: string) => void): void {\r\n\r\n      const channel = this.channelFor(remoteOrganization);\r\n\r\n      if (channel.isDefined()) {\r\n\r\n        // TODO fix remote\r\n        this.subscribe(channelId =>\r\n          remoteOrganization.isDefined() ?\r\n            `server-events/remote-subscribe-tasks-change/${remoteOrganization.get().id}/${channelId}` :\r\n            `server-events/subscribe-tasks-change/${channelId}`,\r\n            subscriptionId => onSuccess(subscriptionId));\r\n      } else {\r\n        const clone = Option.copy(remoteOrganization).map(RemoteOrganizationIdentifier.copy);\r\n        this.delayedSubscriptions.push(() => this.subscribeForTasksChange(clone, onSuccess));\r\n      }\r\n    }\r\n\r\n    subscribeForMyRoleUpdates(onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-for-my-roles/${channelId}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n\r\n    subscribeForFlow(flowId: AnyFlowId, onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-for-flow-details/${channelId}/${flowId.urlSerialized()}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n    subscribeForNotifications(onSuccess: (subscriptionCode: string) => void): void {\r\n      this.subscribe(channelId => `server-events/subscribe-for-notifications/${channelId}`, subscriptionId => onSuccess(subscriptionId));\r\n    }\r\n\r\n    unsubscribeRemote(remoteOrganization: RemoteOrganizationIdentifier, subscriptionCode: string): void {\r\n      if(this.channelId.isDefined()) {\r\n        this.authenticatedHttp.get(\"server-events/remote-unsubscribe/\"+remoteOrganization.id+\"/\" + this.channelId.get() + \"/\" + subscriptionCode,\r\n          (data: string) => {\r\n            // do nothing\r\n          });\r\n      }\r\n    }\r\n\r\n    unsubscribe(subscriptionCode: string): void {\r\n      this.postMessageToWorker({\r\n        messageType: \"unsubscribe\",\r\n        sessionId: \"\",\r\n        subscriptionId: subscriptionCode});\r\n    }\r\n\r\n\r\n    private lastUpdates: { [name: string]: any } = {};\r\n\r\n    private handleUpdateDataFromServer(dataType: string, data: any, metadata: any): void {\r\n\r\n      switch(dataType) {\r\n        case SubscriptionType.ScreenInstance.name: this.handleScreenInstanceEvents(<NewScreenInstanceEvents>data); break;\r\n        default: break;//throw new Error(\"Unexpected data type: [\"+dataType+\"]\");\r\n      }\r\n    }\r\n\r\n\r\n    private handleScreenInstanceEvents(data: NewScreenInstanceEvents) {\r\n      this.serverEventBus.screenInstanceEvent(NewScreenInstanceEvents.copy(data));\r\n    }\r\n    //\r\n\r\n  }\r\n\r\n","import {MultiTypeInput, MultiTypeInputFactory} from \"./MultiTypeInputModel\";\r\nimport {VariablePath} from \"./VariablePath\";\r\nimport {AutomaticActionId} from \"./IdModel\";\r\nimport {Option} from \"./Option\";\r\nimport {Typed} from \"./Typed\";\r\nimport {i18n} from \"../shared/internationalization/i18n.service\";\r\n\r\nexport class AutomaticActionType {\r\n\r\n    constructor(readonly name: string) {}\r\n\r\n    static readonly script = new AutomaticActionType(\"script\");\r\n    static readonly setValue = new AutomaticActionType(\"setValue\");\r\n    static readonly clearValue = new AutomaticActionType(\"clearValue\");\r\n    static readonly email = new AutomaticActionType(\"email\");\r\n    static readonly notification = new AutomaticActionType(\"notification\");\r\n    static readonly sms = new AutomaticActionType(\"sms\");\r\n    static readonly existingAction = new AutomaticActionType(\"existingAction\");\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  export interface AutomaticAction {\r\n    id: AutomaticActionId;\r\n    className(): string;\r\n    async: boolean;\r\n    name: Option<string>;\r\n    identifier: Option<string>;\r\n    conditional: boolean;\r\n    conditionExpression: string;\r\n    saveTo: Array<any>; // should be VariablePath but inheritance has some problems\r\n    searchableText(): string;\r\n  }\r\n\r\n\r\n  export class ScriptAction implements AutomaticAction {\r\n\r\n    static className = \"ScriptAction\";\r\n    className(): string {\r\n      return ScriptAction.className;\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly script: string,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n    static copy(other: ScriptAction) {\r\n      return new ScriptAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.script,\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+ \" \"+this.script+\" \"+this.saveTo.map(s => s.path).join(\" \");\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class SetValueAction implements AutomaticAction {\r\n\r\n    static className = \"SetValueAction\";\r\n    className(): string {\r\n      return SetValueAction.className;\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly expression: string,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n    static copy(other: SetValueAction) {\r\n      return new SetValueAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.expression,\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+ \" \"+this.expression+\" \"+this.saveTo.map(s => s.path).join(\" \");\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class ClearValueAction implements AutomaticAction {\r\n\r\n    static className = \"ClearValueAction\";\r\n    className(): string {\r\n      return ClearValueAction.className;\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n    static copy(other: ClearValueAction) {\r\n      return new ClearValueAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+\" \"+this.saveTo.map(s => s.path).join(\" \");\r\n    }\r\n\r\n  }\r\n\r\n  export class EmailAction implements AutomaticAction {\r\n\r\n    static className = \"EmailAction\";\r\n    className(): string {\r\n      return EmailAction.className;\r\n    }\r\n\r\n    readonly defaultVisibleLabel = i18n(\"scriptActions_Email\");\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly emailRecipients: Array<Typed<MultiTypeInput>>,\r\n                readonly emailSubject: Typed<MultiTypeInput>,\r\n                readonly emailBody: Typed<MultiTypeInput>,\r\n                readonly emailAttachments: Typed<MultiTypeInput>,\r\n                readonly disableResponse: boolean,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n    static copy(other: EmailAction) {\r\n      return new EmailAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.emailRecipients.map(MultiTypeInputFactory.copyTyped),\r\n        MultiTypeInputFactory.copyTyped(other.emailSubject),\r\n        MultiTypeInputFactory.copyTyped(other.emailBody),\r\n        MultiTypeInputFactory.copyTyped(other.emailAttachments),\r\n        other.disableResponse,\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n    emailRecipientsUnwrapped(): Array<MultiTypeInput> {\r\n      return this.emailRecipients.map(v => Typed.value(v));\r\n    }\r\n    emailSubjectUnwrapped() {\r\n      return Typed.value(this.emailSubject);\r\n    }\r\n    emailBodyUnwrapped() {\r\n      return Typed.value(this.emailBody);\r\n    }\r\n    emailAttachmentsUnwrapped() {\r\n      return Typed.value(this.emailAttachments);\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+ \" \"+\r\n        this.emailRecipientsUnwrapped().map(v => v.searchableText())+\" \"+this.emailSubjectUnwrapped().searchableText()+\" \"+\r\n        this.emailBodyUnwrapped().searchableText() + this.emailAttachmentsUnwrapped().searchableText();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class NotificationAction implements AutomaticAction {\r\n\r\n    static className = \"NotificationAction\";\r\n    className(): string {\r\n      return NotificationAction.className;\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly notificationRecipients: Array<Typed<MultiTypeInput>>,\r\n                readonly notificationSubject: Typed<MultiTypeInput>,\r\n                readonly notificationMessage: Typed<MultiTypeInput>,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n    static copy(other: NotificationAction) {\r\n      return new NotificationAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.notificationRecipients.map(MultiTypeInputFactory.copyTyped),\r\n        MultiTypeInputFactory.copyTyped(other.notificationSubject),\r\n        MultiTypeInputFactory.copyTyped(other.notificationMessage),\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n    notificationRecipientsUnwrapped(): Array<MultiTypeInput> {\r\n      return this.notificationRecipients.map(v => Typed.value(v));\r\n    }\r\n    notificationSubjectUnwrapped() {\r\n      return Typed.value(this.notificationSubject);\r\n    }\r\n    notificationMessageUnwrapped() {\r\n      return Typed.value(this.notificationMessage);\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+ \" \"+\r\n        this.notificationRecipientsUnwrapped().map(v => v.searchableText())+\" \"+this.notificationSubjectUnwrapped().searchableText()+\" \"+\r\n        this.notificationMessageUnwrapped().searchableText();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class SMSAction implements AutomaticAction {\r\n    static className = \"SMSAction\";\r\n    className(): string {\r\n      return SMSAction.className;\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId,\r\n                readonly async: boolean,\r\n                readonly name: Option<string>,\r\n                readonly identifier: Option<string>,\r\n                readonly conditional: boolean,\r\n                readonly conditionExpression: string,\r\n                readonly phoneNumbers: Array<Typed<MultiTypeInput>>,\r\n                readonly smsMessage: Typed<MultiTypeInput>,\r\n                readonly test: boolean,\r\n                readonly saveTo: Array<VariablePath>) {}\r\n\r\n\r\n    static copy(other: SMSAction) {\r\n      return new SMSAction(\r\n        AutomaticActionId.copy(other.id),\r\n        other.async,\r\n        Option.copy(other.name),\r\n        Option.copy(other.identifier),\r\n        other.conditional,\r\n        other.conditionExpression,\r\n        other.phoneNumbers.map(MultiTypeInputFactory.copyTyped),\r\n        MultiTypeInputFactory.copyTyped(other.smsMessage),\r\n        other.test,\r\n        other.saveTo.map(VariablePath.copy)\r\n      );\r\n    }\r\n\r\n\r\n    phoneNumbersUnwrapped(): Array<MultiTypeInput> {\r\n      return this.phoneNumbers.map(v => Typed.value(v));\r\n    }\r\n    smsMessageUnwrapped() {\r\n      return Typed.value(this.smsMessage);\r\n    }\r\n\r\n    searchableText() {\r\n      return this.name.getOrElse(\"\")+\" \"+(this.conditional ? this.conditionExpression : \"\")+ \" \"+\r\n        this.phoneNumbersUnwrapped().map(v => v.searchableText())+\" \"+this.smsMessageUnwrapped().searchableText();\r\n    }\r\n  }\r\n\r\n\r\n  export class AutomaticActionFactory {\r\n    static copy(input: AutomaticAction): AutomaticAction {\r\n      return AutomaticActionFactory.copyByType(input, input.className());\r\n    }\r\n\r\n    static copyTyped(action: Typed<AutomaticAction>): Typed<AutomaticAction> {\r\n      return Typed.of(AutomaticActionFactory.copyByType(Typed.value(action), Typed.className(action)));\r\n    }\r\n\r\n    static copyByType(action: AutomaticAction, className: string): AutomaticAction {\r\n      switch (className) {\r\n        case ScriptAction.className: return ScriptAction.copy(<ScriptAction>action);\r\n        case SetValueAction.className: return SetValueAction.copy(<SetValueAction>action);\r\n        case ClearValueAction.className: return ClearValueAction.copy(<ClearValueAction>action);\r\n        case EmailAction.className: return EmailAction.copy(<EmailAction>action);\r\n        case NotificationAction.className: return NotificationAction.copy(<NotificationAction>action);\r\n        case SMSAction.className: return SMSAction.copy(<SMSAction>action);\r\n\r\n        default:\r\n          throw new Error(\"Unsupported action class: \" + className + \", action: \" + JSON.stringify(action));\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n","import {Typed} from \"./Typed\";\r\n\r\nexport class AggregateId {\r\n  private readonly _AggregateId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: string) {}\r\n\r\n  static copy(other: AggregateId): AggregateId {\r\n    return new AggregateId(other.id);\r\n  }\r\n\r\n  static unique(ids: AggregateId[]): AggregateId[] {\r\n    const uIds: AggregateId[] = [];\r\n\r\n    ids.forEach(id => {\r\n      if(uIds.filter(uId => uId.id === id.id).length === 0) {\r\n        uIds.push(id);\r\n      }\r\n    });\r\n\r\n    return uIds;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class RemoteOrganizationIdentifier {\r\n  private readonly _RemoteOrganizationIdentifier: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: string) {}\r\n  static copy(other: RemoteOrganizationIdentifier) {\r\n    return new RemoteOrganizationIdentifier(other.id);\r\n  }\r\n}\r\n\r\nclass RemoteOrganizationId {\r\n  private readonly _RemoteOrganizationId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: string) {}\r\n\r\n  static copy(other: RemoteOrganizationId): RemoteOrganizationId {\r\n    return new RemoteOrganizationId(other.id);\r\n  }\r\n\r\n  toAggregateId() {\r\n    return new AggregateId(this.id);\r\n  }\r\n}\r\n\r\nclass AnyFlowIdHelper {\r\n  static equals(a: AnyFlowId, b: AnyFlowId): boolean {\r\n    if(a instanceof FlowId && b instanceof FlowId) {\r\n      return a.id === b.id;\r\n    } else if(a instanceof RemoteFlowId && b instanceof RemoteFlowId) {\r\n      return a.id === b.id && a.remoteOrganization === b.remoteOrganization;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  static isMaterialized(id: AnyFlowId) {\r\n    return id.id.indexOf(\"_\") === -1;\r\n  }\r\n\r\n  static parseUrl(serialized: string): AnyFlowId {\r\n    if(serialized.indexOf(\"r|\") == 0) {\r\n      const splitted = serialized.split(\"|\");\r\n      return new RemoteFlowId(splitted[2], splitted[1]);\r\n    } else {\r\n      return new FlowId(serialized);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nclass AnyInstanceHelper {\r\n\r\n  static equals(a: AnyInstanceId, b: AnyInstanceId): boolean {\r\n    if(a instanceof InstanceId && b instanceof InstanceId) {\r\n      return a.id === b.id;\r\n    } else if(a instanceof RemoteInstanceId && b instanceof RemoteInstanceId) {\r\n      return a.id === b.id && a.remoteOrganization === b.remoteOrganization;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\ninterface AnyInstanceId {\r\n  className(): string;\r\n  id: string;\r\n}\r\n\r\n\r\nclass AnyInstanceIdFactory {\r\n  static copyTyped(id: Typed<AnyInstanceId>): Typed<AnyInstanceId> {\r\n    switch(Typed.className(id)) {\r\n      case InstanceId.className: return Typed.of(InstanceId.copy(<InstanceId>Typed.value(id)));\r\n      case RemoteInstanceId.className: return Typed.of(RemoteInstanceId.copy(<RemoteInstanceId>Typed.value(id)));\r\n      default: throw new Error(\"Unsupported type [\"+Typed.className(id)+\"]\");\r\n    }\r\n  }\r\n\r\n  static copy(id: AnyInstanceId): AnyInstanceId {\r\n    switch(id.className()) {\r\n      case InstanceId.className: return InstanceId.copy(<InstanceId>id);\r\n      case RemoteInstanceId.className: return RemoteInstanceId.copy(<RemoteInstanceId>id);\r\n      default: throw new Error(\"Unsupported type [\"+id.className()+\"]\");\r\n    }\r\n\r\n  }\r\n}\r\n\r\nclass InstanceId implements AnyInstanceId {\r\n  static className = \"InstanceId\";\r\n  private readonly _InstanceId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n\r\n  className(): string {\r\n    return InstanceId.className;\r\n  }\r\n\r\n  constructor(readonly id: string) {\r\n  }\r\n\r\n  static copy(other: InstanceId): InstanceId {\r\n    return new InstanceId(other.id);\r\n  }\r\n\r\n  static of(instanceId: AggregateId) {\r\n    return new InstanceId(instanceId.id);\r\n  }\r\n}\r\n\r\nclass RemoteInstanceId implements AnyInstanceId {\r\n  static className = \"RemoteInstanceId\";\r\n\r\n  className(): string {\r\n    return RemoteInstanceId.className;\r\n  }\r\n\r\n  constructor(readonly id: string, readonly remoteOrganization: string) {}\r\n\r\n  static copy(other: RemoteInstanceId): RemoteInstanceId {\r\n    return new RemoteInstanceId(other.id, other.remoteOrganization);\r\n  }\r\n\r\n  equals(other: RemoteInstanceId) {\r\n    return this.remoteOrganization === other.remoteOrganization && this.id === other.id;\r\n  }\r\n}\r\n\r\nexport interface AnyFlowId {\r\n  className(): string;\r\n  id: string;\r\n  toFlowId(): FlowId;\r\n  urlSerialized(): string;\r\n  cssClassSerialized(): string;\r\n\r\n  isRemote(): boolean;\r\n}\r\n\r\nexport class AnyFlowIdFactory {\r\n  static copyTyped(id: Typed<AnyFlowId>): Typed<AnyFlowId> {\r\n    switch(Typed.className(id)) {\r\n      case FlowId.className: return Typed.of(FlowId.copy(<FlowId>Typed.value(id)));\r\n      case RemoteFlowId.className: return Typed.of(RemoteFlowId.copy(<RemoteFlowId>Typed.value(id)));\r\n      default: throw new Error(\"Unsupported type [\"+Typed.className(id)+\"]\");\r\n    }\r\n  }\r\n\r\n  static copy(id: AnyFlowId): AnyFlowId {\r\n    switch(id.className()) {\r\n      case FlowId.className: return FlowId.copy(<FlowId>id);\r\n      case RemoteFlowId.className: return RemoteFlowId.copy(<RemoteFlowId>id);\r\n      default: throw new Error(\"Unsupported type [\"+id.className()+\"]\");\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport class RemoteFlowId implements AnyFlowId {\r\n  static className = \"RemoteFlowId\";\r\n  className(): string {\r\n    return RemoteFlowId.className;\r\n  }\r\n\r\n  constructor(readonly id: string,\r\n              readonly remoteOrganization: string) {}\r\n\r\n  static copy(other: RemoteFlowId): RemoteFlowId {\r\n    return new RemoteFlowId(other.id, other.remoteOrganization);\r\n  }\r\n\r\n  toFlowId(): FlowId {\r\n    throw new Error(\"Not a local flow id\");\r\n  }\r\n\r\n  urlSerialized(): string {\r\n    return this.remoteOrganization+\"|\"+this.id;\r\n  }\r\n\r\n  cssClassSerialized(): string {\r\n    return \"r_\"+this.remoteOrganization+\"_\"+this.id;\r\n  }\r\n\r\n  isRemote(): boolean {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class FlowId implements AnyFlowId {\r\n  static className = \"FlowId\";\r\n  private readonly FlowId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n\r\n  className(): string {\r\n    return FlowId.className;\r\n  }\r\n  constructor(readonly id: string) {}\r\n\r\n  static copy(other: FlowId): FlowId {\r\n    return new FlowId(other.id);\r\n  }\r\n\r\n  static isMaterialized(id: FlowId) {\r\n    return id.id.indexOf(\"_\") === -1;\r\n  }\r\n\r\n  static of(flowId: AggregateId) {\r\n    return new FlowId(flowId.id);\r\n  }\r\n\r\n  toFlowId(): FlowId {\r\n    return this;\r\n  }\r\n\r\n  toAggregateId(): AggregateId {\r\n    return new AggregateId(this.id);\r\n  }\r\n\r\n  urlSerialized(): string {\r\n    return this.id;\r\n  }\r\n\r\n  cssClassSerialized(): string {\r\n    return this.id;\r\n  }\r\n\r\n  isRemote(): boolean {\r\n    return false;\r\n  }\r\n\r\n  static parseFromUri(text: string): AnyFlowId {\r\n    if(text.indexOf(\"_\") >= 0) {\r\n      const splitted = text.split(\"_\")\r\n      return new RemoteFlowId(splitted[0], splitted[1]);\r\n    } else {\r\n      return new FlowId(text);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport class AggregateVersion {\r\n  constructor(readonly asInt: number) {}\r\n  static ZERO = new AggregateVersion(0);\r\n  static ONE = new AggregateVersion(1);\r\n\r\n  static copy(other: AggregateVersion): AggregateVersion {\r\n    return new AggregateVersion(other.asInt);\r\n  }\r\n}\r\n\r\nclass CommandId {\r\n  constructor(readonly asLong: number) {}\r\n}\r\n\r\n\r\nclass AggregateType {\r\n  constructor(readonly typeName: string) {}\r\n}\r\n\r\n","export function arraysEqual(arrayA: string[], arrayB: string[]) {\r\n  if (arrayA.length !== arrayB.length) {\r\n    return false;\r\n  } else {\r\n    for (let i = 0; i < arrayA.length; i++) {\r\n      if (arrayA[i] !== arrayB[i]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport function arraysEqualBy<T>(arrayA: T[], arrayB: T[], equals: (a: T, b: T) => boolean) {\r\n  if (arrayA.length !== arrayB.length) {\r\n    return false;\r\n  } else {\r\n    for (let i = 0; i < arrayA.length; i++) {\r\n      if (!equals(arrayA[i], arrayB[i])) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\n\r\nexport function range(length: number) {\r\n  const r = [];\r\n  for(let i = 0; i < length; i++) {\r\n    r[i] = i;\r\n  }\r\n  return r;\r\n}\r\n","import {restUrl} from \"../environment\";\nimport {AggregateId, AnyFlowId, FlowId, RemoteFlowId} from \"./AggregateId\";\nimport {FileUri} from \"./FileUri\";\nimport {BusinessEntityId, ScreenInstanceId} from \"./IdModel\";\n\nexport function processDesignDownloadUrl(releaseId: string, nodeId: number, uri: FileUri): string {\n    return restUrl(`download/attachment/${releaseId}/${nodeId}/${uri.urlSerialized()}`);\n  }\n\n  export function taskDesignAttachmentDownloadUrl(flowId: AnyFlowId, nodeId: number, uri: FileUri): string {\n    return restUrl(`download/attachment/task/${flowId.urlSerialized()}/${nodeId}/${uri.urlSerialized()}`)\n  }\n\n  export function taskFlowAttachmentDownloadUrl(uri: FileUri): string {\n    return documentRepositoryUri(uri);\n  }\n\n\n  export function supervisorAttachmentDownloadUrl(flowId: AnyFlowId, nodeId: number, cursorVersion: number, uri: FileUri): string {\n    if(flowId instanceof FlowId) {\n      return restUrl(`download/attachment-flow-task-supervisor/${flowId.urlSerialized()}/${nodeId}/${cursorVersion}/${uri.urlSerialized()}`);\n    } else if(flowId instanceof RemoteFlowId) {\n      throw new Error(\"Remote flow not yet supported\");\n    } else {\n      throw new Error(\"Incorrect flowIdType\")\n    }\n  }\n\n  export function flowCommentAttachmentDownloadUrl(flowId: AnyFlowId, uri: FileUri): string {\n    if(flowId instanceof FlowId) {\n      return restUrl(`process-flow/attachment/comment/${flowId.urlSerialized()}/${uri.urlSerialized()}`)\n    } else if(flowId instanceof RemoteFlowId) {\n      throw new Error(\"Remote flow not yet supported\");\n    } else {\n      throw new Error(\"Incorrect flowIdType\")\n    }\n  }\n\n  export function documentRepositoryUri(uri: FileUri): string {\n    return restUrl(`documents/download/${uri.urlSerialized()}`);\n  }\n\n  export function organizationsImageDownloadUrl(uri: FileUri): string {\n    return restUrl(`download/organizations-images/${uri.urlSerialized()}`);\n  }\n\n  export function screenInstanceDownloadUrl(screenInstanceId: ScreenInstanceId, uri: FileUri): string {\n    return restUrl(`download/screen-instance-file/${screenInstanceId.id}/${uri.urlSerialized()}`);\n  }\n\n  export function organizationsLogoDownloadUrl(organizationId: AggregateId): string {\n    return restUrl(`download/organization-logo/${organizationId.id}`);\n  }\n\n  export function businessEntityDownloadUrl(businessEntityId: BusinessEntityId, uri: FileUri): string {\n    return restUrl(`download/business-entity-file/${businessEntityId.id}/${uri.urlSerialized()}`);\n  }\n","\r\nimport {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpResponse} from '@angular/common/http'\r\nimport { Observable } from 'rxjs';\r\nimport {restUrl} from \"../environment\";\r\nimport {i18n} from \"../shared/internationalization/i18n.service\";\r\n  /**\r\n   * Service that provides REST interface to Server Side of the application.\r\n   * It add credential information to request and can handle Unauthorized message.\r\n   * It should be used instead of plain $http service when user authentication is needed.\r\n   */\r\n   @Injectable({\r\n    providedIn: 'root',\r\n  })\r\n  export class AuthenticatedHttp {\r\n\r\n\r\n    constructor(private http: HttpClient) {}\r\n\r\n    private handleRequest(url: string, request: any|null,\r\n                      onSuccess: (data: any, status: any, headers: any) => void,\r\n                      onError: (data: any, status: any, headers: any, xhrStatus: string) => void,\r\n                      secondTry: boolean = false, binary: boolean = false) {\r\n\r\n      // this.sessionServicePromise.then(sessionService => {\r\n      //   const sessionToken = sessionService.sessionToken;\r\n\r\n        const sessionToken = \"\"\r\n\r\n        const promise: Observable<HttpResponse<any>> = request === null\r\n                       ? <any>this.http.get(restUrl(url), this.createAuthorizationHeaderConfig(sessionToken, binary))\r\n                      : <any>this.http.post(restUrl(url), request, this.createAuthorizationHeaderConfig(sessionToken, binary));\r\n\r\n\r\n          // ? this.$http.get(appConfig.restUrl(restUrl), this.createAuthorizationHeaderConfig(sessionService.sessionToken, binary))\r\n          // : this.$http.post(appConfig.restUrl(restUrl), request, this.createAuthorizationHeaderConfig(sessionService.sessionToken, binary));\r\n\r\n\r\n          promise.subscribe({\r\n              next: (result: HttpResponse<any>) => {\r\n                console.log(\"result\");\r\n                onSuccess(result.body, result.status, result.headers);\r\n              },\r\n              error: (reason) => {\r\n                if(reason.status === 401) {\r\n                  if(secondTry) {\r\n                    onError(i18n(\"errors_not_authenticated\"), reason.status, reason.headers, reason.xhrStatus);\r\n                  } else {\r\n                    // sessionService.isAuthenticated(authenticated => {\r\n\r\n                    //   const sessionNotChangedMeanwhile = (sessionToken === sessionService.sessionToken);\r\n                    //   if (sessionNotChangedMeanwhile) {\r\n                    //     sessionService.loginToOrganizationAutomatically(() => {\r\n                    //       this.handleRequest(restUrl, request, onSuccess, onError, true);\r\n                    //     }, () => {\r\n                    //       onError(i18n(\"errors_not_authenticated\"), reason.status, reason.headers, reason.config, reason.xhrStatus);\r\n                    //     });\r\n                    //   } else {\r\n                    //     if (authenticated) {\r\n                    //       this.handleRequest(restUrl, request, onSuccess, onError, true);\r\n                    //     } else {\r\n                    //       onError(i18n(\"errors_not_authenticated\"), reason.status, reason.headers, reason.config, reason.xhrStatus);\r\n                    //     }\r\n                    //   }\r\n                    // });\r\n\r\n                  }\r\n\r\n                } else {\r\n                  if(onError) {\r\n                    onError(reason.data, reason.status, reason.headers, reason.xhrStatus);\r\n                  } else {\r\n                    throw new Error(\"Not implemnted\");\r\n                    // rest.handleError(reason);\r\n                  }\r\n                }\r\n              }\r\n\r\n          });\r\n    }\r\n\r\n\r\n    // private redirectToLoginPage(sessionService) {\r\n    //   sessionService.clearOrganizationSession();\r\n    //   sessionService.clearApplicationSession();\r\n\r\n    //   if (this.$location.path() !== \"/login\") {\r\n    //     sessionService.setLastRequestedUrl(this.$location.path());\r\n    //   }\r\n\r\n    //   if (this.$location.path().indexOf(\"/admin\") !== 0) {\r\n    //     this.$location.url(\"/login\");\r\n    //   } else {\r\n    //     this.$location.url(\"/admin/login\");\r\n    //   }\r\n    // }\r\n\r\n    get<T>(restUrl: string, onSuccess: (data: T) => void, onError: () => void = () => {}) {\r\n      this.handleRequest(restUrl, null,\r\n        (data: any, status: any, headers: any) => onSuccess(data),\r\n        (data: any, status: any, headers: any, xhrStatus: string) => onError());\r\n    }\r\n\r\n    getWithDetailedError<T>(restUrl: string, onSuccess: (data: T) => void, onError: (data: any, status: any, headers: any, xhrStatus: string) => void = () => {}) {\r\n      this.handleRequest(restUrl, null,\r\n        (data: any, status: any, headers: any) => onSuccess(data),\r\n        (data: any, status: any, headers: any, xhrStatus: string) => onError(data, status, headers, xhrStatus));\r\n    }\r\n\r\n    // getPromise<T>(restUrl: string): IPromise<T> {\r\n    //   const deferred = this.$q.defer();\r\n    //   this.handleRequest(restUrl, null,(data: any, status:any, headers:any, config:any) => {\r\n    //     deferred.resolve({ data: data, status: status, headers: headers, config: config});\r\n    //   }, (data:any, status:any, headers:any, config:any, xhrStatus: string) => {\r\n    //     deferred.reject({ data: data, status: status, headers: headers, config: config, xhrStatus: xhrStatus});\r\n    //   });\r\n    //   return deferred.promise;\r\n    // }\r\n\r\n\r\n\r\n    post(restUrl: string, requestData: any, onSuccess: (data: any) => void, onError: (status: number, data: any) => void = () => {}, secondTry: boolean = false, binary: boolean = false) {\r\n      this.handleRequest(restUrl, requestData,\r\n        (data: any, status: any, headers: any) => onSuccess(data),\r\n        (data: any, status: any, headers: any, xhrStatus: string) => onError(status, data),\r\n        secondTry, binary);\r\n    }\r\n\r\n    // postPromise<T>(restUrl: string, requestData: any): IPromise<T> {\r\n    //   const deferred = this.$q.defer();\r\n    //   this.handleRequest(restUrl, requestData,(data: any, status:any, headers:any, config:any) => {\r\n    //     deferred.resolve({ data: data, status: status, headers: headers, config: config});\r\n    //   }, (data:any, status:any, headers:any, config:any, xhrStatus: string) => {\r\n    //     deferred.reject({ data: data, status: status, headers: headers, config: config, xhrStatus: xhrStatus});\r\n    //   });\r\n\r\n    //   return deferred.promise;\r\n    // }\r\n\r\n    createAuthorizationHeaderConfig(sessionToken: string, binary: boolean = false): any {\r\n      if(sessionToken.length === 0) {\r\n        return {\r\n          observe: \"response\",\r\n          responseType: binary ? \"arraybuffer\": \"json\",\r\n          withCredentials: true\r\n        };\r\n\r\n      } else {\r\n        return {\r\n          observe: \"response\",\r\n          headers: {\r\n            'Authorization': sessionToken // if this causes NPE then session initialization needs to be tweaked\r\n          },\r\n          responseType: binary ? \"arraybuffer\": \"json\",\r\n          withCredentials: true\r\n        };\r\n      }\r\n    }\r\n\r\n  }\r\n","import {AggregateId, AggregateVersion} from \"./AggregateId\";\r\nimport {Typed} from \"./Typed\";\r\n\r\nexport class AggregateWrapper<T> {\r\n\r\n    id: AggregateId;\r\n    version: AggregateVersion;\r\n    aggregate: T;\r\n\r\n    constructor(id:AggregateId, version:AggregateVersion, aggregate:T) {\r\n      this.id = id;\r\n      this.version = version;\r\n      this.aggregate = aggregate;\r\n    }\r\n\r\n    static copy<T>(other: AggregateWrapper<T>, aggregateCopier: (aggreage: T) => T): AggregateWrapper<T> {\r\n      return new AggregateWrapper(other.id, other.version, aggregateCopier(other.aggregate));\r\n    }\r\n  }\r\n\r\n\r\n  export class TypedAggregateWrapper<T extends {className():string}> {\r\n\r\n    id:AggregateId;\r\n    version:AggregateVersion;\r\n    aggregate:Typed<T>;\r\n\r\n    constructor(id:AggregateId, version:AggregateVersion, aggregate:Typed<T>) {\r\n      this.id = id;\r\n      this.version = version;\r\n      this.aggregate = aggregate;\r\n    }\r\n\r\n    static copy<T extends {className():string}>(other:TypedAggregateWrapper<T>, copyAggregate:(aggregate: Typed<T>) => Typed<T>) {\r\n      return new TypedAggregateWrapper(other.id, other.version, copyAggregate(other.aggregate));\r\n    }\r\n  }\r\n","/**\r\n * Function for clearing array in place.\r\n */\r\nimport {Typed} from \"./Typed\";\r\n\r\n\r\nexport function clearArray(array: any[]) {\r\n  while(array.length > 0) {\r\n    array.pop();\r\n  }\r\n}\r\n\r\nexport function overwriteArray(dst: any[], src: any[]): void {\r\n  while(dst.length > 0) {\r\n    dst.pop();\r\n  }\r\n  src.forEach(e => dst.push(e));\r\n}\r\n\r\n\r\n/** remove element from given array, element must be in array */\r\nexport function removeFromArray<T>(array: T[], element: T) {\r\n  const index = array.indexOf(element);\r\n  if (index > -1) {\r\n    array.splice(index, 1);\r\n  } else throw new Error(\"element not found at the array\");\r\n}\r\n\r\nexport function createArrayFrom0ToNExclusive(n: number) {\r\n  const numbers: number[] = [];\r\n  for(let i = 0; i< n; i++) {\r\n    numbers.push(i);\r\n  }\r\n  return numbers;\r\n}\r\n\r\nexport function createArray<T>(n: number, element: T) {\r\n  const arr: T[] = [];\r\n  for(let i = 0; i< n; i++) {\r\n    arr.push(element);\r\n  }\r\n  return arr;\r\n}\r\n\r\nexport function indexOfTyped<T extends {className():string}>(arr: Typed<T>[], element: Typed<T>): number {\r\n  if(element) {\r\n    for(let i = 0; i < arr.length; i++) {\r\n      if(Typed.value(arr[i]) === Typed.value(element)) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nexport function randomFrom<T>(arr: T[]): T {\r\n  throw new Error(\"Not implemented\")\r\n  // return arr[_.random(arr.length - 1)];\r\n}\r\n\r\n// works for GridProcessNode, GridProcessEdge, GridProcessActor...\r\nexport function buildIdMap<T extends {id: number}>(elems: T[]): { [id: number]: T} {\r\n  const result: { [id: number]: T} = {};\r\n  elems.forEach(elem => {\r\n    result[elem.id] = elem;\r\n  });\r\n  return result;\r\n}\r\n\r\n\r\nexport function moveElementInArray<T>(array: T[], fromIndex: number, toIndex: number): T[] {\r\n\tif (toIndex >= array.length) {\r\n\t\t// var k = toIndex - array.length;\r\n\t\t// while ((k--) + 1) {\r\n\t\t// \tarray.push(undefined);\r\n\t\t// }\r\n    throw new Error(\"Not implemented\");\r\n\t}\r\n\tarray.splice(toIndex, 0, array.splice(fromIndex, 1)[0]);\r\n\treturn array;\r\n}\r\n\r\n\r\nclass Mutable<T> {\r\n  value: T;\r\n  constructor(value: T) {\r\n    this.value = value;\r\n  }\r\n}\r\n\r\n\r\n\r\n","import {ObjectId} from \"./IdModel\";\r\nimport {VariablePath} from \"./VariablePath\";\r\nimport {Option} from \"./Option\";\r\n\r\nexport class ContextPath {\r\n        constructor(\r\n          readonly context: Option<ObjectId>,\r\n          readonly location: VariablePath\r\n        ) {}\r\n\r\n        static copy(other: ContextPath) {\r\n          return new ContextPath(Option.copy(other.context), VariablePath.copy(other.location));\r\n        }\r\n\r\n        isEqual(other: ContextPath) {\r\n          return this.context.equals(other.context, (a, b) => a.id === b.id) && this.location.isEqual(other.location);\r\n        }\r\n\r\n        isRoot() {\r\n          return this.context.isEmpty() && this.location.isRoot();\r\n        }\r\n\r\n        nonRoot() {\r\n          return this.context.isDefined() || this.location.nonRoot();\r\n        }\r\n\r\n      }\r\n","// export function onEscapeKeyOnce(callback: () => void): any { //returns cancel function\r\n//   const escapeListener = function() {\r\n//     if((<any>event).keyCode === 27) {\r\n//       callback();\r\n//       document.removeEventListener(\"keydown\", escapeListener);\r\n//     }\r\n//   };\r\n//\r\n//   document.addEventListener(\"keydown\", escapeListener);\r\n//\r\n//   // Call this to cancel listening function\r\n//   return function() {\r\n//     document.removeEventListener(\"keydown\", escapeListener);\r\n//   }\r\n// }\r\n\r\nimport {__} from \"./FunctionalExtensions\";\r\n\r\nexport function onFormFocusLost(selections: Array<HTMLElement|string>, callback: (eventTarget?: EventTarget) => void): () => void { //returns cancel function\r\n\r\n  const blurTimeout:number|null = null;\r\n\r\n  const mouseDownListener = function (e: MouseEvent) {\r\n    const target = e.target || e.srcElement;\r\n    if(target !== null) {\r\n      if (isNotInSelections(selections, <Node>target)) {\r\n        callback(target);\r\n        document.removeEventListener(\"mousedown\", mouseDownListener, true);\r\n        document.removeEventListener(\"focus\", focusListener, true);\r\n        // document.removeEventListener(\"blur\", blurListener, true);\r\n      }\r\n      if (blurTimeout != null) {\r\n        clearTimeout(blurTimeout);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  // **** MP - for now we try to listen only on mouse events, this might be sufficient.\r\n  // **** Old code remains here in case we need to handle keyboard based focus loss\r\n  //\r\n\r\n  const focusListener = function (e: FocusEvent) {\r\n    const target = e.target || e.srcElement;\r\n    if(target !== null) {\r\n      if (isNotInSelections(selections, <Node>target)) {\r\n        callback();\r\n        document.removeEventListener(\"mousedown\", mouseDownListener, true);\r\n        document.removeEventListener(\"focus\", focusListener, true);\r\n        // document.removeEventListener(\"blur\", blurListener, true);\r\n      }\r\n      if (blurTimeout != null) {\r\n        clearTimeout(blurTimeout);\r\n      }\r\n    }\r\n  };\r\n  //\r\n  //\r\n  //const blurListener = function () {\r\n  //  const target = event.target;\r\n  //  if(blurTimeout!=null) {\r\n  //    clearTimeout(blurTimeout);\r\n  //  }\r\n  //  if(isNotInSelections(selections,<Node>target)) {\r\n  //    callback();\r\n  //    console.log(\"blur 1\");\r\n  //    document.removeEventListener(\"onmousedown\", clickListener, true);\r\n  //    document.removeEventListener(\"focus\", focusListener, true);\r\n  //    document.removeEventListener(\"blur\", blurListener, true);\r\n  //  } else {\r\n  //    blurTimeout = setTimeout(function() {\r\n  //      callback();\r\n  //      console.log(\"blur 2\");\r\n  //      document.removeEventListener(\"onmousedown\", clickListener, true);\r\n  //      document.removeEventListener(\"focus\", focusListener, true);\r\n  //      document.removeEventListener(\"blur\", blurListener, true);\r\n  //    }, 20);\r\n  //  }\r\n  //};\r\n\r\n  setTimeout(function() {\r\n    document.addEventListener(\"mousedown\", mouseDownListener, true);\r\n    document.addEventListener(\"focus\", focusListener, true);\r\n    //document.addEventListener(\"blur\", blurListener, true);\r\n  }, 20);\r\n\r\n  // Call this to cancel listening function\r\n  return function() {\r\n    if(blurTimeout!==null) {\r\n      clearTimeout(blurTimeout);\r\n    }\r\n    document.removeEventListener(\"mousedown\", mouseDownListener, true);\r\n    document.removeEventListener(\"focus\", focusListener, true);\r\n    //document.removeEventListener(\"blur\", blurListener, true);\r\n  }\r\n\r\n}\r\n//\r\nexport function isNotInSelections(selections: Array<HTMLElement|string>, node: Node) {\r\n  return !__(selections).exists((selection: HTMLElement|string) => {\r\n    if(typeof selection  == \"string\") {\r\n      const containers = document.querySelectorAll(selection);\r\n      for(let i = 0; i < containers.length; i++) {\r\n        if(isIn(node, containers.item(i))) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    } else {\r\n      return isIn(node, selection);\r\n    }\r\n  })\r\n}\r\n//\r\nexport function isIn(element: Node, container: Node): boolean {\r\n  let parent: Node|null = element;\r\n  while(parent !== null) {\r\n    if(parent === container) {\r\n      return true;\r\n    }\r\n    parent = parent.parentNode;\r\n  }\r\n  return false;\r\n}\r\n//\r\n// export function removeAllNodeChildren(node: Node) {\r\n//   while (node.firstChild) {\r\n//     node.removeChild(node.firstChild);\r\n//   }\r\n// }\r\n","import {None, Option, Some} from \"./Option\";\r\n\r\nexport class Either<L, R> {\r\n\r\n  constructor(private readonly left: L|undefined,\r\n              private readonly right: R|undefined) {\r\n  }\r\n\r\n  isLeft() {\r\n    return this.left !== undefined;\r\n  }\r\n\r\n  isRight() {\r\n    return this.right !== undefined;\r\n  }\r\n\r\n  getRight(): R {\r\n      if(this.right !== undefined) {\r\n        return this.right;\r\n      } else {\r\n        throw new Error(\"Not right\");\r\n      }\r\n  }\r\n\r\n  getLeft(): L {\r\n    if(this.left !== undefined) {\r\n      return this.left;\r\n    } else {\r\n      throw new Error(\"Not left\");\r\n    }\r\n  }\r\n\r\n  map<LR, RR>(leftConverter: (left:L) => LR, rightConverter: (right: R) => RR): Either<LR, RR> {\r\n    if(this.left !== undefined) {\r\n      return new Either<LR, RR>(leftConverter(this.left), undefined);\r\n    } else if (this.right !== undefined) {\r\n      return new Either<LR, RR>(undefined, rightConverter(this.right));\r\n    } else {\r\n      throw new Error(\"No left, nor right\");\r\n    }\r\n  }\r\n\r\n  get leftOrRight(): L|R {\r\n    if(this.left !== undefined) {\r\n      return this.left;\r\n    } else if(this.right !== undefined) {\r\n      return this.right;\r\n    } else {\r\n      throw new Error(\"No left, nor right\");\r\n    }\r\n  }\r\n\r\n  static left<L, R>(l: L) {\r\n    return new Either<L, R>(l, undefined);\r\n  }\r\n\r\n  static right<L, R>(r: R) {\r\n    return new Either<L, R>(undefined, r);\r\n  }\r\n\r\n  static copy<L, R>(other: Either<L, R>, copyLeft: (left: L) => L, copyRight: (right: R) => R): Either<L, R> {\r\n    if(other.left !== undefined) {\r\n      return new Either<L, R>(copyLeft(other.left), undefined);\r\n    } else if(other.right !== undefined) {\r\n      return new Either<L, R>(undefined, copyRight(other.right));\r\n    } else {\r\n      throw new Error(\"No left, nor right\");\r\n    }\r\n  }\r\n\r\n  equals(other: Either<L, R>, equalsL: (a: L, b: L) => boolean, equalsR: (a: R, b: R) => boolean) {\r\n    if(this.left !== undefined && other.left !== undefined) {\r\n      return equalsL(this.left, other.left);\r\n    } else if(this.right !== undefined && other.right !== undefined) {\r\n      return equalsR(this.right, other.right);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  leftOption(): Option<L> {\r\n    if(this.left !== undefined) {\r\n      return Some(this.left);\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  rightOption(): Option<R> {\r\n    if(this.right !== undefined) {\r\n      return Some(this.right);\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n}\r\n\r\nexport const Left = Either.left;\r\nexport const Right = Either.right;\r\n","/**\r\n   * It gets position of the element on the page.\r\n   * @param element DOM Node\r\n   */\r\nimport {PositionXY} from \"./PositionXY\";\r\nimport {RectXY} from \"./RectXY\";\r\nimport {Size} from \"./Size\";\r\n\r\n// This visibleBox might be injected when screen is used within an iframe\r\nlet visibleBox: {top: number, bottom: number, left: number, right: number}|undefined = undefined;\r\n\r\nexport function setPageVisibleBox(newVisibleBox: {top: number, bottom: number, left: number, right: number}) {\r\n  visibleBox = newVisibleBox;\r\n}\r\n\r\nexport function getVisibleBox(): {top: number, bottom: number, left: number, right: number} {\r\n\r\n  const windowScroll = getWindowScroll();\r\n\r\n  if(visibleBox === undefined) {\r\n    return {\r\n      top: windowScroll.y,\r\n      bottom: windowScroll.y + window.innerHeight,\r\n      left: windowScroll.x,\r\n      right: windowScroll.x + window.innerWidth\r\n    }\r\n  } else {\r\n    return {\r\n      top: windowScroll.y + visibleBox.top,\r\n      bottom: windowScroll.y + visibleBox.bottom,\r\n      left: windowScroll.x + visibleBox.left,\r\n      right: windowScroll.x + visibleBox.right\r\n    }\r\n  }\r\n}\r\n\r\nexport function getPosition(element: Element|Node):PositionXY {\r\n    const rect = (<any>element).getBoundingClientRect();\r\n    const windowScroll = getWindowScroll();\r\n    return new PositionXY(rect.left + windowScroll.x, rect.top + windowScroll.y);\r\n  }\r\n\r\n  export function  getRelativePosition(element: Element|Node, relativeTo: Element|Node): PositionXY {\r\n    const elementPosition = getPosition(element);\r\n    const relativeToPosition = getPosition(relativeTo);\r\n    return new PositionXY(elementPosition.x - relativeToPosition.x, elementPosition.y - relativeToPosition.y);\r\n  }\r\n\r\n  export function getWindowScroll(): PositionXY {\r\n    const doc = document.documentElement;\r\n    const windowLeftScroll = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\r\n    const windowTopScroll = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\r\n    return new PositionXY(windowLeftScroll, windowTopScroll);\r\n  }\r\n\r\n  export function getElementPositionAndSize(element: Element|Node): RectXY {\r\n    const rect = (<any>element).getBoundingClientRect();\r\n    const windowScroll = getWindowScroll();\r\n    return new RectXY(rect.left + windowScroll.x, rect.top + windowScroll.y, rect.right - rect.left, rect.bottom - rect.top);\r\n  }\r\n\r\n  export function getSize(element: Element|Node):Size {\r\n    const rect = (<any>element).getBoundingClientRect();\r\n    return new Size(rect.right - rect.left, rect.bottom - rect.top);\r\n  }\r\n\r\n  export function getElementHeight(element: Element|Node): number {\r\n    const rect = (<any>element).getBoundingClientRect();\r\n    return rect.bottom - rect.top;\r\n  }\r\n\r\n  export function getElementWidth(element: Element|Node): number {\r\n    const rect = (<any>element).getBoundingClientRect();\r\n    return rect.right - rect.left;\r\n  }\r\n\r\n  let remSize = parseInt(window.getComputedStyle(document.body).fontSize);\r\n  let windowSize = new Size(document.body.clientWidth, window.innerHeight);\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    updateWindowBasedSize();\r\n  });\r\n\r\n  export function updateWindowBasedSize() {\r\n    remSize = parseInt(window.getComputedStyle(document.body).fontSize);\r\n    windowSize = new Size(document.body.clientWidth, window.innerHeight);\r\n  }\r\n\r\n  export function getREMSize(): number {\r\n    return remSize;\r\n  }\r\n\r\n  export function getWindowSize():Size {\r\n    return windowSize;\r\n  }\r\n\r\n  export function getElementCenterPosition(element: Element|Node): PositionXY {\r\n    const position = getPosition(element);\r\n    const size = getSize(element);\r\n    return new PositionXY(position.x + size.width / 2, position.y + size.height / 2);\r\n  }\r\n\r\n  export function getScrollPosition(element: Element|Node): PositionXY {\r\n    return new PositionXY((<any>element).scrollLeft, (<any>element).scrollTop);\r\n  }\r\n\r\n  export function getScrollSize(element: Element|Node): Size {\r\n    return new Size((<any>element).scrollWidth, (<any>element).scrollHeight);\r\n  }\r\n\r\n  export function setScrollYPosition(element: HTMLElement, scrollY: number) {\r\n     element.scrollTop = scrollY;\r\n  }\r\n\r\n  export function setScrollXPosition(element: HTMLElement, scrollX: number) {\r\n    element.scrollLeft = scrollX;\r\n  }\r\n\r\n  export function shiftScrollPosition(element: Element|Node, scrollXShift: number, scrollYShift: number) {\r\n    // const $element = $(element);\r\n    // if(scrollXShift !== 0) {\r\n    //   $element.scrollLeft((<any>element).scrollLeft + scrollXShift);\r\n    // }\r\n    // if(scrollYShift !== 0) {\r\n    //   $element.scrollTop((<any>element).scrollTop + scrollYShift);\r\n    // }\r\n  }\r\n\r\n  export function getCursorRelativePosition(element: Element|Node): PositionXY {\r\n    // const position = d3.mouse(element);\r\n    // return new PositionXY(position[0], position[1]);\r\n    return new PositionXY(0, 0);\r\n  }\r\n\r\n  export function isChildOf(containter: Element, child: Element): boolean {\r\n    // return $(containter).has(child).length > 0;\r\n    return false;\r\n  }\r\n\r\n","\r\nexport interface EventBusInterface {\r\n  on(call: (...params: any[]) => void, callback: (...params: any[]) => void): number;\r\n  unsubscribe(subscription: number): void;\r\n}\r\n\r\nexport class EventBus implements EventBusInterface {\r\n\r\n  private logMessages = false;\r\n  private logStart: number = 0;\r\n  private callbacks: any[][] = [];\r\n  private callbackQueue: any[][] = []; // callback, arguments\r\n  private originals: any[] = [];\r\n  private subscriptionsCounter = 0;\r\n  private subscriptions: [number, number][] = [];\r\n\r\n  constructor() {\r\n\r\n    const methods: string[] = this.getMethods(this);\r\n    const that = this;\r\n\r\n    for(let i = 0; i<methods.length;i++) {\r\n      if(methods[i] !== \"getMethods\" && methods[i] !== \"on\" && methods[i] !== \"init\" && methods[i] !== \"unsubscribe\"\r\n        && methods[i] !== \"turnLoggingOn\" && methods[i] !== \"turnLoggingOff\") {\r\n        let wrapper:any;\r\n        eval(`\r\n        wrapper = function() {\r\n          var callbacksCount = 0;\r\n          for(var p=0;p<that.callbacks[${that.originals.length}].length;p++)\r\n            if(that.callbacks[${that.originals.length}][p]!==undefined) {\r\n              that.callbackQueue.push([that.callbacks[${that.originals.length}][p], arguments]);\r\n              callbacksCount++;\r\n            }\r\n          if(that.logMessages) console.log(\\\"EventBus: \\\"+methods[${that.originals.length}]+\\\" - \\\"+callbacksCount+\\\", \\\"+((new Date().getTime() - that.logStart))+\\\"ms\\\");\r\n          while(that.callbackQueue.length > 0) {\r\n            var callback = that.callbackQueue.shift();\r\n            var callbackStart = new Date().getTime();\r\n            callback[0].apply(that, callback[1]);\r\n            if(that.logMessages) {\r\n              console.log(\\\"Callback for \\\"+methods[${that.originals.length}]+\\\" finished at: \\\"+((new Date().getTime() - that.logStart))+\\\"ms\\\");\r\n              if((new Date().getTime() - callbackStart) > 50) {\r\n                console.log(callback[0]);\r\n              }\r\n            }\r\n\r\n          }\r\n        }`);\r\n        (<any>that)[methods[i]] = wrapper;\r\n        that.callbacks[i] = [];\r\n        that.originals.push(wrapper);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  turnLoggingOn() {\r\n    this.logStart = new Date().getTime();\r\n    this.logMessages = true;\r\n  }\r\n\r\n  turnLoggingOff() {\r\n    this.logMessages = false;\r\n  }\r\n\r\n\r\n  private getMethods(obj: any)\r\n  {\r\n    const res: any[] = [];\r\n    Object.getOwnPropertyNames(Object.getPrototypeOf(obj)).filter(m => m != \"constructor\").forEach(m => {\r\n      if(typeof obj[m] == \"function\") {\r\n        res.push(m)\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n\r\n  on(call: (...params: any[]) => void, callback: (...params: any[]) => void): number {\r\n\r\n    const index = this.originals.indexOf(<any>call);\r\n    this.callbacks[index].push(callback);\r\n\r\n    const subscription = this.subscriptionsCounter;\r\n    this.subscriptionsCounter++;\r\n\r\n    this.subscriptions[subscription] = [index, this.callbacks[index].length - 1];\r\n    return subscription;\r\n  }\r\n\r\n  unsubscribe(subscription: number): void {\r\n    this.callbacks[this.subscriptions[subscription][0]][this.subscriptions[subscription][1]] = undefined;\r\n  }\r\n\r\n}\r\n\r\n","import {None, Option} from \"./Option\";\r\nimport {Typed} from \"./Typed\";\r\nimport {BusinessVariableType, BusinessVariableTypeFactory} from \"./ProcessVariables\";\r\n\r\nexport class ExpressionWithAst {\r\n\r\n        constructor(public expression: string,\r\n                    public returnType: Option<Typed<BusinessVariableType>>) {}\r\n\r\n        static empty() {\r\n          return new ExpressionWithAst(\"\", None());\r\n        }\r\n\r\n        static of(expression: string) {\r\n          return new ExpressionWithAst(expression, None());\r\n        }\r\n\r\n        trim() {\r\n          const result = new ExpressionWithAst(this.expression.trim(), this.returnType);\r\n          return result;\r\n        }\r\n\r\n        isEmpty() {\r\n          return this.expression.trim().length === 0;\r\n        }\r\n\r\n        nonEmpty() {\r\n          return this.expression.trim().length > 0;\r\n        }\r\n\r\n        static copy(other: ExpressionWithAst) {\r\n          return new ExpressionWithAst(other.expression, Option.copy(other.returnType).map(t => BusinessVariableTypeFactory.copyTyped(t)));\r\n        }\r\n\r\n        static copyOptional(other: Option<ExpressionWithAst>) {\r\n          return Option.copy(other).map(ExpressionWithAst.copy);\r\n        }\r\n\r\n        isEqual(other: ExpressionWithAst) {\r\n          return this.expression == other.expression && this.returnType.equals(other.returnType);\r\n        }\r\n\r\n        static isEqual(that: ExpressionWithAst, other: ExpressionWithAst) {\r\n          return that.expression == other.expression && that.returnType.equals(other.returnType);\r\n        }\r\n      }\r\n","import {DirectoryId, EmailId, FileId} from \"./IdModel\";\nimport {encodeFilePath} from \"./Strings\";\nimport {AggregateId, AnyFlowId, FlowId} from \"./AggregateId\";\nimport {None, Option, Some} from \"./Option\";\n\nexport class UriTaskFormFieldInfo {\n    constructor(readonly flowId: AnyFlowId,\n                readonly nodeId: number,\n                readonly uri: FileUri,\n                readonly formSectionRefId: number,\n                readonly fieldRefId: number,\n                readonly contextObjectId: Option<string>) {}\n  }\n\n  export class UriFlowInfo {\n\n    constructor(readonly flowId: AnyFlowId,\n                readonly uri: FileUri) {}\n  }\n\n  export class FileProtocol {\n    constructor(readonly name: string) {}\n\n    static InternalFile = new FileProtocol(\"internal\");\n    static RepositoryFile = new FileProtocol(\"file\");\n    static RepositoryFileId = new FileProtocol(\"fileId\");\n    static RepositoryDir = new FileProtocol(\"dir\");\n    static RepositoryDirId = new FileProtocol(\"dirId\");\n    static Https = new FileProtocol(\"https\");\n    static Http = new FileProtocol(\"http\");\n    static EmailId = new FileProtocol(\"emailId\");\n    static EmailAttachment = new FileProtocol(\"emailAttachment\");\n\n    // Authorization providers\n    static Report = new FileProtocol(\"report\");\n    static Flow = new FileProtocol(\"flow\");\n    static TaskFormField = new FileProtocol(\"taskFormField\");\n    static Mailbox = new FileProtocol(\"mailbox\");\n\n    static copy(other: FileProtocol) {\n      switch(other.name) {\n        case FileProtocol.InternalFile.name: return FileProtocol.InternalFile;\n        case FileProtocol.RepositoryFile.name: return FileProtocol.RepositoryFile;\n        case FileProtocol.RepositoryDir.name: return FileProtocol.RepositoryDir;\n        case FileProtocol.RepositoryFileId.name: return FileProtocol.RepositoryFileId;\n        case FileProtocol.RepositoryDirId.name: return FileProtocol.RepositoryDirId;\n        case FileProtocol.Https.name: return FileProtocol.Https;\n        case FileProtocol.Http.name: return FileProtocol.Http;\n        case FileProtocol.Report.name: return FileProtocol.Report;\n        case FileProtocol.Flow.name: return FileProtocol.Flow;\n        case FileProtocol.TaskFormField.name: return FileProtocol.TaskFormField;\n        case FileProtocol.Mailbox.name: return FileProtocol.Mailbox;\n        case FileProtocol.EmailId.name: return FileProtocol.EmailId;\n        case FileProtocol.EmailAttachment.name: return FileProtocol.EmailAttachment;\n        default: throw new Error(\"Unsupported file variable protocol [\" + other.name+\"]\");\n      }\n    }\n\n    static parse(protocol: string) {\n      return FileProtocol.copy(new FileProtocol(protocol));\n    }\n  }\n\n  export class FileUri {\n    constructor(readonly protocol: FileProtocol, readonly path: string) {}\n\n\n    internalFileId() {\n      if(this.protocol.name === FileProtocol.InternalFile.name) {\n        return parseInt(this.path);\n      } else {\n        throw new Error(\"No fileId for [\" + this.protocol.name+\"]\");\n      }\n    }\n\n    isAnyFile(): boolean {\n      return this.isInternalFile() || this.isRepositoryFile() || this.isRepositoryFileId() || this.isReport() || this.isFlow() || this.isTaskFormField() || this.isEmailAttachment();\n    }\n\n    isAnyDir(): boolean {\n      return this.isRepositoryDir() || this.isRepositoryDirId();\n    }\n\n    isInternalFile(): boolean {\n      return this.protocol.name === FileProtocol.InternalFile.name;\n    }\n\n    isRepositoryFile(): boolean {\n      return this.protocol.name === FileProtocol.RepositoryFile.name;\n    }\n\n    isRepositoryFileId(): boolean {\n      return this.protocol.name === FileProtocol.RepositoryFileId.name;\n    }\n\n    isRepositoryDir(): boolean {\n      return this.protocol.name === FileProtocol.RepositoryDir.name;\n    }\n\n    isRepositoryDirId(): boolean {\n      return this.protocol.name === FileProtocol.RepositoryDirId.name;\n    }\n\n\n    isReport(): boolean {\n      return this.protocol.name === FileProtocol.Report.name;\n    }\n\n\n    isTaskFormField(): boolean {\n      return this.protocol.name === FileProtocol.TaskFormField.name;\n    }\n\n    isMailbox(): boolean {\n      return this.protocol.name === FileProtocol.Mailbox.name;\n    }\n\n    isFlow(): boolean {\n      return this.protocol.name === FileProtocol.Flow.name;\n    }\n\n    isEmail() {\n      return this.protocol.name === FileProtocol.EmailId.name;\n    }\n\n    isEmailAttachment() {\n      return this.protocol.name === FileProtocol.EmailAttachment.name;\n    }\n\n    isHttpFile() {\n      return this.protocol.name === FileProtocol.Http.name;\n    }\n\n    isHttpsFile() {\n      return this.protocol.name === FileProtocol.Https.name;\n    }\n\n    static copy(other: FileUri) {\n      return new FileUri(FileProtocol.copy(other.protocol), other.path);\n    }\n\n    isEqual(other: FileUri) {\n      return this.protocol === other.protocol &&\n        this.path === other.path;\n    }\n\n    serialize() {\n      return this.protocol.name+\"://\"+this.path;\n    }\n\n    static fromEmail({id}: { id: EmailId }): FileUri {\n      return new FileUri(FileProtocol.EmailId, id.id);\n    }\n\n    static fromEmailAttachment(id: EmailId, attachmentId: number): FileUri {\n      return new FileUri(FileProtocol.EmailAttachment, id.id+\"/\"+attachmentId);\n    }\n\n    static fromDirectoryId(id: DirectoryId): FileUri {\n      return new FileUri(FileProtocol.RepositoryDirId, id.id.id);\n    }\n\n    static fromFileId(id: FileId): FileUri {\n      return new FileUri(FileProtocol.RepositoryFileId, id.id.id);\n    }\n\n    static fromDirectoryPath(path: string): FileUri {\n      return new FileUri(FileProtocol.RepositoryDir, path);\n    }\n\n    static fromFilePath(path: string): FileUri {\n      return new FileUri(FileProtocol.RepositoryFile, path);\n    }\n\n    static fromEmailId(id: EmailId): FileUri {\n      return new FileUri(FileProtocol.EmailId, id.id);\n    }\n\n    static taskFormField(uri: FileUri, flowId: AnyFlowId, nodeId: number, formSectionRefId: number, fieldRefId: number, contextObjectId: Option<string>): FileUri {\n      return new FileUri(FileProtocol.TaskFormField, flowId.urlSerialized()+\"/\"+nodeId+\"/\"+formSectionRefId+\"/\"+fieldRefId+\"/\"+contextObjectId.getOrElse(\"_\")+\"/\"+uri.protocol.name+\"/\"+uri.path);\n    }\n\n    static flow(uri: FileUri, flowId: AnyFlowId): FileUri {\n      return new FileUri(FileProtocol.Flow, flowId.urlSerialized()+\"/\"+uri.protocol.name+\"/\"+uri.path);\n    }\n\n    static mailbox(uri: FileUri, mailbox: AggregateId): FileUri {\n      return new FileUri(FileProtocol.Mailbox, mailbox.id+\"/\"+uri.protocol.name+\"/\"+uri.path);\n    }\n\n    static parse(uri: string) {\n      const uriSplitted = uri.split(\"://\").filter(s => s.trim().length > 0);\n      if(uriSplitted.length == 2) {\n        return new FileUri(FileProtocol.parse(uriSplitted[0]), uriSplitted[1])\n      } else {\n        throw new Error(\"Incorrect file Uri [\" + uri + \"]\");\n      }\n    }\n\n    urlSerialized() {\n      if(this.path.indexOf(\"/\") == 0) {\n        return this.protocol.name+\"/\"+encodeFilePath(this.path.substring(1));\n      } else {\n        return this.protocol.name+\"/\"+encodeFilePath(this.path);\n      }\n\n    }\n\n    getTaskFormFieldInfo() {\n      if(this.isTaskFormField()) {\n        const first = this.path.indexOf(\"/\");\n        const second = this.path.substring(first + 1).indexOf(\"/\") + first + 1;\n        const third = this.path.substring(second + 1).indexOf(\"/\") + second + 1;\n        const forth = this.path.substring(third + 1).indexOf(\"/\") + third + 1;\n        const fifth = this.path.substring(forth + 1).indexOf(\"/\") + forth + 1;\n        const sixth = this.path.substring(fifth + 1).indexOf(\"/\") + fifth + 1;\n        const flowId = FlowId.parseFromUri(this.path.substring(0, first));\n        const nodeId = parseInt(this.path.substring(first + 1, second));\n\n        const sectionRefId = parseInt(this.path.substring(second + 1, third));\n        const fieldRefId = parseInt(this.path.substring(third + 1, forth));\n        const contextObjectId = this.path.substring(forth + 1, fifth) == \"_\" ? None() : Some(this.path.substring(forth + 1, fifth));\n\n        const subProtocol = this.path.substring(fifth + 1, sixth)\n        const uri = new FileUri(FileProtocol.copy(new FileProtocol(subProtocol)), this.path.substring(sixth + 1))\n\n        return new UriTaskFormFieldInfo(flowId, nodeId, uri, sectionRefId, fieldRefId, contextObjectId)\n      } else {\n        throw new Error(\"Not a task uri\")\n      }\n    }\n\n    getFlowInfo() {\n      if(this.isFlow()) {\n        const first = this.path.indexOf(\"/\");\n        const second = this.path.substring(first + 1).indexOf(\"/\") + first + 1;\n        const flowId = new FlowId(this.path.substring(0, first));\n        const subProtocol = this.path.substring(first + 1, second);\n        const uri = new FileUri(FileProtocol.copy(new FileProtocol(subProtocol)), this.path.substring(second + 1));\n        return new UriFlowInfo(flowId, uri)\n      } else {\n        throw new Error(\"Not a flow uri\")\n      }\n    }\n  }\n","import {None, Option, Some} from \"./Option\";\r\n\r\nclass FunctionalExtensions<T> {\r\n\r\n  private _value: T[];\r\n\r\n  constructor(value: T[]) {\r\n    this._value = value;\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this._value.length === 0;\r\n  }\r\n\r\n  value(): T[] {\r\n    return this._value;\r\n  }\r\n\r\n  find(predicate: (value: T, index: number) => boolean, fromIndex: number = 0, beforeIndex: number = this._value.length): Option<T> {\r\n    for (let i = fromIndex; i < beforeIndex; i++) {\r\n      if(predicate(this._value[i], i)) {\r\n        return Some(this._value[i]);\r\n      }\r\n    }\r\n    return None();\r\n  }\r\n\r\n  findIndexOf(predicate: (value: T) => boolean, fromIndex: number = 0, beforeIndex: number = this._value.length): Option<number> {\r\n    for (let i = fromIndex; i < beforeIndex; i++) {\r\n      if(predicate(this._value[i])) {\r\n        return Some(i);\r\n      }\r\n    }\r\n    return None();\r\n  }\r\n\r\n  findLastIndexOf(predicate: (value: T) => boolean, fromIndex: number = 0, beforeIndex: number = this._value.length): Option<number> {\r\n    for (let i = beforeIndex - 1; i >= fromIndex; i--) {\r\n      if(predicate(this._value[i])) {\r\n        return Some(i);\r\n      }\r\n    }\r\n    return None();\r\n  }\r\n\r\n  all(predicate: (value: T, index: number) => boolean): boolean {\r\n    return this._value.every((v,i) => predicate(v, i));\r\n  }\r\n\r\n  exists(predicate: (value: T, index: number) => boolean): boolean {\r\n    for (let i = 0; i < this._value.length; i++) {\r\n      if(predicate(this._value[i], i)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  notExists(predicate: (value: T, index: number) => boolean): boolean {\r\n    return !this.exists(predicate);\r\n  }\r\n\r\n  contains(value: T): boolean {\r\n    return this.find(v => v === value).isDefined();\r\n  }\r\n\r\n  notContains(value: T): boolean {\r\n    return !this.contains(value);\r\n  }\r\n\r\n  count(predicate: (value: T, index: number) => boolean): number {\r\n    let count = 0;\r\n    for(let i = 0; i < this._value.length; i++) {\r\n      if(predicate(this._value[i], i)) {\r\n        count++;\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  filter(predicate: (value: T, index: number) => boolean): T[] {\r\n    return this._value.filter((v, i) => predicate(v, i));\r\n  }\r\n\r\n  filterNot(predicate: (value: T, index: number) => boolean): T[] {\r\n    return this._value.filter((v, i) => !predicate(v, i));\r\n  }\r\n\r\n  remove(value: T): T[] {\r\n    return this._value.filter(v => v !== value);\r\n  }\r\n\r\n  sum(): number {\r\n    if(this._value.length === 0) {\r\n      return 0;\r\n    } else {\r\n      return 0;\r\n      // return _(this._value).reduce((acc: number, val: any) => acc + val);\r\n    }\r\n  }\r\n\r\n  min(): number {\r\n    if(this._value.length === 0) {\r\n      throw new Error(\"Unable to find min in empty array\");\r\n    } else {\r\n      let min: number = <number><unknown>this._value[0];\r\n      for(let i = 1; i < this._value.length; i++) {\r\n        if((<number><unknown>this._value[i]) < min) {\r\n          min = <number><unknown>this._value[i];\r\n        }\r\n      }\r\n      return min;\r\n    }\r\n  }\r\n\r\n  max(): number {\r\n    if(this._value.length === 0) {\r\n      throw new Error(\"Unable to find max in empty array\");\r\n    } else {\r\n      let max: number = <number><unknown>this._value[0];\r\n      for(let i = 1; i < this._value.length; i++) {\r\n        if((<number><unknown>this._value[i]) > max) {\r\n          max = <number><unknown>this._value[i];\r\n        }\r\n      }\r\n      return max;\r\n    }\r\n  }\r\n\r\n  minOrDefault(defaultMax: number): number {\r\n    if(this._value.length === 0) {\r\n      return defaultMax;\r\n    } else {\r\n      let min: number = <number><unknown>this._value[0];\r\n      for(let i = 1; i < this._value.length; i++) {\r\n        if((<number><unknown>this._value[i]) < min) {\r\n          min = <number><unknown>this._value[i];\r\n        }\r\n      }\r\n      return min;\r\n    }\r\n  }\r\n\r\n  maxOrDefault(defaultMax: number): number {\r\n    if(this._value.length === 0) {\r\n      return defaultMax;\r\n    } else {\r\n      let max: number = <number><unknown>this._value[0];\r\n      for(let i = 1; i < this._value.length; i++) {\r\n        if((<number><unknown>this._value[i]) > max) {\r\n          max = <number><unknown>this._value[i];\r\n        }\r\n      }\r\n      return max;\r\n    }\r\n  }\r\n\r\n  forEach<R>(callback: (value: T) => R): void {\r\n    return this._value.forEach(v => callback(v));\r\n  }\r\n  map<R>(transform: (value: T) => R): R[] {\r\n    return this._value.map(v => transform(v));\r\n  }\r\n\r\n  flatMap<R>(transform: (value: T, index: number) => R[]): R[] {\r\n    return this._value.map((v, index) => transform(v, index)).flat();\r\n  }\r\n\r\n  groupBy<GROUP>(groupByFunction: (element: T) => GROUP): Array<[GROUP, T[]]> {\r\n    const grouped:[GROUP, T[]][] = [];\r\n\r\n    this._value.forEach((element: T) => {\r\n      const groupValue = groupByFunction(element);\r\n      const bucket: [GROUP, T[]] = grouped.filter(e => e[0] === groupValue)[0];\r\n      if(bucket) {\r\n        bucket[1].push(element);\r\n      } else {\r\n        grouped.push([groupValue, [element]])\r\n      }\r\n    });\r\n\r\n    return grouped;\r\n  }\r\n\r\n  /**\r\n   * Returns stable sorted copy of array.\r\n   */\r\n  sortBy(value: (element: T) => any): T[] {\r\n    return this._value;//_.sortBy(this._value, value);\r\n  }\r\n\r\n  sortByStringsContentAware(value: (element: T) => string): T[] {\r\n    const copy = this._value.slice();\r\n    copy.sort((a, b) => value(a).localeCompare(value(b), undefined, {numeric: true, sensitivity: 'base'}));\r\n    return copy;\r\n  }\r\n\r\n  sortByStringsContentAwareInPlace(value: (element: T) => string): void {\r\n    this._value.sort((a, b) => value(a).localeCompare(value(b), undefined, {numeric: true, sensitivity: 'base'}));\r\n  }\r\n\r\n  // sumOf<R>(transform: (value: T) => number, defaultSum: number = 0): number {\r\n  //   return _(this._value).reduce((acc: number, val: T) => acc + transform(val), defaultSum);\r\n  // }\r\n\r\n  first(): T {\r\n    if(this._value.length > 0) {\r\n      return this._value[0];\r\n    } else {\r\n      throw new Error(\"Unable to get first element from empty array!\");\r\n    }\r\n  }\r\n\r\n  rest(): T[] {\r\n    if(this._value.length > 0) {\r\n      return this._value.slice(1);\r\n    } else {\r\n      throw new Error(\"Unable to get rest from empty array!\");\r\n    }\r\n  }\r\n\r\n  init(): T[] {\r\n    if(this._value.length > 0) {\r\n      return this._value.slice(0, this._value.length - 1);\r\n    } else {\r\n      throw new Error(\"Unable to get init from empty array!\");\r\n    }\r\n  }\r\n\r\n  firstOption(): Option<T> {\r\n    if(this._value.length > 0) {\r\n      return Some(this._value[0]);\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  last(): T {\r\n    if(this._value.length > 0) {\r\n      return this._value[this._value.length - 1];\r\n    } else {\r\n      throw new Error(\"Unable to get last element from empty array!\");\r\n    }\r\n  }\r\n\r\n  lastOption(): Option<T> {\r\n    if(this._value.length > 0) {\r\n      return Some(this._value[this._value.length - 1]);\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  unique(): T[] {\r\n    // return _.uniq(this._value);\r\n    return this._value;\r\n  }\r\n\r\n  uniqueBy(value: (element: T) => string): T[] {\r\n    const seen: {[key: string]: boolean} = {};\r\n\r\n    return this._value.filter(v => {\r\n      const by = value(v);\r\n      if(seen[by]) {\r\n        return false;\r\n      } else {\r\n        seen[by] = true;\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  // zipWithIndex(): Array<[T, number]> {\r\n  //   return _.map(this._value, (value, index) => <[T, number]> [value, index]);\r\n  // }\r\n\r\n  // equals(other: Array<T>, predicate: (a: T, b: T) => boolean = (a, b) => a === b) {\r\n  //   return this._value.length == other.length && __(_.range(this._value.length)).all(i => predicate(this._value[i], other[i]));\r\n  // }\r\n}\r\n\r\nclass WrappingFunctionalExtensions<T> {\r\n\r\n  private _value: T[];\r\n  private wrapped: FunctionalExtensions<T>;\r\n\r\n  constructor(value: T[]) {\r\n    this._value = value;\r\n    this.wrapped = new FunctionalExtensions(value);\r\n  }\r\n\r\n  /**\r\n   * Returns stable sorted copy of array.\r\n   */\r\n  sortBy(value: (element: T) => any): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.sortBy(value));\r\n  }\r\n\r\n  sortByStringsContentAware(value: (element: T) => string): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.sortByStringsContentAware(value));\r\n  }\r\n\r\n  sortByStringsContentAwareInPlace(value: (element: T) => string): WrappingFunctionalExtensions<T> {\r\n    this.wrapped.sortByStringsContentAwareInPlace(value);\r\n    return this;\r\n  }\r\n\r\n  uniqueBy(value: (element: T) => string): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.uniqueBy(value));\r\n  }\r\n\r\n  value(): T[] {\r\n    return this._value;\r\n  }\r\n\r\n  sum(): number {\r\n    // return this.wrapped.sum();\r\n    return 0;\r\n  }\r\n\r\n  min(): number {\r\n    return this.wrapped.min();\r\n  }\r\n\r\n  max(): number {\r\n    return this.wrapped.max();\r\n  }\r\n\r\n  minOrDefault(defaultValue: number): number {\r\n    return this.wrapped.minOrDefault(defaultValue);\r\n  }\r\n\r\n  maxOrDefault(defaultValue: number): number {\r\n    return this.wrapped.maxOrDefault(defaultValue);\r\n  }\r\n\r\n  // sumOf<R>(transform: (value: T) => number, defaultSum: number = 0): number {\r\n  //   return this.wrapped.sumOf(t => transform(t), defaultSum);\r\n  // }\r\n\r\n  forEach(callback: (value: T) => void): WrappingFunctionalExtensions<T> {\r\n    this.wrapped.forEach(v => callback(v))\r\n    return this;\r\n  }\r\n\r\n  map<R>(transform: (value: T) => R): WrappingFunctionalExtensions<R> {\r\n    return ___(this.wrapped.map(v => transform(v)));\r\n  }\r\n\r\n  flatMap<R>(transform: (value: T) => R[]): WrappingFunctionalExtensions<R> {\r\n    return ___(this.wrapped.flatMap(v => transform(v)));\r\n  }\r\n\r\n  first(): T {\r\n    return this.wrapped.first();\r\n  }\r\n\r\n  rest(): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.rest());\r\n  }\r\n\r\n  init(): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.init());\r\n  }\r\n\r\n  last(): T {\r\n    return this.wrapped.last();\r\n  }\r\n\r\n  firstOption(): Option<T> {\r\n    return this.wrapped.firstOption();\r\n  }\r\n\r\n  lastOption(): Option<T> {\r\n    return this.wrapped.lastOption();\r\n  }\r\n\r\n  find(predicate: (value: T) => boolean): Option<T> {\r\n    return this.wrapped.find(v => predicate(v));\r\n  }\r\n\r\n  findIndexOf(predicate: (value: T) => boolean): Option<number> {\r\n    return this.wrapped.findIndexOf(v => predicate(v));\r\n  }\r\n\r\n  all(predicate: (value: T) => boolean): boolean {\r\n    return this.wrapped.all(v => predicate(v));\r\n  }\r\n\r\n  exists(predicate: (value: T) => boolean): boolean {\r\n    return this.wrapped.exists(v => predicate(v));\r\n  }\r\n\r\n  notExists(predicate: (value: T) => boolean): boolean {\r\n    return this.wrapped.notExists(v => predicate(v));\r\n  }\r\n\r\n  contains(value: T): boolean {\r\n    return this.wrapped.contains(value);\r\n  }\r\n\r\n  notContains(value: T): boolean {\r\n    return this.wrapped.notContains(value);\r\n  }\r\n\r\n  count(predicate: (value: T) => boolean): number {\r\n    return this.wrapped.count(v => predicate(v));\r\n  }\r\n\r\n  filter(predicate: (value: T) => boolean): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.filter(v => predicate(v)));\r\n  }\r\n\r\n  filterNot(predicate: (value: T) => boolean): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.filterNot(v => predicate(v)));\r\n  }\r\n\r\n  remove(value: T): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.remove(value));\r\n  }\r\n\r\n  groupBy<R>(groupByFunction: (element: T) => R): WrappingFunctionalExtensions<[R, Array<T>]> {\r\n    return ___(this.wrapped.groupBy(e => groupByFunction(e)));\r\n  }\r\n\r\n  unique(): WrappingFunctionalExtensions<T> {\r\n    return ___(this.wrapped.unique());\r\n  }\r\n\r\n  // zipWithIndex(): WrappingFunctionalExtensions<[T, number]> {\r\n  //   return ___(this.wrapped.zipWithIndex())\r\n  // }\r\n}\r\n\r\nexport function __<T>(wrapped: T[]): FunctionalExtensions<T> {\r\n  return new FunctionalExtensions<T>(wrapped);\r\n}\r\n\r\nexport function ___<T>(wrapped: T[]): WrappingFunctionalExtensions<T> {\r\n  return new WrappingFunctionalExtensions<T>(wrapped);\r\n}\r\n","\r\nconst entityMap: {[character: string]: string} = {\r\n  \"&\": \"&amp;\",\r\n  \"<\": \"&lt;\",\r\n  \">\": \"&gt;\",\r\n  '\"': '&quot;',\r\n  \"'\": '&#39;',\r\n  \"/\": '&#x2F;'\r\n};\r\n\r\nexport function htmlEscape(html: string) {\r\n  return String(html).replace(/[&<>\"'\\/]/g, (s: string) => entityMap[s]);\r\n}\r\n\r\nexport function unescape(html: string) {\r\n  const e = document.createElement('div');\r\n  e.innerHTML = html;\r\n  return e.childNodes.length === 0 ? \"\" : e.childNodes[0].nodeValue;\r\n}\r\n\r\nexport function isHtmlContent(content: string): boolean {\r\n  return /<[a-z][\\s\\S]*>/i.test(content);\r\n}\r\n","import {Language} from \"./Language\";\r\nimport {__} from \"./FunctionalExtensions\";\r\nimport {Option} from \"./Option\";\r\n\r\nfunction i18nLanguage() {\r\n    return \"pl\";\r\n  }\r\n\r\n  export class I18nText {\r\n    constructor(public value: Array<[string, string]>) {\r\n    }\r\n\r\n    static pl(text: string) {\r\n      const value: Array<[string, string]> = [];\r\n      value.push([Language.PL.name, text]);\r\n      return new I18nText(value);\r\n    }\r\n\r\n    static en(text: string) {\r\n      const value: Array<[string, string]> = [];\r\n      value.push([Language.EN.name, text]);\r\n      return new I18nText(value);\r\n    }\r\n\r\n    static ofCurrent(text: string) {\r\n      const value: Array<[string, string]> = [];\r\n      if(text.trim().length > 0) {\r\n        value.push([i18nLanguage(), text]);\r\n      }\r\n      return new I18nText(value);\r\n    }\r\n\r\n    static ofLanguage(language: Language, text: string) {\r\n      const value: Array<[string, string]> = [];\r\n      value.push([language.name, text]);\r\n      return new I18nText(value);\r\n    }\r\n\r\n    getCurrentWithFallback(): string {\r\n      return this.getWithFallback(Language.of(i18nLanguage()))\r\n    }\r\n\r\n    getCurrent(): Option<string> {\r\n      return this.get(Language.of(i18nLanguage()));\r\n    }\r\n\r\n    getWithFallback(language: Language): string {\r\n      return this.get(language).getOrElseLazy(() => {\r\n        if (this.value.length === 0) {\r\n          return \"\";\r\n        } else {\r\n          let fallback: string | null = null;\r\n          if (language.isPL()) {\r\n            fallback = this.get(Language.EN).getOrNull();\r\n          } else {\r\n            fallback = this.get(Language.PL).getOrNull();\r\n          }\r\n          if (fallback == null) {\r\n            if(this.value[0][1]) {\r\n              return this.value[0][1];\r\n            } else {\r\n              return \"\";\r\n            }\r\n          } else {\r\n            return fallback;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    get(language: Language): Option<string> {\r\n      return __(this.value).find(e => e[0] === language.name).filter(a => a[1].trim().length > 0).map(a => a[1]);\r\n    }\r\n\r\n    static empty() {\r\n      return new I18nText([]);\r\n    }\r\n\r\n    static copy(other: I18nText) {\r\n      return new I18nText(other.value.map(v => <[string, string]>[v[0], v[1]]));\r\n    }\r\n\r\n    set(language: Language, text: string) {\r\n      this.value = __(this.value).filterNot(e => e[0] === language.name);\r\n      if (text.trim().length > 0) {\r\n        this.value.push(<[string, string]>[language.name, text.trim()]);\r\n      }\r\n    }\r\n\r\n    deleteText(language: Language) {\r\n      this.value = __(this.value).filterNot(e => e[0] === language.name);\r\n    }\r\n\r\n    ofPL(): string {\r\n      return this.getWithFallback(Language.PL);\r\n    }\r\n\r\n    ofEN(): string {\r\n      return this.getWithFallback(Language.EN);\r\n    }\r\n\r\n    notEmpty() {\r\n      return __(this.value).exists(e => e[1].length > 0);\r\n    }\r\n\r\n\r\n    isEmpty() {\r\n      return __(this.value).all(e => e[1].length === 0);\r\n    }\r\n\r\n    fallbackLanguage(): Language {\r\n      if (this.get(Language.PL).isDefined()) {\r\n        return Language.PL;\r\n      } else if (this.get(Language.EN).isDefined()) {\r\n        return Language.EN;\r\n      } else {\r\n        return Language.EN;\r\n      }\r\n    }\r\n\r\n    static of(plText: Option<string>, enText: Option<string>): I18nText {\r\n      const text = new I18nText([]);\r\n      if(plText.isDefined()) {\r\n        text.set(Language.PL, plText.get());\r\n      }\r\n      if(enText.isDefined()) {\r\n        text.set(Language.EN, enText.get());\r\n      }\r\n      return text;\r\n    }\r\n\r\n    static create(value: string) {\r\n      return undefined;\r\n    }\r\n\r\n\r\n    notEqual(other: I18nText): boolean {\r\n      return !this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: I18nText): boolean {\r\n      if(other.value.length !== this.value.length) {\r\n        return false;\r\n      } else if(other === this) {\r\n        return true;\r\n      } else {\r\n        return __(other.value).all(entry => {\r\n          return this.value.filter(v => v[0] === entry[0] && v[1] === entry[1]).length === 1;\r\n        });\r\n      }\r\n    }\r\n\r\n    trim() {\r\n      return new I18nText(this.value.map((v: [string, string]) => <[string, string]>[v[0], v[1].trim()]));\r\n    }\r\n\r\n    setCurrent(text: string) {\r\n\r\n      const currentLanguage = Language.of(i18nLanguage());\r\n\r\n      if(text.trim().length > 0) {\r\n        this.set(currentLanguage, text);\r\n      } else {\r\n        const index = __(this.value).findIndexOf(a => a[0] == currentLanguage.name);\r\n        if(index.isDefined()) {\r\n          this.value.splice(index.get(), 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    languages(): Array<Language> {\r\n      return this.value.map(l => Language.of(l[0]));\r\n    }\r\n\r\n    toCsvValue() {\r\n      return __(this.value).map(v => \"{\"+this.escapeCurlyBrackets(v[0])+\"}\"+this.escapeCurlyBrackets(v[1])).join(\"\");\r\n    }\r\n\r\n    private escapeCurlyBrackets(text: string) {\r\n      return text.replace(\"{\", \"#123;\").replace(\"}\", \"#125;\")\r\n    }\r\n  }\r\n","import {randomAlphanumeric} from \"./RandomUtil\";\nimport {AggregateId} from \"./AggregateId\";\n\nexport class ApplicationId {\n    private readonly _ApplicationId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new ApplicationId(aggregateId.id);\n    }\n\n    static copy(other: ApplicationId) {\n      return new ApplicationId(other.id);\n    }\n\n  }\n\n\n  export class ProcessId {\n    private readonly _ProcessId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: AggregateId){}\n  }\n\n  export class OrganizationId {\n    private readonly _OrganizationId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new OrganizationId(aggregateId.id);\n    }\n\n    static copy(other: OrganizationId) {\n      return new OrganizationId(other.id);\n    }\n\n  }\n\n  export class GroupId {\n\n    private readonly _GroupId: undefined; // force TypeScript to check types (workaround for duck typing)\n\n    constructor(readonly id: AggregateId){}\n\n    static copy(other: GroupId): GroupId {\n      return new GroupId(AggregateId.copy(other.id));\n    }\n  }\n\n  export class DepartmentId {\n\n    private readonly _DepartmentId: undefined; // force TypeScript to check types (workaround for duck typing)\n\n    constructor(readonly id: AggregateId){}\n\n    static copy(other: DepartmentId): DepartmentId {\n      return new DepartmentId(AggregateId.copy(other.id));\n    }\n  }\n\n  export class WidgetId {\n    private readonly _WidgetId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {\n    }\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new WidgetId(aggregateId.id);\n    }\n\n    static copy(other: WidgetId) {\n      return new WidgetId(other.id);\n    }\n  }\n\n\n  export class WidgetReleaseId {\n    private readonly _WidgetReleaseId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {\n    }\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new WidgetReleaseId(aggregateId.id);\n    }\n\n    static copy(other: WidgetReleaseId) {\n      return new WidgetReleaseId(other.id);\n    }\n  }\n\n  export interface RepositoryNodeId {\n    id: AggregateId;\n  }\n\n  export class DirectoryId implements RepositoryNodeId {\n    constructor(readonly id: AggregateId) {}\n  }\n\n  export class FileId implements RepositoryNodeId{\n    constructor(readonly id: AggregateId) {}\n\n    equals(other: FileId) {\n      return FileId.equals(this, other);\n    }\n\n    static equals(fileId: FileId, other: FileId) {\n      return fileId.id.id === other.id.id;\n    }\n\n    static copy(other: FileId) {\n      return new FileId(other.id);\n    }\n  }\n\n  export class DocumentTypeId {\n    constructor(readonly id: AggregateId) {\n    }\n\n    static copy(other: DocumentTypeId) {\n      return new DocumentTypeId(AggregateId.copy(other.id));\n    }\n  }\n\n\n\n  export class FunctionsId {\n    private readonly _FunctionsId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new FunctionsId(aggregateId.id);\n    }\n    static copy(other: FunctionsId) {\n      return new FunctionsId(other.id);\n    }\n  }\n\n\n  export class FunctionsReleaseId {\n    private readonly _FunctionsReleaseId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new FunctionsReleaseId(aggregateId.id);\n    }\n    static copy(other: FunctionsReleaseId) {\n      return new FunctionsReleaseId(other.id);\n    }\n  }\n\n  export class MailboxId {\n    private readonly _MailboxId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new MailboxId(aggregateId.id);\n    }\n\n    static copy(other: MailboxId) {\n      return new MailboxId(other.id);\n    }\n\n    equals(other: MailboxId) {\n      return this.id === other.id;\n    }\n  }\n\n\n  export class EmailId {\n    private readonly _EmailId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new EmailId(aggregateId.id);\n    }\n\n    static copy(other: EmailId) {\n      return new EmailId(other.id);\n    }\n\n    equals(other: EmailId) {\n      return this.id === other.id;\n    }\n  }\n\n  export class VariableId {\n    private readonly _VariableId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n\n    static copy(other: VariableId) {\n      return new VariableId(other.id);\n    }\n  }\n\n  export class ObjectId {\n    private readonly _ObjectId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n\n    static copy(other: ObjectId) {\n      return new ObjectId(other.id);\n    }\n\n    static next() {\n      return new ObjectId(randomAlphanumeric(16));\n    }\n  }\n\n  export class BusinessEntityTypeId {\n    private readonly _BusinessEntityTypeId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n    toAggregateId() { return new AggregateId(this.id); }\n    static fromAggregateId(aggregateId: AggregateId) { return new BusinessEntityTypeId(aggregateId.id); }\n    static copy(other: BusinessEntityTypeId) { return new BusinessEntityTypeId(other.id); }\n  }\n\n  export class BusinessEntityTypeReleaseId {\n    private readonly _BusinessEntityTypeReleaseId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n    toAggregateId() { return new AggregateId(this.id); }\n    static fromAggregateId(aggregateId: AggregateId) { return new BusinessEntityTypeReleaseId(aggregateId.id); }\n    static copy(other: BusinessEntityTypeReleaseId) { return new BusinessEntityTypeReleaseId(other.id); }\n  }\n\n  export class BusinessEntityId {\n    constructor(readonly id: string) {}\n    toAggregateId() { return new AggregateId(this.id); }\n    static fromAggregateId(aggregateId: AggregateId) { return new BusinessEntityId(aggregateId.id); }\n    static copy(other: BusinessEntityId) { return new BusinessEntityId(other.id); }\n  }\n\n  export class ScreenReleaseId {\n    private readonly _ScreenReleaseId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new ScreenReleaseId(aggregateId.id);\n    }\n\n    static copy(other: ScreenReleaseId) {\n      return new ScreenReleaseId(other.id);\n    }\n\n  }\n\n  export class AutomaticActionId {\n    private readonly _AutomaticActionId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: number) {}\n\n    static copy(other: AutomaticActionId) {\n      return new AutomaticActionId(other.id);\n    }\n  }\n\n  export class AutomaticActionRefId {\n    private readonly _AutomaticActionRefId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: number) {}\n\n    static copy(other: AutomaticActionRefId) {\n      return new AutomaticActionRefId(other.id);\n    }\n  }\n\n\n  export class ScreenInstanceId {\n    private readonly _ScreenInstanceId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n    static copy(other: ScreenInstanceId) {\n      return new ScreenInstanceId(other.id);\n    }\n  }\n\n  export class WidgetInstanceId {\n    private readonly _WidgetInstanceId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string) {}\n    static copy(other: WidgetInstanceId) {\n      return new WidgetInstanceId(other.id);\n    }\n  }\n\n  export class ReportReleaseId {\n    private readonly _ReportReleaseId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new ReportReleaseId(aggregateId.id);\n    }\n    static copy(other: ReportReleaseId) {\n      return new ReportReleaseId(other.id);\n    }\n  }\n\n\n  export class ApplicationComponentType {\n    static process = \"process\";\n    static entity = \"entity\";\n    static screen = \"screen\";\n    static dictionary = \"dictionary\";\n  }\n\n  export class ApplicationComponentId {\n    constructor(readonly id: string,\n                readonly tpe: string) {}\n\n    static copy(other: ApplicationComponentId) {\n      return new ApplicationComponentId(other.id, other.tpe);\n    }\n\n    static ofScreenId(screenId: ScreenId) {\n      return new ApplicationComponentId(screenId.id, ApplicationComponentType.screen);\n    }\n  }\n\n  export class ScreenId {\n    private readonly _ScreenId: undefined; // force TypeScript to check types (workaround for duck typing)\n    constructor(readonly id: string){}\n\n    toAggregateId() {\n      return new AggregateId(this.id);\n    }\n\n    static fromAggregateId(aggregateId: AggregateId) {\n      return new ScreenId(aggregateId.id);\n    }\n\n    static copy(other: ScreenId) {\n      return new ScreenId(other.id);\n    }\n\n  }\n","\r\n\r\nconst depolonization: Array<[string, string]> = [\r\n  ['ą', 'a'],\r\n  ['ć', 'c'],\r\n  ['ę', 'e'],\r\n  ['ł', 'l'],\r\n  ['ń', 'n'],\r\n  ['ó', 'o'],\r\n  ['ś', 's'],\r\n  ['ż', 'z'],\r\n  ['ź', 'z'],\r\n  ['Ą', 'A'],\r\n  ['Ć', 'C'],\r\n  ['Ę', 'E'],\r\n  ['Ł', 'L'],\r\n  ['Ń', 'N'],\r\n  ['Ó', 'O'],\r\n  ['Ś', 'S'],\r\n  ['Ż', 'Z'],\r\n  ['Ź', 'Z']\r\n];\r\n\r\nexport function depolonizeLowerCase(text: string): string {\r\n  return depolonize(text).toLocaleLowerCase();\r\n}\r\n\r\nexport function depolonize(text: string): string {\r\n  let result = text;\r\n  depolonization.forEach((substitution: [string, string]) => {\r\n    result = result.replace(substitution[0], substitution[1]);\r\n  });\r\n  return result;\r\n}\r\n\r\n\r\n\r\nfunction spaceIfNonBreakingSpace(separator: string) {\r\n  if(separator == '\\xa0') {\r\n    return \" \";\r\n  } else {\r\n    return separator;\r\n  }\r\n}\r\n\r\nconst whitespaceRegexp = new RegExp(String.fromCharCode(160), \"g\");\r\nexport function nbspToSpace(text: string) {\r\n  return text.replace(whitespaceRegexp, \" \");\r\n}\r\n\r\nexport const decimalSeparator = (1.1).toLocaleString()[1];\r\n\r\nfunction findThousandSeparator() {\r\n  const stringified = (1000000).toLocaleString();\r\n  if(stringified.length > 7) {\r\n    return spaceIfNonBreakingSpace(stringified[1]);\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\nexport const thousandSeparator = findThousandSeparator();\r\n","export class Language {\r\n\r\n  static PL = new Language(\"pl\");\r\n  static EN = new Language(\"en\");\r\n  static DEFAULT = Language.PL;\r\n\r\n  constructor(readonly name: string) {}\r\n\r\n  static of(language: string): Language {\r\n    switch (language) {\r\n      case 'pl': return Language.PL;\r\n      case 'en': return Language.EN;\r\n      default: throw new Error(\"Language not supported! [\" + language +\"]\");\r\n    }\r\n  }\r\n\r\n  static byName(language: string): Language {\r\n    switch (language) {\r\n      case Language.PL.name: return Language.PL;\r\n      case Language.EN.name: return Language.EN;\r\n      default: throw new Error(\"Language not supported! [\" + language +\"]\");\r\n    }\r\n  }\r\n\r\n  isPL() {\r\n    return this.name === Language.PL.name;\r\n  }\r\n}\r\n\r\n","import {Typed} from \"./Typed\";\r\n\r\nexport interface MultiTypeInput {\r\n    className(): string;\r\n    value: any;\r\n\r\n    valueToExpressionString(): string;\r\n    isEmpty(): boolean;\r\n    searchableText(): string;\r\n  }\r\n\r\n  export class TextInputType implements MultiTypeInput {\r\n    static className = \"TextInputType\";\r\n    className(): string {\r\n      return TextInputType.className;\r\n    }\r\n\r\n    constructor(public value: string) {}\r\n\r\n    valueToExpressionString(): string {\r\n      return `\"${this.value.replace(/\\n/g,\"\\\\n\").replace(/\"/g, \"\\\\\\\"\")}\"`\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    static empty() {\r\n      return new TextInputType(\"\");\r\n    }\r\n\r\n    static label = \"multiTypeInput_text\"\r\n\r\n    searchableText(): string {\r\n      return this.value;\r\n    }\r\n  }\r\n\r\n  export class FormFieldInputType implements MultiTypeInput {\r\n    static className = \"FormFieldInputType\";\r\n    className(): string {\r\n      return FormFieldInputType.className;\r\n    }\r\n\r\n    constructor(public value: string) {}\r\n\r\n    valueToExpressionString(): string {\r\n      return this.value;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    static empty() {\r\n      return new FormFieldInputType(\"\");\r\n    }\r\n\r\n    static label = \"multiTypeInput_formField\"\r\n\r\n    searchableText(): string {\r\n      return this.value;\r\n    }\r\n  }\r\n\r\n  export class ScriptInputType implements MultiTypeInput {\r\n    static className = \"ScriptInputType\";\r\n    className(): string {\r\n      return ScriptInputType.className;\r\n    }\r\n\r\n    constructor(public value: string) {}\r\n\r\n    valueToExpressionString(): string {\r\n      return this.value;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    static label = \"multiTypeInput_expression\"\r\n\r\n    searchableText(): string {\r\n      return this.value;\r\n    }\r\n  }\r\n\r\n  export class RoleInputType implements MultiTypeInput {\r\n    static className = \"RoleInputType\";\r\n    className(): string {\r\n      return ScriptInputType.className;\r\n    }\r\n\r\n    constructor(public value: string) {}\r\n\r\n    valueToExpressionString(): string {\r\n      return `\"${this.value}\"`;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    static empty() {\r\n      return new RoleInputType(\"\");\r\n    }\r\n\r\n    static label = \"multiTypeInput_role\"\r\n\r\n    searchableText(): string {\r\n      return this.value;\r\n    }\r\n  }\r\n\r\n\r\n  export class MultiTypeInputFactory {\r\n    static copy(input: MultiTypeInput): MultiTypeInput {\r\n      return MultiTypeInputFactory.copyByType(input, input.className());\r\n    }\r\n\r\n    static copyTyped(variable: Typed<MultiTypeInput>): Typed<MultiTypeInput> {\r\n      return Typed.of(MultiTypeInputFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n    }\r\n\r\n    static copyByType(input: MultiTypeInput, className: string): MultiTypeInput {\r\n      switch (className) {\r\n        case TextInputType.className: return new TextInputType(<string>input.value);\r\n        case FormFieldInputType.className: return new FormFieldInputType(<string>input.value);\r\n        case ScriptInputType.className: return new ScriptInputType(<string>input.value);\r\n        case RoleInputType.className: return new RoleInputType(<string>input.value);\r\n\r\n        default:\r\n          throw new Error(\"Unsupported variable class: \" + className + \", variable: \" + JSON.stringify(input));\r\n      }\r\n    }\r\n  }\r\n","  export function compareNumbers(a: number, b: number): number {\r\n\r\n    if(a > b) {\r\n      return 1;\r\n    } else if(a === b) {\r\n      return 0;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  export function formatTruncated(a: number): string {\r\n    const intPart = trunc(a);\r\n    const numberOfIntDigits = Math.abs(intPart).toString().length;\r\n    const maximumSignificantDigits = Math.max(numberOfIntDigits + 2, 3);\r\n    return a.toLocaleString([],{maximumSignificantDigits: maximumSignificantDigits})\r\n  }\r\n\r\n  function trunc(v: number): number {\r\n    v = +v;\r\n    return (v - v % 1)   ||   (!isFinite(v) || v === 0 ? v : v < 0 ? -0 : 0);\r\n  }\r\n","/**\n * Value holder for a value that can be present or not. Based on Scala's Option or Java 8 Optional.\n */\nexport class Option<T> {\n\n  value: T | undefined;\n\n  static NoneSingleton = None();\n\n  constructor(value:T | undefined) {\n    if (value == null) {\n      this.value = undefined;\n    } else {\n      this.value = value;\n    }\n  }\n\n  getOrUndefined() {\n    return this.value;\n  }\n\n  getOrNull() {\n    if(this.value == undefined) {\n      return null;\n    } else {\n      return this.value;\n    }\n  }\n\n\n  get(): T {\n    if (this.value === undefined) {\n      throw new Error(\"Trying to get value from None\");\n    } else {\n      return <T>this.value;\n    }\n  }\n\n  isDefined() {\n    return this.value !== undefined;\n  }\n\n  isEmpty() {\n    return this.value === undefined;\n  }\n\n  map<R>(converter: (value:T) => R):Option<R> {\n    if(this.value === undefined) {\n      return None();\n    } else {\n      return new Option<R>(converter(this.value));\n    }\n  }\n\n  flatMap<R>(converter: (value:T) => Option<R>):Option<R> {\n    if (this.value === undefined) {\n      return None();\n    } else {\n      return converter(this.value);\n    }\n  }\n\n  flatMapZip<R>(converter: (value:T) => Option<R>):Option<[T, R]> {\n    if(this.value === undefined) {\n      return None();\n    } else {\n      return converter(this.value).map(v => <[T, R]>[this.value, v]);\n    }\n  }\n\n  filter(filter: (value: T) => boolean): Option<T> {\n    if (this.value !== undefined && filter(this.value)) {\n      return this;\n    } else {\n      return None();\n    }\n  }\n\n  forEach(apply: (value: T) => void): void {\n    if (this.value !== undefined) {\n      apply(this.value);\n    }\n  }\n\n  toArray(): T[] {\n    if (this.value !== undefined) {\n      return [this.value];\n    } else {\n      return [];\n    }\n  }\n\n  whenPresent(callback: (value:T) => void):Option<T> {\n    if (this.value !== undefined) {\n      callback(this.value);\n    }\n    return this\n  }\n\n  whenNotPresent(callback: () => void):Option<T> {\n    if (!this.value !== undefined) {\n      callback();\n    }\n    return this;\n  }\n\n  orElse(otherValue: Option<T>): Option<T> {\n    if (this.value !== undefined) {\n      return this;\n    } else {\n      return otherValue;\n    }\n  }\n\n  orElseLazy(otherValue: () => Option<T>): Option<T> {\n    if (this.value !== undefined) {\n      return this;\n    } else {\n      return otherValue();\n    }\n  }\n\n  getOrElse(otherValue: T): T {\n    if (this.value !== undefined) {\n      return this.value;\n    } else {\n      return otherValue;\n    }\n  }\n\n  getOrElseLazy(otherValue: () => T): T {\n    if (this.value !== undefined) {\n      return this.value;\n    } else {\n      return otherValue();\n    }\n  }\n\n  getOrError(message: string): T {\n    if (this.value !== undefined) {\n      return this.value;\n    } else {\n      throw new Error(message);\n    }\n  }\n\n  contains(value: T): boolean {\n    if (this.value !== undefined) {\n      return this.value === value;\n    } else {\n      return false;\n    }\n  }\n\n  exists(predicate: (value: T) => boolean): boolean {\n    if (this.value !== undefined) {\n      return predicate(this.value);\n    } else {\n      return false;\n    }\n  }\n\n  existsNot(predicate: (value: T) => boolean): boolean {\n    return !this.exists(predicate);\n  }\n\n\n  equals(other: Option<T>, equal: (a: T, b: T) => boolean = (a: T, b: T) => a === b) {\n    return this.value === undefined && other.value === undefined ||\n        this.value !== undefined && other.value !== undefined && equal(this.value, other.value);\n  }\n\n  notEquals(other: Option<T>, equal: (a: T, b: T) => boolean = (a: T, b: T) => a === b) {\n    return !this.equals(other, equal);\n  }\n\n  static of<E>(value:E|undefined|null): Option<E> {\n    return new Option<E>(value !== null && value !== undefined ? value : undefined);\n  }\n\n  static ofArray<E>(value:Array<E>): Option<E> {\n    if(value.length == 0) {\n      return None();\n    } else if(value.length === 1) {\n      return Some(value[0]);\n    } else {\n      throw new Error(\"Cannot create optional from array with \" + value.length+\" elements. Must be empty or has single element.\");\n    }\n  }\n\n  static copy<T>(other: Option<T>, contentCopy: (value: T) => T = T => T):Option<T>  {\n    if(other.value === undefined || other.value === null) {\n      return new Option<T>(undefined);\n    } else {\n      return new Option<T>(contentCopy(other.value));\n    }\n  }\n}\n\nexport function None() {\n  return new Option<any>(undefined);\n}\n\nexport function Some<E>(value:E) {\n  return new Option<E>(value);\n}\n\n\nexport function findOption<T>(array: T[], pred: (t: T) => boolean): Option<T> {\n  return Option.of<T>(array.find(p => pred(p)));\n}\n","import {ApplicationId, DepartmentId, GroupId, ScreenId} from \"./IdModel\";\nimport {Typed} from \"./Typed\";\nimport {AggregateId} from \"./AggregateId\";\n\nexport interface AnyPersonId {\n    className(): string;\n    serialize(): string;\n    asPersonId(): PersonId;\n    asRemotePersonId(): RemotePersonId;\n    equals(person: AnyPersonId): boolean;\n    isPersonId(): boolean;\n    isRemotePersonId(): boolean;\n  }\n\n  export class AnyPersonHelper {\n\n    static equals(a: AnyPersonId, b: AnyPersonId): boolean {\n      if(a instanceof PersonId && b instanceof PersonId) {\n        return a.id.id === b.id.id;\n      } else if(a instanceof RemotePersonId && b instanceof RemotePersonId) {\n        return a.id === b.id && a.remoteOrganization === b.remoteOrganization;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  export class AnyPersonIdFactory {\n    static copyTyped(id: Typed<AnyPersonId>): Typed<AnyPersonId> {\n      switch(Typed.className(id)) {\n        case PersonId.className: return Typed.of(PersonId.copy(<PersonId>Typed.value(id)));\n        case RemotePersonId.className: return Typed.of(RemotePersonId.copy(<RemotePersonId>Typed.value(id)));\n        default: throw new Error(\"Unsupported type [\"+Typed.className(id)+\"]\");\n      }\n    }\n\n    static copy(id: AnyPersonId): AnyPersonId {\n      switch(id.className()) {\n        case PersonId.className: return PersonId.copy(<PersonId>id);\n        case RemotePersonId.className: return RemotePersonId.copy(<RemotePersonId>id);\n        default: throw new Error(\"Unsupported type [\"+id.className()+\"]\");\n      }\n\n    }\n  }\n\n\n  export class RemotePersonId implements AnyPersonId {\n    static className = \"RemotePersonId\";\n\n    className(): string {\n      return RemotePersonId.className;\n    }\n\n    constructor(readonly remoteOrganization: string,\n                readonly id: string) {}\n\n    static copy(other: RemotePersonId): RemotePersonId {\n      return new RemotePersonId(other.remoteOrganization, other.id);\n    }\n\n    asPersonId(): PersonId {\n      throw new Error(\"Not a local person\");\n    }\n\n    asRemotePersonId(): RemotePersonId {\n      return this;\n    }\n\n    equals(person: AnyPersonId): boolean {\n      return AnyPersonHelper.equals(this, person);\n    }\n\n    serialize(): string {\n      return this.remoteOrganization+\"_\"+this.id;\n    }\n\n    isPersonId(): boolean {\n      return false;\n    }\n\n    isRemotePersonId(): boolean {\n      return true;\n    }\n  }\n\n  export class PersonId implements AnyPersonId {\n        static className = \"PersonId\";\n\n    private readonly _PersonId: undefined; // force TypeScript to check types (workaround for duck typing)\n\n    className(): string {\n      return PersonId.className;\n    }\n\n    constructor(public id: AggregateId){}\n\n    static unique(ids: PersonId[]): PersonId[] {\n      const uIds: PersonId[] = [];\n\n      ids.forEach(id => {\n        if(uIds.filter(uId => uId.id.id === id.id.id).length === 0) {\n          uIds.push(id);\n        }\n      });\n\n      return uIds;\n    }\n\n    static ANONYMOUS = new PersonId(new AggregateId(\"up8odosmhrys\"))\n\n    static copy(other: PersonId): PersonId {\n      return new PersonId(AggregateId.copy(other.id));\n    }\n\n    static webClient(): PersonId {\n      return new PersonId(new AggregateId(\"WebClient\"));\n    }\n\n    static isWebClient(personId: PersonId): boolean {\n      return AnyPersonHelper.equals(personId, PersonId.webClient())\n    }\n\n    serialize(): string {\n      return this.id.id;\n    }\n\n    asPersonId(): PersonId {\n      return this;\n    }\n\n    asRemotePersonId(): RemotePersonId {\n      throw new Error(\"Not a remote person\");\n    }\n\n    equals(person: AnyPersonId): boolean {\n      return AnyPersonHelper.equals(this, person);\n    }\n\n    isPersonId(): boolean {\n      return true;\n    }\n\n    isRemotePersonId(): boolean {\n      return false;\n    }\n\n  }\n\n\n\n\n\n\n\n  export class OrganizationNodeType {\n    constructor(readonly name: string) {}\n\n    static copy(other: OrganizationNodeType): OrganizationNodeType {\n      switch (other.name) {\n        case OrganizationNodeType.person.name: return OrganizationNodeType.person;\n        case OrganizationNodeType.department.name: return OrganizationNodeType.department;\n        case OrganizationNodeType.group.name: return OrganizationNodeType.group;\n        case OrganizationNodeType.remoteOrganization.name: return OrganizationNodeType.remoteOrganization;\n        case OrganizationNodeType.process.name: return OrganizationNodeType.process;\n        case OrganizationNodeType.report.name: return OrganizationNodeType.report;\n        case OrganizationNodeType.application.name: return OrganizationNodeType.application;\n        case OrganizationNodeType.flow.name: return OrganizationNodeType.flow;\n        case OrganizationNodeType.screen.name: return OrganizationNodeType.screen;\n        case OrganizationNodeType.functions.name: return OrganizationNodeType.functions;\n        default: throw new Error(\"Unsupported node type [\"+other.name+\"]\");\n      }\n    }\n\n    static person = new OrganizationNodeType(\"person\");\n    static department = new OrganizationNodeType(\"department\");\n    static group = new OrganizationNodeType(\"group\");\n    static remoteOrganization = new OrganizationNodeType(\"remoteOrganization\");\n    static process = new OrganizationNodeType(\"process\");\n    static report = new OrganizationNodeType(\"report\");\n    static application = new OrganizationNodeType(\"application\");\n    static flow = new OrganizationNodeType(\"flow\");\n    static screen = new OrganizationNodeType(\"screen\");\n    static functions = new OrganizationNodeType(\"functions\");\n\n  }\n\n\n\n  export class OrganizationNodeId {\n\n    private personId: PersonId|undefined = undefined; // ? Where is it used ?\n\n    constructor(readonly id: AggregateId, readonly nodeType: OrganizationNodeType) {}\n\n    static copy(other: OrganizationNodeId) {\n      return new OrganizationNodeId(other.id, OrganizationNodeType.copy(other.nodeType))\n    }\n\n    // static fromNode(node: OrganizationNode) {\n    //   if (node.isDepartment() || node.isOrganization()) {\n    //     return this.fromDepartmentId(node.id);\n    //   } else if (node.isPerson()) {\n    //     return this.fromPersonId(node.id);\n    //   } else if (node.isGroup()) {\n    //     return this.fromGroupId(node.id);\n    //   } else {\n    //     throw new Error(\"Undefined parent node type detected\");\n    //   }\n    // }\n\n    static equals(a: OrganizationNodeId, b: OrganizationNodeId): boolean {\n      return a.id.id === b.id.id && a.nodeType.name === b.nodeType.name;\n    }\n\n    static fromDepartmentId(departmentId: AggregateId) {\n      return new OrganizationNodeId(departmentId, OrganizationNodeType.department);\n    }\n\n    static fromPersonId(personId: AggregateId) {\n      return new OrganizationNodeId(AggregateId.copy(personId), OrganizationNodeType.person);\n    }\n\n    static fromGroupId(groupId: AggregateId) {\n      return new OrganizationNodeId(groupId, OrganizationNodeType.group);\n    }\n\n    static fromApplicationId(applicationId: ApplicationId) {\n      return new OrganizationNodeId(new AggregateId(applicationId.id), OrganizationNodeType.application);\n    }\n\n    static fromScreenId(screenId: ScreenId) {\n      return new OrganizationNodeId(new AggregateId(screenId.id), OrganizationNodeType.application);\n    }\n\n    isPerson() {\n      return this.nodeType.name === OrganizationNodeType.person.name;\n    }\n\n    isDepartment() {\n      return this.nodeType.name === OrganizationNodeType.department.name;\n    }\n\n    isGroup() {\n      return this.nodeType.name === OrganizationNodeType.group.name;\n    }\n\n    isRemoteOrganization() {\n      return this.nodeType.name === OrganizationNodeType.remoteOrganization.name;\n    }\n\n    isProcess() {\n      return this.nodeType.name === OrganizationNodeType.process.name;\n    }\n\n    isReport() {\n      return this.nodeType.name === OrganizationNodeType.report.name;\n    }\n\n    isApplication() {\n      return this.nodeType.name === OrganizationNodeType.application.name;\n    }\n\n    isScreen() {\n      return this.nodeType.name === OrganizationNodeType.screen.name;\n    }\n\n    isFlow() {\n      return this.nodeType.name === OrganizationNodeType.flow.name;\n    }\n\n    asPerson() {\n      if(this.personId == undefined) {\n        if(this.nodeType.name === OrganizationNodeType.person.name) {\n          this.personId =  new PersonId(this.id);\n        } else {\n          throw new Error(\"Not a person\");\n        }\n      }\n      return this.personId;\n    }\n\n\n    asGroup() {\n      if(this.nodeType.name === OrganizationNodeType.group.name) {\n        return new GroupId(this.id);\n      } else {\n        throw new Error(\"Not a group\");\n      }\n    }\n\n    asDepartment() {\n      if(this.nodeType.name === OrganizationNodeType.department.name) {\n        return new DepartmentId(this.id);\n      } else {\n        throw new Error(\"Not a person\");\n      }\n    }\n\n    equals(other: OrganizationNodeId) {\n      return this.id.id === other.id.id && this.nodeType.name === other.nodeType.name;\n    }\n  }\n","/**\r\n * Immutable value holder for pixel coordinates.\r\n */\r\nimport {Size} from \"./Size\";\r\nimport {ShiftXY} from \"./ShiftXY\";\r\n\r\nexport class PositionXY {\r\n\r\n  constructor(readonly x:number, readonly y:number) {}\r\n\r\n\r\n  /**\r\n   * It returns new Position instance with coordinates shifted by given value.\r\n   */\r\n  shift(shift: ShiftXY) {\r\n    return new PositionXY(this.x + shift.x, this.y + shift.y);\r\n  }\r\n\r\n  shiftXY(shiftX: number, shiftY: number) {\r\n    return new PositionXY(this.x + shiftX, this.y + shiftY);\r\n  }\r\n\r\n  minus(other: PositionXY) {\r\n    return new Size(this.x - other.x, this.y - other.y);\r\n  }\r\n\r\n  minusToPosition(other: PositionXY) {\r\n    return new PositionXY(this.x - other.x, this.y - other.y);\r\n  }\r\n\r\n  plusToPosition(other: PositionXY) {\r\n    return new PositionXY(this.x + other.x, this.y + other.y);\r\n  }\r\n\r\n  scale(scale: number) {\r\n    return new PositionXY(this.x * scale, this.y * scale);\r\n  }\r\n\r\n  isEqual(other: PositionXY) {\r\n    return this.x === other.x && this.y === other.y;\r\n  }\r\n\r\n  nonEqual(other: PositionXY) {\r\n    return !this.isEqual(other);\r\n  }\r\n}\r\n\r\n","import {None, Option} from \"@libs/Option\";\r\nimport {ExpressionWithAst} from \"@libs/Expressions\";\r\nimport {Typed} from \"@libs/Typed\";\r\n\r\nexport interface BusinessVariableValidation {\r\n  className(): string;\r\n}\r\n\r\nexport class StringValidationConfiguration {\r\n  constructor(public title: string, public mask: string, public regex: string) {}\r\n}\r\n\r\nexport class StringVariableValidationType {\r\n  constructor(public name: string) {}\r\n\r\n  static AnyValidationType = new StringVariableValidationType(\"AnyValidationType\");\r\n  static CustomType = new StringVariableValidationType(\"CustomType\");\r\n  static PeselType = new StringVariableValidationType(\"PeselType\");\r\n  static PostalCodeType = new StringVariableValidationType(\"PostalCodeType\");\r\n  static EmailType = new StringVariableValidationType(\"EmailType\");\r\n  static NIPCodeType = new StringVariableValidationType(\"NIPCodeType\");\r\n  static BankAccountNumberType = new StringVariableValidationType(\"BankAccountNumberType\");\r\n\r\n\r\n  static validationTypes: StringVariableValidationType[] = [\r\n    StringVariableValidationType.AnyValidationType,\r\n    StringVariableValidationType.CustomType,\r\n    StringVariableValidationType.PeselType,\r\n    StringVariableValidationType.PostalCodeType,\r\n    StringVariableValidationType.EmailType,\r\n    StringVariableValidationType.NIPCodeType,\r\n    StringVariableValidationType.BankAccountNumberType\r\n  ];\r\n\r\n  static ofName(name: string) {\r\n    switch (name) {\r\n      case StringVariableValidationType.AnyValidationType.name: return StringVariableValidationType.AnyValidationType;\r\n      case StringVariableValidationType.CustomType.name: return StringVariableValidationType.CustomType;\r\n      case StringVariableValidationType.PeselType.name: return StringVariableValidationType.PeselType;\r\n      case StringVariableValidationType.PostalCodeType.name: return StringVariableValidationType.PostalCodeType;\r\n      case StringVariableValidationType.EmailType.name: return StringVariableValidationType.EmailType;\r\n      case StringVariableValidationType.NIPCodeType.name: return StringVariableValidationType.NIPCodeType;\r\n      case StringVariableValidationType.BankAccountNumberType.name: return StringVariableValidationType.BankAccountNumberType;\r\n      default: throw new Error(\"Incorrect validation type name [\" + name + \"]\");\r\n    }\r\n  }\r\n\r\n  static configurationFor(name: string): StringValidationConfiguration {\r\n    switch (name) {\r\n      case StringVariableValidationType.CustomType.name: return new StringValidationConfiguration(\"formsEditor_string_custom\", \"\", \"\");\r\n      case StringVariableValidationType.AnyValidationType.name: return new StringValidationConfiguration(\"formsEditor_string_any\", \"\", \"\"); // \\s\\S instead of dot to match multiline strings);\r\n      case StringVariableValidationType.PeselType.name: return new StringValidationConfiguration(\"formsEditor_string_pesel\", \"99999999999\", \"\");\r\n      case StringVariableValidationType.PostalCodeType.name: return new StringValidationConfiguration(\"formsEditor_string_postal_code\", \"99-999\", \"\");\r\n      case StringVariableValidationType.EmailType.name: return new StringValidationConfiguration(\"formsEditor_string_postal_email\", \"\", \"\");\r\n      case StringVariableValidationType.NIPCodeType.name: return new StringValidationConfiguration(\"formsEditor_string_nip\", \"\", \"\");\r\n      case StringVariableValidationType.BankAccountNumberType.name: return new StringValidationConfiguration(\"formsEditor_string_bank_account_number\", \"\",\"\");\r\n      default: throw new Error(\"Incorrect validation type [\"+name+\"]\");\r\n    }\r\n  }\r\n\r\n  static copy(other: StringVariableValidationType): StringVariableValidationType {\r\n    return new StringVariableValidationType(other.name);\r\n  }\r\n}\r\n\r\nexport class StringVariableValidation implements BusinessVariableValidation {\r\n\r\n  static className = \"StringVariableValidation\";\r\n\r\n  className() {\r\n    return StringVariableValidation.className;\r\n  }\r\n\r\n  constructor(public validationType: StringVariableValidationType = StringVariableValidationType.AnyValidationType,\r\n              public regex: Option<string> = None(),\r\n              public mask: Option<string> = None()) {}\r\n\r\n  static copy(other: StringVariableValidation) {\r\n    return new StringVariableValidation(other.validationType, Option.copy(other.regex), Option.copy(other.mask));\r\n  }\r\n}\r\n\r\nexport class NumberVariableValidation implements BusinessVariableValidation {\r\n  static className = \"NumberVariableValidation\";\r\n  className() {\r\n    return NumberVariableValidation.className;\r\n  }\r\n\r\n  constructor(public minValue: Option<number>, public maxValue: Option<number>) {}\r\n\r\n  static copy(other: NumberVariableValidation) {\r\n    return new NumberVariableValidation(Option.copy(other.minValue), Option.copy(other.maxValue));\r\n  }\r\n}\r\n\r\n\r\nexport class BooleanVariableValidation implements BusinessVariableValidation {\r\n  static className = \"BooleanVariableValidation\";\r\n  className() {\r\n    return BooleanVariableValidation.className;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  static copy(other: BooleanVariableValidation) {\r\n    return new BooleanVariableValidation();\r\n  }\r\n}\r\n\r\nexport class DateVariableValidation implements BusinessVariableValidation {\r\n  static className = \"DateVariableValidation\";\r\n  className() {\r\n    return DateVariableValidation.className;\r\n  }\r\n\r\n  constructor(public minValue: Option<ExpressionWithAst>, public maxValue: Option<ExpressionWithAst>) {}\r\n\r\n  static copy(other: DateVariableValidation) {\r\n    return new DateVariableValidation(ExpressionWithAst.copyOptional(other.minValue),\r\n      ExpressionWithAst.copyOptional(other.maxValue)\r\n    );\r\n  }\r\n}\r\n\r\nexport class DateTimeVariableValidation implements BusinessVariableValidation {\r\n  static className = \"DateTimeVariableValidation\";\r\n  className() {\r\n    return DateTimeVariableValidation.className;\r\n  }\r\n\r\n  constructor(public minValue: Option<ExpressionWithAst>, public maxValue: Option<ExpressionWithAst>) {}\r\n\r\n\r\n  static copy(other: DateTimeVariableValidation) {\r\n    return new DateTimeVariableValidation(ExpressionWithAst.copyOptional(other.minValue),\r\n      ExpressionWithAst.copyOptional(other.maxValue));\r\n  }\r\n}\r\n\r\nexport class TimeVariableValidation implements BusinessVariableValidation {\r\n  static className = \"TimeVariableValidation\";\r\n  className() {\r\n    return TimeVariableValidation.className;\r\n  }\r\n\r\n  constructor(public minValue: Option<ExpressionWithAst>, public maxValue: Option<ExpressionWithAst>) {}\r\n\r\n  static copy(other: TimeVariableValidation) {\r\n    return new TimeVariableValidation(ExpressionWithAst.copyOptional(other.minValue),\r\n      ExpressionWithAst.copyOptional(other.maxValue));\r\n  }\r\n}\r\n\r\nexport class IntervalVariableValidation implements BusinessVariableValidation {\r\n  static className = \"IntervalVariableValidation\";\r\n  className() {\r\n    return IntervalVariableValidation.className;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  static copy(other: IntervalVariableValidation) {\r\n    return new IntervalVariableValidation();\r\n  }\r\n}\r\n\r\n\r\nexport class FileArrayValidation implements BusinessVariableValidation {\r\n  static className = \"FileArrayValidation\";\r\n  className() {\r\n    return FileArrayValidation.className;\r\n  }\r\n\r\n  constructor(public fileValidation: FileVariableValidation, public arrayValidation: ArrayVariableValidation) {}\r\n\r\n  static copy(other: FileArrayValidation) {\r\n    return new FileArrayValidation(FileVariableValidation.copy(other.fileValidation), ArrayVariableValidation.copy(other.arrayValidation));\r\n  }\r\n}\r\n\r\nexport class FileVariableValidation implements BusinessVariableValidation {\r\n  static className = \"FileVariableValidation\";\r\n  className() {\r\n    return FileVariableValidation.className;\r\n  }\r\n\r\n  constructor(public maxSize: number, public allowedExtensions: string[]) {}\r\n\r\n  static copy(other: FileVariableValidation) {\r\n    return new FileVariableValidation(other.maxSize, other.allowedExtensions.slice());\r\n  }\r\n}\r\n\r\nexport class ArrayVariableValidation implements BusinessVariableValidation {\r\n\r\n  static className = \"ArrayVariableValidation\";\r\n  className() {\r\n    return ArrayVariableValidation.className;\r\n  }\r\n\r\n  constructor(public minimumLength: number, public maximumLength: number) {}\r\n\r\n  static copy(other: ArrayVariableValidation) {\r\n    return new ArrayVariableValidation(other.minimumLength, other.maximumLength);\r\n  }\r\n}\r\n\r\nexport class BusinessVariableValidationFactory {\r\n\r\n  static copy(validation: BusinessVariableValidation): BusinessVariableValidation {\r\n    return BusinessVariableValidationFactory.copyByType(validation, validation.className());\r\n  }\r\n\r\n  static copyTyped(validation: Typed<BusinessVariableValidation>): Typed<BusinessVariableValidation> {\r\n    return Typed.of(BusinessVariableValidationFactory.copyByType(Typed.value(validation), Typed.className(validation)));\r\n  }\r\n\r\n  static copyByType(validation: BusinessVariableValidation, className: string): BusinessVariableValidation {\r\n    switch (className) {\r\n\r\n      case StringVariableValidation.className: return StringVariableValidation.copy(<StringVariableValidation>validation);\r\n      case NumberVariableValidation.className: return NumberVariableValidation.copy(<NumberVariableValidation>validation);\r\n      case BooleanVariableValidation.className: return BooleanVariableValidation.copy(<BooleanVariableValidation>validation);\r\n      case DateVariableValidation.className: return DateVariableValidation.copy(<DateVariableValidation>validation);\r\n      case DateTimeVariableValidation.className: return DateTimeVariableValidation.copy(<DateTimeVariableValidation>validation);\r\n      case TimeVariableValidation.className: return TimeVariableValidation.copy(<TimeVariableValidation>validation);\r\n      case IntervalVariableValidation.className: return IntervalVariableValidation.copy(<IntervalVariableValidation>validation);\r\n      case FileVariableValidation.className: return FileVariableValidation.copy(<FileVariableValidation>validation);\r\n      case ArrayVariableValidation.className: return ArrayVariableValidation.copy(<ArrayVariableValidation>validation);\r\n\r\n      case FileArrayValidation.className: return FileArrayValidation.copy(<FileArrayValidation>validation);\r\n\r\n      default:\r\n        throw new Error(\"Unsupported variable validation class: \" + className + \", variable: \" + JSON.stringify(validation));\r\n    }\r\n  }\r\n}\r\n","import {VariablePath, VariableTypePath} from \"./VariablePath\";\r\nimport {I18nText} from \"./I18nText\";\r\nimport {FileUri} from \"./FileUri\";\r\nimport {PersonId} from \"./OrganizationIdsModel\";\r\nimport {BusinessEntityId, DepartmentId, GroupId, ObjectId} from \"./IdModel\";\r\nimport {compareNumbers} from \"./Numbers\";\r\nimport {toFixedLengthString} from \"./Strings\";\r\nimport {Duration, LocalDate, LocalDateTime, LocalTime} from \"./Types\";\r\nimport {None, Option} from \"./Option\";\r\nimport {__} from \"./FunctionalExtensions\";\r\nimport {Typed} from \"./Typed\";\r\nimport {AggregateId, FlowId} from \"./AggregateId\";\r\nimport {ContextPath} from \"./ContextPath\";\r\nimport {i18n} from \"../shared/internationalization/i18n.service\";\r\n\r\n\r\n\r\n\texport interface BusinessVariable {\r\n    className(): string;\r\n    isEqual(other: BusinessVariable|undefined): boolean;\r\n    valueToString(): string;\r\n    valueToSimpleString(): string;\r\n    valueToSortableString(): string;\r\n    value: any;\r\n    isEmpty(): boolean;\r\n    simpleValueType(): string;\r\n    compare(other: BusinessVariable): number;\r\n    copy(): BusinessVariable;\r\n\r\n    toStringVariable(): StringVariable;\r\n    toJsonValue(): any;\r\n\r\n    bytesSize(): number;\r\n\r\n    toSearchable(): string;\r\n  }\r\n\r\n  export interface OrganizationNodeVariable extends BusinessVariable {}\r\n\r\n\r\n  /** Basic types */\r\n\r\n\r\n  export class StringVariable implements BusinessVariable {\r\n    static className = \"StringVariable\";\r\n\r\n    className() {\r\n      return StringVariable.className\r\n    }\r\n\r\n    simpleValueType() {\r\n      return StringVariable.simpleValueType;\r\n    }\r\n\r\n    static simpleValueType = \"String\";\r\n\r\n    value: string;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return '\"' + this.value + '\"';\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.value;\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.value;\r\n    }\r\n\r\n    constructor(value: string) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return other.value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.localeCompare(other.value, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new StringVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return this;\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + this.value.length;\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return this.value.split(/^[0-9a-ząćęłńóśźż]+/).join(\" \").toLowerCase();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class PasswordValue {\r\n    constructor(readonly password: string) {}\r\n\r\n    static copy(other: PasswordValue): PasswordValue {\r\n      return new PasswordValue(other.password)\r\n    }\r\n  }\r\n\r\n  export class PasswordVariable implements BusinessVariable {\r\n    static className = \"PasswordVariable\";\r\n\r\n    className() {\r\n      return PasswordVariable.className\r\n    }\r\n\r\n    simpleValueType() {\r\n      return PasswordVariable.simpleValueType;\r\n    }\r\n\r\n    static simpleValueType = \"Password\";\r\n\r\n    value: PasswordValue;\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.password;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return '\"' + this.value.password + '\"';\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.value.password;\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.value.password;\r\n    }\r\n\r\n    constructor(value: PasswordValue) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return other.value.password === this.value.password;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.password.localeCompare((<PasswordValue>other.value).password, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new PasswordVariable(new PasswordValue(this.value.password));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.value.password);\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 20; // do not expose password length\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  export class I18nTextVariable implements BusinessVariable {\r\n    static className = \"I18nTextVariable\";\r\n\r\n    className() {\r\n      return I18nTextVariable.className\r\n    }\r\n\r\n    simpleValueType() {\r\n      return I18nTextVariable.simpleValueType;\r\n    }\r\n\r\n    static simpleValueType = \"I18nText\";\r\n\r\n    value: I18nText;\r\n\r\n    toSearchable(): string {\r\n      return this.value.getCurrentWithFallback().split(/^[0-9a-ząćęłńóśźż]+/).join(\" \").toLowerCase();\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.isEmpty();\r\n    }\r\n\r\n    valueToString(): string {\r\n      return '\"' + this.value.getCurrentWithFallback() + '\"';\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.value.getCurrentWithFallback();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.value.getCurrentWithFallback();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.value;\r\n    }\r\n\r\n    constructor(value: I18nText) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<I18nTextVariable>other).value.isEqual(this.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.getCurrentWithFallback().localeCompare(other.value, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new I18nTextVariable(I18nText.copy(this.value));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.value.getCurrentWithFallback());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      // return 24 + (this.value.isEmpty() ? 0 : ___(this.value.value).map(c => c[0].length+c[1].length+8).sum());\r\n      return 10;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  export class NumberVariable implements BusinessVariable {\r\n    static className = \"NumberVariable\";\r\n\r\n    className() {\r\n      return NumberVariable.className\r\n    }\r\n\r\n    simpleValueType() {\r\n      return NumberVariable.simpleValueType;\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return Math.round(this.value)+\"\";\r\n    }\r\n\r\n    static simpleValueType = \"Number\";\r\n\r\n    value: number;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.toString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: number) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return other.value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value - other.value;\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new NumberVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class BooleanVariable implements BusinessVariable {\r\n    static className = \"BooleanVariable\";\r\n\r\n    className() {\r\n      return BooleanVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return BooleanVariable.simpleValueType;\r\n    }\r\n\r\n\t  static simpleValueType = \"Boolean\";\r\n\r\n    value: boolean;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.toString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.toString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: boolean) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return other.value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return (this.value ? 1 : 0) - (other.value ? 1 : 0);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new BooleanVariable(this.value);\r\n    }\r\n\r\n    static TRUE() {\r\n      return new BooleanVariable(true);\r\n    }\r\n\r\n    static FALSE() {\r\n      return new BooleanVariable(false);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 4;\r\n    }\r\n\r\n    static of(value: boolean) {\r\n      if(value) {\r\n        return BooleanVariable.TRUE();\r\n      } else {\r\n        return BooleanVariable.FALSE();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  export class DateVariable implements BusinessVariable {\r\n    static className = \"DateVariable\";\r\n\r\n    className() {\r\n      return DateVariable.className\r\n    }\r\n\r\n    simpleValueType() {\r\n      return DateVariable.simpleValueType;\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    static simpleValueType = \"Date\";\r\n\r\n    value: LocalDate;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.formattedWords();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.isoFormatted();\r\n    }\r\n\r\n    constructor(value: LocalDate) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else if (this.value == undefined && other.value == undefined) {\r\n        return true;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else if(this.value.isAfter(other.value)) {\r\n        return 1;\r\n      } else if(this.value.isBefore(other.value)) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new DateVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 12;\r\n    }\r\n  }\r\n\r\n\r\n  export class DateTimeVariable implements BusinessVariable {\r\n    static className = \"DateTimeVariable\";\r\n\r\n    className() {\r\n      return DateTimeVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n\t\t  return DateTimeVariable.simpleValueType;\r\n\t  }\r\n\r\n\t  static simpleValueType = \"DateTime\";\r\n\r\n    value: LocalDateTime;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.formattedTimezonedWords();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.isoSimpleFormattedTimezonedToMinutes();\r\n    }\r\n\r\n    valueToSimpleStringKeepTimezone(): string {\r\n      return this.value.formattedToMinutes();\r\n    }\r\n\r\n    constructor(value: LocalDateTime) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else if (this.value == undefined && other.value == undefined) {\r\n        return true;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else if(this.value.isAfter(other.value)) {\r\n        return 1;\r\n      } else if(this.value.isBefore(other.value)) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new DateTimeVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 20;\r\n    }\r\n  }\r\n\r\n\r\n  export class TimeVariable implements BusinessVariable {\r\n    static className = \"TimeVariable\";\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    className() {\r\n      return TimeVariable.className\r\n    }\r\n\r\n\t  simpleValueType() {\r\n\t\t  return TimeVariable.simpleValueType;\r\n\t  }\r\n\r\n\t  static simpleValueType = \"Time\";\r\n\r\n    value: LocalTime;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.value.formattedToMinutes();\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.formattedToMinutes();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: LocalTime) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else if (this.value == undefined && other.value == undefined) {\r\n        return true;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else if(this.value.isAfter(other.value)) {\r\n        return 1;\r\n      } else if(this.value.isBefore(other.value)) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new TimeVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8;\r\n    }\r\n  }\r\n\r\n  export class IntervalVariable implements BusinessVariable {\r\n    static className = \"IntervalVariable\";\r\n\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    className() {\r\n      return IntervalVariable.className\r\n    }\r\n\r\n\t  simpleValueType() {\r\n\t\t  return IntervalVariable.simpleValueType;\r\n\t  }\r\n\r\n\t  static simpleValueType = \"Interval\";\r\n\r\n    value: Duration;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return \"\";\r\n      // return timeFormatter.toTimespanFromSecondsWithoutDays(this.value.seconds);\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"\";\r\n      // return timeFormatter.toTimespanFromSeconds(this.value.seconds, 24);\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: Duration) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.compare(other.value);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new IntervalVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8;\r\n    }\r\n  }\r\n\r\n  export class GeoCoordinate {\r\n    constructor(readonly latitude: number, readonly longitude: number) {}\r\n\r\n    isEqual(other: GeoCoordinate) {\r\n      return this.latitude === other.latitude && this.longitude === other.longitude;\r\n    }\r\n\r\n    compare(other: GeoCoordinate) {\r\n      if(this.longitude > other.longitude) {\r\n        return 1;\r\n      } else if(this.longitude < other.longitude) {\r\n        return -1;\r\n      } else if(this.latitude > other.latitude) {\r\n        return 1;\r\n      } else if (this.latitude < other.latitude) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    static copy(other: GeoCoordinate) {\r\n      return new GeoCoordinate(other.latitude, other.longitude);\r\n    }\r\n\r\n    copy() {\r\n      return new GeoCoordinate(this.latitude, this.longitude);\r\n    }\r\n\r\n  }\r\n\r\n  export class GeoCoordinateVariable implements BusinessVariable {\r\n    static className = \"GeoCoordinateVariable\";\r\n\r\n    className() {\r\n      return GeoCoordinateVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'GeoCoordinate';\r\n    }\r\n\r\n    value: GeoCoordinate;\r\n\r\n    toJsonValue(): any {\r\n      return [this.value.latitude, this.value.longitude];\r\n    }\r\n\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.latitude.toString().length === 0 || this.value.longitude.toString().length === 0\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.latitude+\";\"+this.value.longitude;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: GeoCoordinate) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.compare(other.value);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new GeoCoordinateVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 12;\r\n    }\r\n  }\r\n\r\n  export class Link {\r\n    constructor(readonly name: string, readonly url: string) {}\r\n\r\n    isEqual(other: Link) {\r\n      return this.name === other.name && this.url === other.url;\r\n    }\r\n\r\n    static copy(other: Link) {\r\n      return new Link(other.name, other.url);\r\n    }\r\n\r\n    copy() {\r\n      return new Link(this.name, this.url);\r\n    }\r\n\r\n  }\r\n\r\n  export class LinkVariable implements BusinessVariable {\r\n    static className = \"LinkVariable\";\r\n\r\n    className() {\r\n      return LinkVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return this.value.name.split(/^[0-9a-ząćęłńóśźż]+/).join(\" \").toLowerCase()+\" \"+this.value.url.split(/^[0-9a-ząćęłńóśźż]+/).join(\" \").toLowerCase();\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Link';\r\n    }\r\n\r\n    value: Link;\r\n    separator = String.fromCharCode(31); // Unit separator\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.name.length === 0 || this.value.url.length === 0\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return [this.value.name, this.value.url];\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.name+\"#\"+this.value.url;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.value.name;\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.value.name;\r\n    }\r\n\r\n    constructor(value: Link) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable): number {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.name.localeCompare((<LinkVariable>other).value.name, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new LinkVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n\r\n    bytesSize(): number {\r\n      return 4 + this.value.name.length + this.value.url.length;\r\n    }\r\n  }\r\n\r\n  export class FileVariableV2 implements BusinessVariable {\r\n    static className = \"FileVariableV2\";\r\n\r\n    className() {\r\n      return FileVariableV2.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return FileVariableV2.simpleValueType;\r\n    }\r\n\r\n    static simpleValueType = \"File\";\r\n\r\n    value: FileUri;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      if(this.value == null) {\r\n        return \"\"\r\n      } else {\r\n        return \"File#\" + this.value.serialize();\r\n      }\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: FileUri) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return (this.value.protocol.name+\"://\"+this.value.path).localeCompare(other.value.protocol.name+\"://\"+other.value.path, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new FileVariableV2(FileUri.copy(this.value));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8 + this.value.path.length;\r\n    }\r\n  }\r\n\r\n  export class PersonVariable implements OrganizationNodeVariable {\r\n    static className = \"PersonVariable\";\r\n\r\n    className() {\r\n      return PersonVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Person';\r\n    }\r\n\r\n    value: PersonId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Person#\"+this.value.id.id;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: PersonId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<PersonVariable>other).value.id.id === this.value.id.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.id.localeCompare(other.value.id.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new PersonVariable(PersonId.copy(this.value));\r\n    }\r\n\r\n    static copy(other: PersonVariable) {\r\n      return new PersonVariable(PersonId.copy(other.value));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class DepartmentVariable implements OrganizationNodeVariable {\r\n    static className = \"DepartmentVariable\";\r\n\r\n    className() {\r\n      return DepartmentVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Department';\r\n    }\r\n\r\n    value: DepartmentId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Department#\"+this.value.id.id;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: DepartmentId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<DepartmentVariable>other).value.id.id === this.value.id.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.id.localeCompare(other.value.id.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new DepartmentVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n  export class GroupVariable implements OrganizationNodeVariable {\r\n    static className = \"GroupVariable\";\r\n\r\n    className() {\r\n      return GroupVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Group';\r\n    }\r\n\r\n    value: GroupId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Group#\"+this.value.id.id;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: GroupId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<GroupVariable>other).value.id.id === this.value.id.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString());\r\n      } else {\r\n        return this.value.id.id.localeCompare(other.value.id.id);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new GroupVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n  export class BusinessEntityVariable implements BusinessVariable {\r\n\r\n    value: BusinessEntityId;\r\n    static className = \"BusinessEntityVariable\";\r\n\r\n    constructor(value: BusinessEntityId) {\r\n      console.log(value);\r\n      this.value = value;\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n    className(): string {\r\n      return BusinessEntityVariable.className;\r\n    }\r\n\r\n    compare(other: BusinessVariable): number {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString());\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id.id);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new BusinessEntityVariable(this.value);\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<BusinessEntityVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    simpleValueType(): string {\r\n      return \"BusinessEntity\";\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"BusinessEntity#\"+this.value.id;\r\n    }\r\n\r\n  }\r\n\r\n  export class BusinessEntityVersionVariable implements BusinessVariable {\r\n    static className = \"BusinessEntityVersionVariable\";\r\n\r\n    className() {\r\n      return BusinessEntityVersionVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'BusinessEntityVersion';\r\n    }\r\n\r\n    value: AggregateId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"BusinessEntityVersion#\"+this.value.id;\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: AggregateId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<BusinessEntityVersionVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new BusinessEntityVersionVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  /** Collections */\r\n\r\n  export class ArrayVariable<T extends BusinessVariable> implements BusinessVariable {\r\n    static className = \"ArrayVariable\";\r\n\r\n    className() {\r\n      return ArrayVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return this.unwrappedValue().map(v => v.toSearchable()).join(\" \");\r\n    }\r\n\r\n    simpleValueType() {\r\n      return ArrayVariable.simpleValueType;\r\n    }\r\n\r\n    static simpleValueType = \"Array\";\r\n\r\n    id: ObjectId;\r\n    value: Typed<T>[];\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.unwrappedValue().map(v => v.toJsonValue());\r\n    }\r\n\r\n    get(index: number): T {\r\n      if(this.value.length < index) {\r\n        return Typed.value(this.value[index]);\r\n      } else {\r\n        throw new Error(\"Index \"+index+\"out of bounds (\"+this.value.length+\")\");\r\n      }\r\n    }\r\n\r\n    put(index: number, value: T) {\r\n      if(index < this.value.length) {\r\n        this.value.splice(index, 1, Typed.of(value))\r\n      } else if (index == this.value.length) {\r\n        this.value.push(Typed.of(value));\r\n      } else {\r\n        throw new Error(\"Index \"+index+\"out of bounds (\"+this.value.length+\")\");\r\n      }\r\n    }\r\n\r\n    nonEmpty(): boolean {\r\n      return this.value.length > 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"[\" + this.unwrappedValue().map(v => v.valueToString()).join(\", \") + \"]\";\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.unwrappedValue().map(v => v.valueToString()).join(\", \");\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.unwrappedValue().map(v => v.valueToSortableString()).join(\", \");\r\n    }\r\n\r\n    constructor(value: Typed<T>[], id: ObjectId = ObjectId.next()) {\r\n      this.value = value;\r\n      this.id = id;\r\n    }\r\n\r\n    unwrappedValue(): T[] {\r\n      return this.value.map((v: Typed<T>) => Typed.value<T>(v));\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else if ((<ArrayVariable<any>>other).value.length !== this.value.length) {\r\n        return false;\r\n      } else {\r\n        for(let i = 0; i < this.value.length; i++) {\r\n          if(!Typed.value(this.value[i]).isEqual(Typed.value((<ArrayVariable<any>>other).value[i]))) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else {\r\n        return this.valueToSortableString().localeCompare(other.valueToSortableString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    setValue(index: number, value: Option<BusinessVariable>) {\r\n      this.setValueByPath(index, VariablePath.empty(), value);\r\n    }\r\n\r\n\r\n    getValueByPath(index: number, path: VariablePath): Option<BusinessVariable> {\r\n      if(index < this.value.length) {\r\n        if(path.isEmpty()) {\r\n          return Option.of(this.value[index]).map(v => Typed.value(v));\r\n        } else {\r\n          const entryValue = Typed.value(this.value[index]);\r\n\r\n          if(path.startsWithIndex()) {\r\n            if(entryValue.className() === ArrayVariable.className) {\r\n              return (<ArrayVariable<BusinessVariable>><any>entryValue).getValueByPath(path.headIndex(), path.tail());\r\n            } else {\r\n              throw new Error(\"Expected Array but found \" + entryValue.className());\r\n            }\r\n          } else {\r\n            if(entryValue.className() === ObjectVariable.className) {\r\n              return (<ObjectVariable><any>entryValue).getValueByPath(path);\r\n            } else {\r\n              throw new Error(\"Expected Object but found \" + entryValue.className());\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        throw new Error(\"Index exceeds array length [\"+index+\"] >= [\"+this.value.length+\"]\");\r\n      }\r\n    }\r\n\r\n\r\n\r\n    setValueByPath(index: number, path: VariablePath, value: Option<BusinessVariable>) {\r\n      if(index < this.value.length) {\r\n        if(path.isEmpty()) {\r\n          if(value.isDefined()) {\r\n            this.value[index] = Typed.of(<T>value.get());\r\n          } else {\r\n            delete this.value[index];\r\n          }\r\n        } else {\r\n          const entryValue = Typed.value(this.value[index]);\r\n\r\n          if(path.startsWithIndex()) {\r\n            if(entryValue.className() === ArrayVariable.className) {\r\n              (<ArrayVariable<BusinessVariable>><any>entryValue).setValueByPath(path.headIndex(), path.tail(), value);\r\n            } else {\r\n              throw new Error(\"Expected Array but found \" + entryValue.className());\r\n            }\r\n          } else {\r\n            if(entryValue.className() === ObjectVariable.className) {\r\n              (<ObjectVariable><any>entryValue).setValueByPath(path, value);\r\n            } else {\r\n              throw new Error(\"Expected Object but found \" + entryValue.className());\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        throw new Error(\"Index exceeds array length [\"+index+\"] >= [\"+this.value.length+\"]\");\r\n      }\r\n    }\r\n\r\n    static fromTexts(texts: string[]) {\r\n      return new ArrayVariable<StringVariable>(texts.map(t => Typed.of(new StringVariable(t))));\r\n    }\r\n\r\n    static fromNumbers(texts: string[]) {\r\n      return new ArrayVariable<NumberVariable>(texts.map(t => Typed.of(new NumberVariable(parseFloat(t)))));\r\n    }\r\n    static fromNumbersTyped(texts: string[]) {\r\n      return Typed.of(this.fromNumbers(texts));\r\n    }\r\n\r\n    static fromTextsTyped(texts: string[]) {\r\n      return this.fromTexts(texts);\r\n    }\r\n\r\n    static fromStringVariables(entries: StringVariable[]) {\r\n      return new ArrayVariable<StringVariable>(entries.map(t => Typed.of(t)));\r\n    }\r\n\r\n    static fromNumberVariables(entries: NumberVariable[]) {\r\n      return new ArrayVariable<NumberVariable>(entries.map(t => Typed.of(t)));\r\n    }\r\n\r\n    static fromFileVariables(entries: FileVariableV2[]) {\r\n      return new ArrayVariable<FileVariableV2>(entries.map(t => Typed.of(t)));\r\n    }\r\n\r\n    static fromObjectVariables(entries: ObjectVariable[]) {\r\n      return new ArrayVariable<ObjectVariable>(entries.map(t => Typed.of(t)));\r\n    }\r\n\r\n    deleteRow(index: number) {\r\n      this.value.splice(index, 1);\r\n    }\r\n\r\n    deleteRows(indexes: Array<number>) {\r\n      const values = this.value.splice(__(indexes).first(), indexes.length);\r\n      this.value = values;\r\n    }\r\n\r\n    addRow(row: T) {\r\n      this.value.push(Typed.of(row));\r\n    }\r\n\r\n    copy(): ArrayVariable<BusinessVariable> {\r\n      return new ArrayVariable(this.value.map(v => BusinessVariableFactory.copyTyped(v)));\r\n    }\r\n\r\n    static copy(other: ArrayVariable<BusinessVariable>): ArrayVariable<BusinessVariable> {\r\n      return new ArrayVariable(other.value.map(v => BusinessVariableFactory.copyTyped(v)), other.id ? ObjectId.copy(other.id) : ObjectId.next());\r\n    }\r\n\r\n    findObjectById(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const found = __(this.value.map((e, index) => <[Typed<BusinessVariable>, number]>[e, index])).find((e: [Typed<BusinessVariable>, number]) => Typed.className(e[0]) === ObjectVariable.className && (<ObjectVariable>Typed.value(e[0])).id.id == objectId.id);\r\n      if(found.isDefined()) {\r\n        return found.map(f => <[VariablePath, ObjectVariable]>[VariablePath.rootIndex(found.get()[1]), <ObjectVariable>Typed.value(found.get()[0])]);\r\n      } else {\r\n        const foundInSubObjects = this.findObjectByIdInSubObjects(objectId);\r\n        if(foundInSubObjects.isDefined()) {\r\n          return foundInSubObjects\r\n        } else {\r\n          return this.findObjectByIdInSubArrays(objectId);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    findObjectByIdInSubObjects(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const subObjects: Array<[Typed<ObjectVariable>, number]> = <Array<[Typed<ObjectVariable>, number]>>this.value.map((e, index) => <[Typed<BusinessVariable>, number]>[e, index]).filter(v => Typed.className(v[0]) === ObjectVariable.className);\r\n      let found: Option<[VariablePath, ObjectVariable]> = None();\r\n      let i = 0;\r\n      while(found.isEmpty() && i < subObjects.length) {\r\n        const subObject = subObjects[i];\r\n        found = (<ObjectVariable>Typed.value(subObject[0])).findObjectById(objectId).map(f => <[VariablePath, ObjectVariable]>[VariablePath.rootIndex(subObject[1]).concat(f[0]), f[1]]);\r\n        i++;\r\n      }\r\n      return found;\r\n    }\r\n\r\n    findObjectByIdInSubArrays(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const subArrays: Array<[Typed<ArrayVariable<BusinessVariable>>, number]> = this.value.map((e, index) => <[Typed<ArrayVariable<BusinessVariable>>, number]><any>[e, index]).filter(v => Typed.className(v[0]) === ArrayVariable.className);\r\n      let found: Option<[VariablePath, ObjectVariable]> = None();\r\n      let i = 0;\r\n\r\n      while(found.isEmpty() && i < subArrays.length) {\r\n        const subArray = subArrays[i];\r\n        found = (<ArrayVariable<BusinessVariable>>Typed.value(subArray[0])).findObjectById(objectId).map(f => <[VariablePath, ObjectVariable]>[VariablePath.rootIndex(subArray[1]).concat(f[0]), f[1]]);\r\n      }\r\n\r\n      return found;\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4;\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  export class ObjectVariable implements BusinessVariable {\r\n    static className = \"ObjectVariable\";\r\n\r\n    className() {\r\n      return ObjectVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return this.value.map(v => Typed.value(v[1]).toSearchable()).join(\" \");\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Object';\r\n    }\r\n\r\n    id: ObjectId;\r\n    value: [string, Typed<BusinessVariable>][];\r\n\r\n    isEmpty(): boolean {\r\n      return this.value.length === 0;\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      let obj: any = {};\r\n      this.value.forEach(v => obj[v[0]] = Typed.value(v[1]).toJsonValue());\r\n      return obj;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"{\" + this.value.map((v: [string, Typed<BusinessVariable>]) => v[0]+\": \"+Typed.value(v[1]).valueToString()).join(\", \") + \"}\";\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return \"{\" + this.value.map((v: [string, Typed<BusinessVariable>]) => v[0]+\": \"+Typed.value(v[1]).valueToSortableString()).join(\", \") + \"}\";\r\n    }\r\n\r\n\r\n    constructor(value: Record<string, BusinessVariable>, id: ObjectId = ObjectId.next()) {\r\n      this.value = [];\r\n      this.id = id;\r\n      for (const [key, v] of Object.entries(value)) {\r\n        this.value.push([key, Typed.of(v)]);\r\n      }\r\n    }\r\n\r\n    valueAsMap() {\r\n      const v: {[fieldName: string]: BusinessVariable} = {};\r\n      this.value.forEach((entry: [string, Typed<BusinessVariable>]) => {\r\n        v[entry[0]] = <BusinessVariable>Typed.value(entry[1])\r\n      });\r\n      return v;\r\n    }\r\n\r\n    unsetValue(key: string) {\r\n      this.value = this.value.filter((entry: [string, Typed<BusinessVariable>]) => entry[0] !== key);\r\n    }\r\n\r\n    setValue(key: string, value: BusinessVariable) {\r\n      this.unsetValue(key);\r\n      this.value.push([key, Typed.of(value)]);\r\n    }\r\n\r\n   getValueByPath(path: VariablePath): Option<BusinessVariable> {\r\n      if(path.isRoot() && !path.headIsIndexed()) {\r\n        return this.valueFor(path.headName());\r\n      } else if (path.isRoot() && path.headIsIndexed()) {\r\n        throw new Error(\"Cannot get field value in object that is indexed\")\r\n      } else {\r\n        const fieldValueOption = this.valueFor(path.headName());\r\n        if(fieldValueOption.isDefined()) {\r\n          const fieldValue = fieldValueOption.get();\r\n          if(path.headIsIndexed()) {\r\n            if(fieldValue.className() === ArrayVariable.className) {\r\n              return (<ArrayVariable<BusinessVariable>>fieldValue).getValueByPath(path.headNameIndex(), path.tail());\r\n            } else {\r\n              throw new Error(\"Expected Array but found \" + fieldValue.className());\r\n            }\r\n          } else {\r\n            if(fieldValue.className() === ObjectVariable.className) {\r\n              return (<ObjectVariable>fieldValue).getValueByPath(path.tail());\r\n            } else {\r\n              throw new Error(\"Expected Object but found \" + fieldValue.className());\r\n            }\r\n          }\r\n        } else {\r\n          throw new Error(\"Cannot set value by path because part of path does not exist in object, [\"+path.toString()+\"]\");\r\n        }\r\n      }\r\n    }\r\n\r\n    setValueByPath(path: VariablePath, value: Option<BusinessVariable>) {\r\n      if(path.isRoot() && !path.headIsIndexed()) {\r\n        if(value.isDefined()) {\r\n          this.setValue(path.headName(), value.get());\r\n        } else {\r\n          this.clearValue(path.headName());\r\n        }\r\n      } else if (path.isRoot() && path.headIsIndexed()) {\r\n        throw new Error(\"Cannot set field value in object that is indexed\")\r\n      } else {\r\n        const fieldValueOption = this.valueFor(path.headName());\r\n        if(fieldValueOption.isDefined()) {\r\n          const fieldValue = fieldValueOption.get();\r\n          if(path.headIsIndexed()) {\r\n            if(fieldValue.className() === ArrayVariable.className) {\r\n              (<ArrayVariable<BusinessVariable>>fieldValue).setValueByPath(path.headNameIndex(), path.tail(), value);\r\n            } else {\r\n              throw new Error(\"Expected Array but found \" + fieldValue.className());\r\n            }\r\n          } else {\r\n            if(fieldValue.className() === ObjectVariable.className) {\r\n              (<ObjectVariable>fieldValue).setValueByPath(path.tail(), value);\r\n            } else {\r\n              throw new Error(\"Expected Object but found \" + fieldValue.className());\r\n            }\r\n          }\r\n        } else {\r\n          throw new Error(\"Cannot set value by path because part of path does not exist in object, [\"+path.toString()+\"]\");\r\n        }\r\n      }\r\n    }\r\n\r\n    clearValue(key: string) {\r\n      this.unsetValue(key);\r\n    }\r\n\r\n    valueFor(key: string): Option<BusinessVariable> {\r\n      return Option.of(this.value.filter((entry: [string, Typed<BusinessVariable>]) => entry[0] === key)[0])\r\n        .map((entry: [string, Typed<BusinessVariable>]) => Typed.value(entry[1]));\r\n    }\r\n\r\n    singleValue(): Typed<BusinessVariable> {\r\n      if(this.value.length === 1) {\r\n        return this.value[0][1];\r\n      } else {\r\n        throw new Error(\"Incorrect number of entries\");\r\n      }\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other instanceof ObjectVariable) {\r\n        if(this.value.length === other.value.length) {\r\n          const fields = this.value.map(v => v[0]);\r\n          return __(fields).all(field => this.valueFor(field).equals(other.valueFor(field), (a, b) => a.isEqual(b)));\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else {\r\n        return this.valueToSortableString().localeCompare(other.valueToSortableString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n\r\n    static copy(other: ObjectVariable) {\r\n      const c = new ObjectVariable({}, other.id ? ObjectId.copy(other.id) : ObjectId.next());\r\n      c.value = other.value.map((entry: [string, Typed<BusinessVariable>]) =>\r\n        <[string, Typed<BusinessVariable>]>[entry[0], BusinessVariableFactory.copyTyped(entry[1])]);\r\n      return c;\r\n    }\r\n\r\n    copy() {\r\n      return ObjectVariable.copy(this);\r\n    }\r\n\r\n    static fromRootVariables(variables: Array<RootVariable<BusinessVariable>>): ObjectVariable {\r\n      const obj = new ObjectVariable({});\r\n      obj.value = variables.map(v => <[string, Typed<BusinessVariable>]>[v.name, v.variable]);\r\n      return obj;\r\n    }\r\n\r\n    findObjectById(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const found = __(this.value).find((e: [string, Typed<BusinessVariable>]) => Typed.className(e[1]) === ObjectVariable.className && (<ObjectVariable>Typed.value(e[1])).id.id == objectId.id);\r\n      if(found.isDefined()) {\r\n        return found.map(f => <[VariablePath, ObjectVariable]>[VariablePath.root(found.get()[0]), <ObjectVariable>Typed.value(found.get()[1])]);\r\n      } else {\r\n        const foundInSubObjects = this.findObjectByIdInSubObjects(objectId);\r\n        if(foundInSubObjects.isDefined()) {\r\n          return foundInSubObjects\r\n        } else {\r\n          return this.findObjectByIdInSubArrays(objectId);\r\n        }\r\n      }\r\n    }\r\n\r\n    findObjectByIdInSubObjects(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const subObjects = this.value.filter(v => Typed.className(v[1]) === ObjectVariable.className);\r\n      let found: Option<[VariablePath, ObjectVariable]> = None();\r\n      let i = 0;\r\n      while(found.isEmpty() && i < subObjects.length) {\r\n        const subObject = subObjects[i];\r\n        found = (<ObjectVariable>Typed.value(subObject[1])).findObjectById(objectId).map(f => <[VariablePath, ObjectVariable]>[VariablePath.root(subObject[0]).concat(f[0]), f[1]]);\r\n        i++;\r\n      }\r\n      return found;\r\n    }\r\n\r\n    findObjectByIdInSubArrays(objectId: ObjectId): Option<[VariablePath, ObjectVariable]> {\r\n      const subArrays = this.value.filter(v => Typed.className(v[1]) === ArrayVariable.className);\r\n      let found: Option<[VariablePath, ObjectVariable]> = None();\r\n      let i = 0;\r\n\r\n      while(found.isEmpty() && i < subArrays.length) {\r\n        const subObject = subArrays[i];\r\n        found = (<ArrayVariable<BusinessVariable>>Typed.value(subObject[1])).findObjectById(objectId).map(f => <[VariablePath, ObjectVariable]>[VariablePath.root(subObject[0]).concat(f[0]), f[1]])\r\n      }\r\n\r\n      return found;\r\n    }\r\n\r\n    changeFieldName(oldName: string, newName: string) {\r\n      if(this.valueFor(oldName).isDefined()) {\r\n        if(this.valueFor(newName).isEmpty()) {\r\n          this.setValue(newName, this.valueFor(oldName).get());\r\n          this.clearValue(oldName);\r\n        } else {\r\n          throw new Error(\"Field \" + newName + \" is already defined\");\r\n        }\r\n      }\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4;// + ___(this.value).map((t: [string, Typed<BusinessVariable>]) => t[0].length + Typed.value(t[1]).bytesSize()).sum();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class NullVariable implements BusinessVariable {\r\n    static className = \"NullVariable\";\r\n\r\n    static instance = new NullVariable();\r\n\r\n    className() {\r\n      return NullVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Null';\r\n    }\r\n\r\n    value: any;\r\n\r\n    isEmpty(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return null;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"null\";\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\r\n    constructor() {\r\n      this.value = undefined;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined) {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return other.value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new NullVariable();\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n\r\n    bytesSize(): number {\r\n      return 4;\r\n    }\r\n  }\r\n\r\n  export class TaskVariable implements BusinessVariable {\r\n    static className = \"TaskVariable\";\r\n\r\n    className() {\r\n      return TaskVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Case';\r\n    }\r\n\r\n    value: string;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Task#\"+this.value;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    constructor(value: string) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<TaskVariable>other).value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new TaskVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class CaseVariable implements BusinessVariable {\r\n    static className = \"CaseVariable\";\r\n\r\n    className() {\r\n      return CaseVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Case';\r\n    }\r\n\r\n    value: FlowId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Case#\"+this.value.id;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    constructor(value: FlowId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<CaseVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new CaseVariable(FlowId.copy(this.value));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  export class CaseCodeVariable implements BusinessVariable {\r\n    static className = \"CaseCodeVariable\";\r\n\r\n    className() {\r\n      return CaseVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Case';\r\n    }\r\n\r\n    value: string;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"CaseCode#\"+this.value;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    constructor(value: string) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<CaseCodeVariable>other).value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new CaseCodeVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class InstanceVariable implements BusinessVariable {\r\n    static className = \"InstanceVariable\";\r\n\r\n    className() {\r\n      return InstanceVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Instance';\r\n    }\r\n\r\n    value: AggregateId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Instance#\"+this.value.id;\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: AggregateId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<InstanceVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new InstanceVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n  export class ProcessVariable implements BusinessVariable {\r\n    static className = \"ProcessVariable\";\r\n\r\n    className() {\r\n      return ProcessVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Process';\r\n    }\r\n\r\n    value: AggregateId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Process#\"+this.value.id;\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: AggregateId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<ProcessVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new ProcessVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  export class ProcessVersionVariable implements BusinessVariable {\r\n    static className = \"ProcessVersionVariable\";\r\n\r\n    className() {\r\n      return ProcessVersionVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'ProcessVersion';\r\n    }\r\n\r\n    value: AggregateId;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"ProcessVersion#\"+this.value.id;\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: AggregateId) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<ProcessVersionVariable>other).value.id === this.value.id;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return this.value.id.localeCompare(other.value.id, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new ProcessVersionVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  export class NodeVariable implements BusinessVariable {\r\n    static className = \"NodeVariable\";\r\n\r\n    className() {\r\n      return NodeVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Node';\r\n    }\r\n\r\n    value: string; //ReleaseId encrypted pipe NodeId\r\n\r\n    getReleaseId() {\r\n      const hash = this.value.indexOf(\"#\");\r\n      const pipe = this.value.indexOf(\"|\");\r\n      return new AggregateId(this.value.substring(hash + 1, pipe));\r\n    }\r\n\r\n    getNodeId() {\r\n      const pipe = this.value.indexOf(\"|\");\r\n      return parseInt(this.value.substring(pipe + 1));\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return \"Node#\"+this.value;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      const id = this.getNodeId();\r\n      if(id < 10) {\r\n        return \"000\" + id;\r\n      } else if(id < 100) {\r\n        return \"00\" + id;\r\n      } else if(id < 1000) {\r\n        return \"0\" + id\r\n      } else {\r\n        return \"\" + id;\r\n      }\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    constructor(value: string) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<NodeVariable>other).value === this.value;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable): number {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if (other instanceof NodeVariable) {\r\n        return compareNumbers(this.getNodeId(), other.getNodeId());\r\n      } else {\r\n        return this.valueToSortableString().localeCompare(other.valueToSortableString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new NodeVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + this.value.length;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class FlowStatus {\r\n    constructor(readonly name: string) {}\r\n\r\n    translate(): string {\r\n      return i18n(\"enum_case_status_\" + this.name);\r\n    }\r\n    static created = new FlowStatus(\"created\");\r\n    static inProgress = new FlowStatus(\"inProgress\");\r\n    static delayed = new FlowStatus(\"delayed\");\r\n    static terminated = new FlowStatus(\"terminated\");\r\n    static completed = new FlowStatus(\"completed\");\r\n\r\n    static order = [FlowStatus.created, FlowStatus.inProgress, FlowStatus.terminated, FlowStatus.completed, FlowStatus.delayed];\r\n    static usable = [FlowStatus.inProgress, FlowStatus.terminated, FlowStatus.completed];\r\n\r\n    static compare(a: FlowStatus, b: FlowStatus): number {\r\n      return __(FlowStatus.order).findIndexOf(s => s.name == a.name).getOrElse(0) - __(FlowStatus.order).findIndexOf(s => s.name == b.name).getOrElse(0);\r\n    }\r\n\r\n    static copy(other: FlowStatus) {\r\n      return new FlowStatus(other.name);\r\n    }\r\n\r\n    static byName(name: string):FlowStatus {\r\n      switch(name) {\r\n        case FlowStatus.created.name: return FlowStatus.created;\r\n        case FlowStatus.inProgress.name: return FlowStatus.inProgress;\r\n        case FlowStatus.delayed.name: return FlowStatus.delayed;\r\n        case FlowStatus.terminated.name: return FlowStatus.terminated;\r\n        case FlowStatus.completed.name: return FlowStatus.completed;\r\n        default: throw new Error(\"Not supported flow status [\"+name+\"]\")\r\n      }\r\n    }\r\n  }\r\n\r\n  export class CaseStatusVariable implements BusinessVariable {\r\n    static className = \"CaseStatusVariable\";\r\n\r\n    className() {\r\n      return CaseStatusVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'CaseStatus';\r\n    }\r\n\r\n    value: FlowStatus;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      return this.value.name;\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    constructor(value: FlowStatus) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return (<CaseStatusVariable>other).value.name === this.value.name;\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable): number {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else {\r\n        return FlowStatus.compare(this.value, other.value);\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new CaseStatusVariable(this.value);\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n  }\r\n\r\n  export class YearWeek {\r\n    constructor(readonly year: number, readonly week: number) {}\r\n\r\n\t  static compare(a: YearWeek, b: YearWeek): number {\r\n      if(a.year === b.year) {\r\n\r\n        if(a.week === b.week) {\r\n          return 0;\r\n        } else {\r\n          return a.week > b.week ? 1 : -1;\r\n        }\r\n\r\n      } else {\r\n        return a.year > b.year ? 1 : -1;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\texport class WeekVariable implements BusinessVariable {\r\n\t\tstatic className = \"WeekVariable\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn WeekVariable.className\r\n\t\t}\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n\t\tsimpleValueType() {\r\n\t\t\treturn 'Week';\r\n\t\t}\r\n\r\n\t\tvalue: YearWeek;\r\n\r\n\t\tisEmpty(): boolean {\r\n\t\t\treturn this.valueToSimpleString().length === 0;\r\n\t\t}\r\n\r\n\t\tvalueToString(): string {\r\n\t\t\treturn this.value.year + \" \" + i18n(\"common_week_short\") + \" \" + this.value.week;\r\n\t\t}\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\t\tconstructor(value: YearWeek) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tisEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn (<WeekVariable>other).value.year === this.value.year && (<WeekVariable>other).value.week === this.value.week;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcompare(other: BusinessVariable) {\r\n\t\t\tif(other == undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn YearWeek.compare(this.value, other.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcopy() {\r\n\t\t\treturn new WeekVariable(this.value);\r\n\t\t}\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8;\r\n    }\r\n\r\n\r\n  }\r\n\r\n\texport class YearMonth {\r\n\t\tconstructor(readonly year: number, readonly month: number) {}\r\n\r\n\t\tstatic compare(a: YearMonth, b: YearMonth): number {\r\n\t\t\tif(a.year === b.year) {\r\n\r\n\t\t\t\tif(a.month === b.month) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a.month > b.month ? 1 : -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn a.year > b.year ? 1 : -1;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\texport class MonthVariable implements BusinessVariable {\r\n\t\tstatic className = \"MonthVariable\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn MonthVariable.className\r\n\t\t}\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n\t\tsimpleValueType() {\r\n\t\t\treturn 'Month';\r\n\t\t}\r\n\r\n\t\tvalue: YearMonth;\r\n\r\n\t\tisEmpty(): boolean {\r\n\t\t\treturn this.valueToSimpleString().length === 0;\r\n\t\t}\r\n\r\n\t\tvalueToString(): string {\r\n\t\t\treturn this.value.year + \" m. \" + this.value.month;\r\n\t\t}\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n\t\tconstructor(value: YearMonth) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tisEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn (<MonthVariable>other).value.year === this.value.year && (<MonthVariable>other).value.month === this.value.month;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcompare(other: BusinessVariable) {\r\n\t\t\tif(other == undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn YearMonth.compare(this.value, other.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcopy() {\r\n\t\t\treturn new MonthVariable(this.value);\r\n\t\t}\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 8;\r\n    }\r\n\r\n  }\r\n\r\n\texport class DateHours {\r\n    constructor(readonly date: LocalDate, readonly hours: number) {}\r\n\r\n    static compare(a: DateHours, b: DateHours): number {\r\n      if(a.date.isEqual(b.date)) {\r\n        if(a.hours === b.hours) {\r\n          return 0;\r\n        } else {\r\n          return a.hours > b.hours ? 1 : -1;\r\n        }\r\n      } else {\r\n        return a.date.isAfter(b.date) ? 1 : -1;\r\n      }\r\n    }\r\n\r\n    static copy(other: DateHours): DateHours {\r\n      return new DateHours(LocalDate.copy(other.date), other.hours);\r\n    }\r\n\r\n\t\tstatic fromDateTime(dateTime: LocalDateTime): DateHours {\r\n      return new DateHours(dateTime.date, dateTime.time.hour);\r\n    }\r\n\r\n    toLocalDateTime() {\r\n      return new LocalDateTime(this.date, new LocalTime(this.hours, 0, 0, 0));\r\n    }\r\n  }\r\n\r\n\texport class DateHoursVariable implements BusinessVariable {\r\n\t\tstatic className = \"DateHoursVariable\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn DateHoursVariable.className\r\n\t\t}\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n\t\tsimpleValueType() {\r\n\t\t\treturn 'DateHours';\r\n\t\t}\r\n\r\n\t\tvalue: DateHours;\r\n\r\n\t\tisEmpty(): boolean {\r\n\t\t\treturn this.valueToSimpleString().length === 0;\r\n\t\t}\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n\t\tvalueToString(): string {\r\n\t\t\treturn this.value.date.formatted() + \" \" + i18n(\"common_hour_short\") + \" \" + toFixedLengthString(this.value.hours, 2);\r\n\t\t}\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\t\tconstructor(value: DateHours) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tisEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn (<DateHoursVariable>other).compare(this) === 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcompare(other: BusinessVariable) {\r\n\t\t\tif(other == undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn DateHours.compare(this.value, other.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcopy() {\r\n\t\t\treturn new DateHoursVariable(this.value);\r\n\t\t}\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n\r\n    bytesSize(): number {\r\n      return 4 + 12;\r\n    }\r\n\t}\r\n\r\n\texport class DateMinutes {\r\n\t\tconstructor(readonly date: LocalDate, readonly hours: number, readonly minutes: number) {}\r\n\r\n\t\tstatic compare(a: DateMinutes, b: DateMinutes): number {\r\n\t\t\tif(a.date.isEqual(b.date)) {\r\n\t\t\t\tif(a.hours === b.hours) {\r\n\t\t\t\t\tif(a.minutes === b.minutes) {\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn a.minutes > b.minutes ? 1 : -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a.hours > b.hours ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn a.date.isAfter(b.date) ? 1 : -1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic copy(other: DateMinutes): DateMinutes {\r\n\t\t\treturn new DateMinutes(LocalDate.copy(other.date), other.hours, other.minutes);\r\n\t\t}\r\n\r\n\t\tstatic fromDateTime(dateTime: LocalDateTime): DateMinutes {\r\n\t\t\treturn new DateMinutes(dateTime.date, dateTime.time.hour, dateTime.time.minute);\r\n\t\t}\r\n\r\n    toLocalDateTime() {\r\n      return new LocalDateTime(this.date, new LocalTime(this.hours, this.minutes, 0, 0));\r\n    }\r\n\t}\r\n\r\n\texport class DateMinutesVariable implements BusinessVariable {\r\n\t\tstatic className = \"DateMinutesVariable\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn DateMinutesVariable.className\r\n\t\t}\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n\t\tsimpleValueType() {\r\n\t\t\treturn 'DateMinutes';\r\n\t\t}\r\n\r\n\t\tvalue: DateMinutes;\r\n\r\n\t\tisEmpty(): boolean {\r\n\t\t\treturn this.valueToSimpleString().length === 0;\r\n\t\t}\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n\t\tvalueToString(): string {\r\n\t\t\treturn this.value.date.formatted() + \" \" +\r\n\t\t\t\ttoFixedLengthString(this.value.hours, 2) + \":\" + toFixedLengthString(this.value.minutes, 2);\r\n\t\t}\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\t\tconstructor(value: DateMinutes) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tisEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn (<DateMinutesVariable>other).compare(this) === 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcompare(other: BusinessVariable) {\r\n\t\t\tif(other == undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn DateMinutes.compare(this.value, other.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcopy() {\r\n\t\t\treturn new DateMinutesVariable(this.value);\r\n\t\t}\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 12;\r\n    }\r\n\t}\r\n\r\n\texport class DateSeconds {\r\n\t\tconstructor(readonly date: LocalDate, readonly hours: number, readonly minutes: number, readonly seconds: number) {}\r\n\r\n\t\tstatic compare(a: DateSeconds, b: DateSeconds): number {\r\n\t\t\tif(a.date.isEqual(b.date)) {\r\n\t\t\t\tif(a.hours === b.hours) {\r\n\t\t\t\t\tif(a.minutes === b.minutes) {\r\n\t\t\t\t\t\tif(a.seconds === b.seconds) {\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn a.seconds > b.seconds ? 1 : -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn a.minutes > b.minutes ? 1 : -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a.hours > b.hours ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn a.date.isAfter(b.date) ? 1 : -1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic copy(other: DateSeconds): DateSeconds {\r\n\t\t\treturn new DateSeconds(LocalDate.copy(other.date), other.hours, other.minutes, other.seconds);\r\n\t\t}\r\n\r\n\t\tstatic fromDateTime(dateTime: LocalDateTime): DateSeconds {\r\n\t\t\treturn new DateSeconds(dateTime.date, dateTime.time.hour, dateTime.time.minute, dateTime.time.second);\r\n\t\t}\r\n\r\n\t\ttoLocalDateTime() {\r\n\t\t  return new LocalDateTime(this.date, new LocalTime(this.hours, this.minutes, this.seconds, 0));\r\n    }\r\n\t}\r\n\r\n\texport class DateSecondsVariable implements BusinessVariable {\r\n\t\tstatic className = \"DateSecondsVariable\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn DateSecondsVariable.className\r\n\t\t}\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n\t\tsimpleValueType() {\r\n\t\t\treturn 'DateSeconds';\r\n\t\t}\r\n\r\n\t\tvalue: DateSeconds;\r\n\r\n\t\tisEmpty(): boolean {\r\n\t\t\treturn this.valueToSimpleString().length === 0;\r\n\t\t}\r\n\r\n\t\tvalueToString(): string {\r\n\t\t\treturn this.value.date.formatted() + \" \" + toFixedLengthString(this.value.hours, 2) + \":\" +\r\n\t\t\t\ttoFixedLengthString(this.value.minutes, 2) + \":\" + toFixedLengthString(this.value.seconds, 2);\r\n\t\t}\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n\t\tconstructor(value: DateSeconds) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tisEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn (<DateSecondsVariable>other).compare(this) === 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcompare(other: BusinessVariable) {\r\n\t\t\tif(other == undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn DateSeconds.compare(this.value, other.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcopy() {\r\n\t\t\treturn new DateSecondsVariable(this.value);\r\n\t\t}\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 12;\r\n    }\r\n\t}\r\n\r\n\r\n  export class EmailVariable implements BusinessVariable {\r\n    static className = \"EmailVariable\";\r\n\r\n    className() {\r\n      return EmailVariable.className\r\n    }\r\n\r\n    toSearchable(): string {\r\n      return \"\";\r\n    }\r\n\r\n    simpleValueType() {\r\n      return 'Email';\r\n    }\r\n\r\n    value: FileUri;\r\n\r\n    isEmpty(): boolean {\r\n      return this.valueToSimpleString().length === 0;\r\n    }\r\n\r\n    valueToString(): string {\r\n      if(this.value == null) {\r\n        return \"\"\r\n      } else {\r\n        return \"Email#\"+this.value.serialize();\r\n      }\r\n    }\r\n\r\n\r\n    toJsonValue(): any {\r\n      return this.valueToSimpleString();\r\n    }\r\n\r\n    valueToSimpleString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    valueToSortableString(): string {\r\n      return this.valueToString();\r\n    }\r\n\r\n    constructor(value: FileUri) {\r\n      this.value = value;\r\n    }\r\n\r\n    isEqual(other: BusinessVariable|undefined): boolean {\r\n      if(this === other) {\r\n        return true;\r\n      } else if(other == undefined || other.className() !== this.className()) {\r\n        return false;\r\n      } else {\r\n        return this.value.isEqual(other.value);\r\n      }\r\n    }\r\n\r\n    compare(other: BusinessVariable) {\r\n      if(other == undefined) {\r\n        return 1;\r\n      } else if(other.className() !== this.className()) {\r\n        return this.valueToSimpleString().localeCompare(other.valueToSimpleString(), undefined, {numeric: true, sensitivity: 'base'});\r\n      } else {\r\n        return (this.value.protocol.name+\"://\"+this.value.path).localeCompare(other.value.protocol.name+\"://\"+other.value.path, undefined, {numeric: true, sensitivity: 'base'});\r\n      }\r\n    }\r\n\r\n    copy() {\r\n      return new EmailVariable(FileUri.copy(this.value));\r\n    }\r\n\r\n    toStringVariable(): StringVariable {\r\n      return new StringVariable(this.valueToString());\r\n    }\r\n\r\n    bytesSize(): number {\r\n      return 4 + 6;\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  export class BusinessVariableFactory {\r\n    static copy(variable: BusinessVariable): BusinessVariable {\r\n      return BusinessVariableFactory.copyByType(variable, variable.className());\r\n    }\r\n\r\n    static copyTyped(variable: Typed<BusinessVariable>): Typed<BusinessVariable> {\r\n      return Typed.of(BusinessVariableFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n    }\r\n\r\n    static copyByType(variable: BusinessVariable, className: string): BusinessVariable {\r\n      if (className.substr(className.length - 2) === \"V1\") {\r\n        // FIXME ugly workaround - sometimes we receive versioned frozen events from server\r\n        className = className.substr(0, className.length - 2);\r\n      }\r\n      switch (className) {\r\n        case StringVariable.className: return new StringVariable(<string>variable.value);\r\n        case PasswordVariable.className: return new PasswordVariable(new PasswordValue((<PasswordVariable>variable).value.password));\r\n        case I18nTextVariable.className: return new I18nTextVariable(I18nText.copy(<I18nText>variable.value));\r\n        case NumberVariable.className: return new NumberVariable(<number>variable.value);\r\n        case BooleanVariable.className: return new BooleanVariable(<boolean>variable.value);\r\n        case DateVariable.className: return new DateVariable(LocalDate.copy(<LocalDate>variable.value));\r\n        case DateTimeVariable.className: return new DateTimeVariable(LocalDateTime.copy(<LocalDateTime>variable.value));\r\n        case TimeVariable.className: return new TimeVariable(LocalTime.copy(<LocalTime>variable.value));\r\n        case IntervalVariable.className: return new IntervalVariable(Duration.copy(<Duration>variable.value));\r\n        case GeoCoordinateVariable.className: return new GeoCoordinateVariable(GeoCoordinate.copy(<GeoCoordinate>variable.value));\r\n        case FileVariableV2.className: return new FileVariableV2(FileUri.copy(<FileUri>variable.value));\r\n        case PersonVariable.className: return PersonVariable.copy(<PersonVariable>variable);\r\n        case DepartmentVariable.className: return new DepartmentVariable(DepartmentId.copy(variable.value));\r\n        case GroupVariable.className: return new GroupVariable(GroupId.copy(variable.value));\r\n        case ArrayVariable.className: return ArrayVariable.copy(<ArrayVariable<BusinessVariable>>variable);\r\n        case ObjectVariable.className: return ObjectVariable.copy(<ObjectVariable>variable);\r\n        case NullVariable.className: return new NullVariable();\r\n        case TaskVariable.className: return new TaskVariable(<string>variable.value);\r\n        case CaseVariable.className: return new CaseVariable(FlowId.copy(variable.value));\r\n        case CaseCodeVariable.className: return new CaseCodeVariable(variable.value);\r\n        case InstanceVariable.className: return new InstanceVariable(AggregateId.copy(variable.value));\r\n        case ProcessVariable.className: return new ProcessVariable(AggregateId.copy(variable.value));\r\n        case ProcessVersionVariable.className: return new ProcessVersionVariable(AggregateId.copy(variable.value));\r\n        case NodeVariable.className: return new NodeVariable(<string>variable.value);\r\n        case CaseStatusVariable.className: return new CaseStatusVariable(FlowStatus.copy(variable.value));\r\n        case WeekVariable.className: return new WeekVariable(<YearWeek>variable.value);\r\n        case MonthVariable.className: return new MonthVariable(<YearMonth>variable.value);\r\n        case DateHoursVariable.className: return new DateHoursVariable(DateHours.copy(variable.value));\r\n        case DateMinutesVariable.className: return new DateMinutesVariable(DateMinutes.copy(variable.value));\r\n        case DateSecondsVariable.className: return new DateSecondsVariable(DateSeconds.copy(variable.value));\r\n        case LinkVariable.className: return new LinkVariable(Link.copy(variable.value));\r\n        case EmailVariable.className: return new EmailVariable(FileUri.copy(<FileUri>variable.value));\r\n        case BusinessEntityVariable.className: return new BusinessEntityVariable(BusinessEntityId.copy(variable.value))\r\n        case BusinessEntityVersionVariable.className: return new BusinessEntityVersionVariable(AggregateId.copy(variable.value))\r\n        default:\r\n          throw new Error(\"Unsupported variable class: \" + className + \", variable: \" + JSON.stringify(variable));\r\n      }\r\n    }\r\n  }\r\n\r\n\r\nexport class RootVariable<V extends BusinessVariable> {\r\n\r\n  constructor(readonly name: string,\r\n              readonly variable: Typed<V>) {\r\n  }\r\n\r\n  static copy(other: RootVariable<any>) {\r\n    return new RootVariable(other.name, BusinessVariableFactory.copyTyped(other.variable));\r\n  }\r\n\r\n  unwrappedVariable(): V {\r\n    return Typed.value<V>(this.variable);\r\n  }\r\n}\r\n\r\n\r\nexport class ContextVariable<V extends BusinessVariable> {\r\n\r\n  constructor(readonly context: Option<ObjectId>,\r\n              readonly location: VariablePath,\r\n              readonly variable: Typed<V>) {\r\n  }\r\n\r\n  static copy(other: ContextVariable<any>) {\r\n    return new ContextVariable(Option.copy(other.context), VariablePath.copy(other.location), BusinessVariableFactory.copyTyped(other.variable))\r\n  }\r\n\r\n  unwrappedVariable(): V {\r\n    return Typed.value<V>(this.variable);\r\n  }\r\n\r\n  isRootVariable() {\r\n    return this.context.isEmpty() && this.location.isRoot();\r\n  }\r\n\r\n  nonRootVariable() {\r\n    return this.context.isDefined() || this.location.nonRoot();\r\n  }\r\n\r\n  toContextPath() {\r\n    return new ContextPath(this.context, this.location);\r\n  }\r\n}\r\n\r\nexport class ContextVariableType<T extends BusinessVariableType> {\r\n\r\n  constructor(readonly location: VariableTypePath,\r\n              readonly variableType: Typed<T>) {\r\n  }\r\n\r\n  static copy(other: ContextVariableType<any>) {\r\n    return new ContextVariableType(VariableTypePath.copy(other.location), BusinessVariableTypeFactory.copyTyped(other.variableType));\r\n  }\r\n\r\n  unwrappedType(): T {\r\n    return Typed.value<T>(this.variableType);\r\n  }\r\n\r\n  isRootVariableType() {\r\n    return this.location.path.length === 1;\r\n  }\r\n\r\n  nonRootVariable() {\r\n    return this.location.path.length > 1;\r\n  }\r\n}\r\n\r\nexport class RootVariableType<T extends BusinessVariableType> {\r\n\r\n  constructor(public name: string,\r\n              public variableType: Typed<T>) {\r\n  }\r\n\r\n  unwrappedVariableType(): T {\r\n    return Typed.value<T>(this.variableType);\r\n  }\r\n\r\n  variableClassName(): string {\r\n    return Typed.className(this.variableType);\r\n  }\r\n\r\n  variableTypeName(): string {\r\n    return Typed.value<BusinessVariableType>(this.variableType).typeName();\r\n  }\r\n\r\n  static copy(other: RootVariableType<any>) {\r\n    return new RootVariableType(other.name, BusinessVariableTypeFactory.copyTyped(other.variableType));\r\n  }\r\n}\r\n\r\nexport class RootVariableWithType<V extends BusinessVariable, T extends BusinessVariableType> {\r\n  constructor(readonly name: string,\r\n              public variable: Option<Typed<V>>,\r\n              readonly variableType: Typed<T>) {\r\n  }\r\n\r\n  unwrappedVariableOption(): Option<V> {\r\n    return this.variable.map(v => Typed.value<V>(v));\r\n  }\r\n\r\n  unwrappedVariableType(): T {\r\n    return Typed.value<T>(this.variableType);\r\n  }\r\n\r\n  setVariable(variable: Option<V>): void {\r\n    this.variable = variable.map(v => Typed.of(v));\r\n  }\r\n\r\n  static copy(other: RootVariableWithType<BusinessVariable, BusinessVariableType>) {\r\n    return new RootVariableWithType(other.name, Option.copy(other.variable).map(v => BusinessVariableFactory.copyTyped(v)), BusinessVariableTypeFactory.copyTyped(other.variableType));\r\n  }\r\n\r\n  static mergeVariables(variablesTypes: RootVariableType<BusinessVariableType>[], variables: RootVariable<BusinessVariable>[]) {\r\n    return variablesTypes.map(vt => new RootVariableWithType(vt.name, Option.of(variables.filter(v => v.name === vt.name)[0]).map(v => v.variable), vt.variableType));\r\n  }\r\n}\r\n\r\n\r\nexport interface BusinessVariableType {\r\n  className(): string;\r\n  typeName(): string;\r\n  defaultValue(): BusinessVariable;\r\n  createVariable(value: any): BusinessVariable;\r\n  /** Compares everything */\r\n  isEqual(value: BusinessVariableType): boolean;\r\n  /** Compares element type, Object fields, but not constraints */\r\n  typeEqual(other: BusinessVariableType): boolean;\r\n  /** Compares element type only, not object fields, not constraints */\r\n  simpleTypeEqual(other: BusinessVariableType): boolean;\r\n}\r\n\r\nexport class StringVariableType implements BusinessVariableType {\r\n\r\n  static className = \"StringVariableType\";\r\n  className() {return StringVariableType.className}\r\n\r\n  constructor() {}\r\n\r\n  defaultValue() {\r\n    return new StringVariable(\"\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new StringVariable(value);\r\n  }\r\n\r\n  static typeName = \"String\";\r\n  typeName() {\r\n    return StringVariableType.typeName;\r\n  }\r\n\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === StringVariableType.className) {\r\n      return true\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === StringVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === StringVariableType.className;\r\n  }\r\n\r\n  static empty() {\r\n    return new StringVariableType();\r\n  }\r\n}\r\n\r\n\r\nexport class I18nTextVariableType implements BusinessVariableType {\r\n\r\n  static className = \"I18nTextVariableType\";\r\n  className() {return I18nTextVariableType.className}\r\n\r\n  constructor() {}\r\n\r\n  defaultValue() {\r\n    return new I18nTextVariable(I18nText.empty());\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new I18nTextVariable(value);\r\n  }\r\n\r\n  static typeName = \"I18nText\";\r\n  typeName() {\r\n    return I18nTextVariableType.typeName;\r\n  }\r\n\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === I18nTextVariableType.className) {\r\n      return true\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === I18nTextVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === I18nTextVariableType.className;\r\n  }\r\n\r\n  static empty() {\r\n    return new I18nTextVariableType();\r\n  }\r\n}\r\n\r\n\r\nexport class PasswordVariableType implements BusinessVariableType {\r\n\r\n  static className = \"PasswordVariableType\";\r\n  className() {return PasswordVariableType.className}\r\n\r\n  constructor() {}\r\n\r\n  defaultValue() {\r\n    return new PasswordVariable(new PasswordValue(\"\"));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new PasswordVariable(value);\r\n  }\r\n\r\n  static typeName = \"Password\";\r\n  typeName() {\r\n    return PasswordVariableType.typeName;\r\n  }\r\n\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === PasswordVariableType.className) {\r\n      return true\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === PasswordVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === PasswordVariableType.className;\r\n  }\r\n\r\n  static empty() {\r\n    return new PasswordVariableType();\r\n  }\r\n}\r\n\r\n\r\nexport class NumberVariableType implements BusinessVariableType {\r\n  static className = \"NumberVariableType\";\r\n  className() {return NumberVariableType.className}\r\n\r\n  percent: boolean;\r\n  precision: number;\r\n  unit: Option<string>;\r\n\r\n  constructor(percent: boolean = false, precision: number = 0, unit: Option<string> = None()) {\r\n    this.percent = percent;\r\n    this.precision = precision;\r\n    this.unit = Option.copy(unit);\r\n  }\r\n\r\n  defaultValue() {\r\n    return new NumberVariable(0);\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new NumberVariable(value);\r\n  }\r\n\r\n  static typeName = \"Number\";\r\n  typeName() {\r\n    return NumberVariableType.typeName;\r\n  }\r\n\r\n  private countDecimalPlaces(value: number) {\r\n    const str = \"\" + value;\r\n    const index = str.indexOf('.');\r\n    if (index >= 0) {\r\n      return str.length - index - 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === NumberVariableType.className) {\r\n      const otherV = <NumberVariableType>other;\r\n      return otherV.percent === this.percent&&\r\n        otherV.precision === this.precision &&\r\n        otherV.unit.value === this.unit.value;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === NumberVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === NumberVariableType.className;\r\n  }\r\n\r\n  static empty() {\r\n    return new NumberVariableType();\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class BooleanVariableType implements BusinessVariableType {\r\n  static className = \"BooleanVariableType\";\r\n  className() {return BooleanVariableType.className}\r\n\r\n  defaultValue() {\r\n    return new BooleanVariable(false);\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new BooleanVariable(value);\r\n  }\r\n\r\n  static typeName = \"Boolean\";\r\n  typeName() {\r\n    return BooleanVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === BooleanVariableType.className) {\r\n      const otherV = <BooleanVariableType>other;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === BooleanVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === BooleanVariableType.className;\r\n  }\r\n}\r\n\r\nexport class DateVariableType implements BusinessVariableType {\r\n  static className = \"DateVariableType\";\r\n  className() {return DateVariableType.className}\r\n\r\n  constructor() {\r\n  }\r\n\r\n  defaultValue() {\r\n    return new DateVariable(new LocalDate(2000, 1, 1));\r\n  }\r\n\r\n  static empty(): DateVariableType {\r\n    return new DateVariableType();\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new DateVariable(value);\r\n  }\r\n\r\n  static typeName = \"Date\";\r\n  typeName() {\r\n    return DateVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === DateVariableType.className) {\r\n      return true\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DateVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DateVariableType.className;\r\n  }\r\n}\r\n\r\nexport class DateTimeVariableType implements BusinessVariableType {\r\n  static className = \"DateTimeVariableType\";\r\n  className() {return DateTimeVariableType.className}\r\n\r\n  constructor() {\r\n  }\r\n\r\n  defaultValue() {\r\n    return new DateTimeVariable(new LocalDateTime(new LocalDate(2000, 1, 1), new LocalTime(12, 0, 0, 0)));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new DateTimeVariable(value);\r\n  }\r\n\r\n  static typeName = \"DateTime\";\r\n  typeName() {\r\n    return DateTimeVariableType.typeName;\r\n  }\r\n\r\n  static empty(): DateTimeVariableType {\r\n    return new DateTimeVariableType();\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === DateTimeVariableType.className) {\r\n      return true\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DateTimeVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DateTimeVariableType.className;\r\n  }\r\n}\r\n\r\nexport class TimeVariableType implements BusinessVariableType {\r\n  static className = \"TimeVariableType\";\r\n  className() {return TimeVariableType.className}\r\n\r\n  defaultValue() {\r\n    return new TimeVariable(new LocalTime(12, 0, 0, 0));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new TimeVariable(value);\r\n  }\r\n\r\n  static typeName = \"Time\";\r\n  typeName() {\r\n    return TimeVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === TimeVariableType.className) {\r\n      const otherV = <TimeVariableType>other;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === TimeVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === TimeVariableType.className;\r\n  }\r\n}\r\n\r\nexport class IntervalVariableType implements BusinessVariableType {\r\n  static className = \"IntervalVariableType\";\r\n  className() {return IntervalVariableType.className}\r\n\r\n  defaultValue() {\r\n    return new IntervalVariable(new Duration(0, 0));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new IntervalVariable(value);\r\n  }\r\n\r\n  static typeName = \"Interval\";\r\n  typeName() {\r\n    return IntervalVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === IntervalVariableType.className) {\r\n      const otherV = <IntervalVariableType>other;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === IntervalVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === IntervalVariableType.className;\r\n  }\r\n}\r\n\r\nexport class GeoCoordinateVariableType implements BusinessVariableType {\r\n  static className = \"GeoCoordinateVariableType\";\r\n  className() {return GeoCoordinateVariableType.className}\r\n\r\n  defaultValue() {\r\n    return new GeoCoordinateVariable(new GeoCoordinate(0, 0));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new GeoCoordinateVariable(value);\r\n  }\r\n\r\n  static typeName = \"GeoCoordinate\";\r\n  typeName() {\r\n    return GeoCoordinateVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: GeoCoordinateVariableType): boolean {\r\n    if(other.className() === GeoCoordinateVariableType.className) {\r\n      const otherV = <GeoCoordinateVariableType>other;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === GeoCoordinateVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === GeoCoordinateVariableType.className;\r\n  }\r\n}\r\n\r\nexport class LinkVariableType implements BusinessVariableType {\r\n  static className = \"LinkVariableType\";\r\n  className() {return LinkVariableType.className}\r\n\r\n  defaultValue() {\r\n    return new LinkVariable(new Link(\"\", \"\"));\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new LinkVariable(value);\r\n  }\r\n\r\n  static typeName = \"Link\";\r\n  typeName() {\r\n    return LinkVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: LinkVariableType): boolean {\r\n    if(other.className() === LinkVariableType.className) {\r\n      const otherV = <LinkVariableType>other;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === LinkVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === LinkVariableType.className;\r\n  }\r\n}\r\n\r\n\r\nexport class FileVariableType implements BusinessVariableType {\r\n  static className = \"FileVariableType\";\r\n  className() {return FileVariableType.className}\r\n\r\n  constructor() {\r\n  }\r\n\r\n  defaultValue(): FileVariableV2 {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new FileVariableV2(value);\r\n  }\r\n\r\n  static typeName = \"File\";\r\n  typeName() {\r\n    return FileVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    if(other.className() === FileVariableType.className) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === FileVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === FileVariableType.className;\r\n  }\r\n\r\n}\r\n\r\nexport class OrganizationNodeVariableType implements BusinessVariableType {\r\n  static className = \"OrganizationNodeVariableType\";\r\n  className() {return OrganizationNodeVariableType.className}\r\n\r\n  defaultValue(): OrganizationNodeVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    if(value instanceof PersonId) {\r\n      return new PersonVariable(value);\r\n    } else if(value instanceof DepartmentId) {\r\n      return new DepartmentVariable(value);\r\n    } else if(value instanceof GroupId) {\r\n      return new GroupVariable(value);\r\n    } else {\r\n      throw new Error(\"Unsupported variable type [\" +(typeof value)+\"]\");\r\n    }\r\n  }\r\n\r\n  static typeName = \"OrganizationNode\";\r\n  typeName() {\r\n    return OrganizationNodeVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === OrganizationNodeVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === OrganizationNodeVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === OrganizationNodeVariableType.className;\r\n  }\r\n}\r\n\r\nexport class PersonVariableType implements BusinessVariableType {\r\n  static className = \"PersonVariableType\";\r\n  className() {return PersonVariableType.className}\r\n\r\n  defaultValue(): PersonVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new PersonVariable(value);\r\n  }\r\n\r\n  static typeName = \"Person\";\r\n  typeName() {\r\n    return PersonVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === PersonVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === PersonVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === PersonVariableType.className;\r\n  }\r\n}\r\n\r\nexport class DepartmentVariableType implements BusinessVariableType {\r\n  static className = \"DepartmentVariableType\";\r\n  className() {return DepartmentVariableType.className}\r\n\r\n  defaultValue(): DepartmentVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new DepartmentVariable(value);\r\n  }\r\n\r\n  static typeName = \"Department\";\r\n  typeName() {\r\n    return DepartmentVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DepartmentVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DepartmentVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === DepartmentVariableType.className;\r\n  }\r\n}\r\n\r\nexport class GroupVariableType implements BusinessVariableType {\r\n  static className = \"GroupVariableType\";\r\n  className() {return GroupVariableType.className}\r\n\r\n  defaultValue(): GroupVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new GroupVariable(value);\r\n  }\r\n\r\n  static typeName = \"Group\";\r\n  typeName() {\r\n    return GroupVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === GroupVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === GroupVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === GroupVariableType.className;\r\n  }\r\n}\r\n\r\n\r\nexport class ArrayVariableType<T extends BusinessVariableType> implements BusinessVariableType {\r\n  static className = \"ArrayVariableType\";\r\n  className() {return ArrayVariableType.className}\r\n\r\n  subType: Typed<T>;\r\n\r\n  constructor(subType: Typed<T>) {\r\n    this.subType = subType;\r\n  }\r\n\r\n  static of<T extends BusinessVariableType>(subType: T): ArrayVariableType<T> {\r\n    return new ArrayVariableType(Typed.of(subType));\r\n  }\r\n\r\n  defaultValue() {\r\n    return new ArrayVariable([]);\r\n  }\r\n\r\n  unwrappedSubtype(): T {\r\n    return Typed.value<T>(this.subType);\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new ArrayVariable(value);\r\n  }\r\n\r\n  static typeName = \"Array\";\r\n  typeName() {\r\n    return ArrayVariableType.typeName + \"[\" + Typed.value(this.subType).typeName()+\"]\";\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return this.typeEqual(other);\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ArrayVariableType.className && (<ArrayVariableType<BusinessVariableType>>other).unwrappedSubtype().typeEqual(this.unwrappedSubtype());\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ArrayVariableType.className && (<ArrayVariableType<BusinessVariableType>>other).unwrappedSubtype().typeEqual(this.unwrappedSubtype());\r\n  }\r\n\r\n  addFieldByPath(path: VariableTypePath, fieldType: Typed<BusinessVariableType>): number {\r\n    if (this.unwrappedSubtype().className() === ArrayVariableType.className) {\r\n      return (<ArrayVariableType<BusinessVariableType>><any>this.unwrappedSubtype()).addFieldByPath(path, fieldType);\r\n    } else if (this.unwrappedSubtype().className() === ObjectVariableType.className) {\r\n      return (<ObjectVariableType><any>this.unwrappedSubtype()).addFieldByPath(path, fieldType);\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ObjectVariableType implements BusinessVariableType {\r\n  static className = \"ObjectVariableType\";\r\n  className() {return ObjectVariableType.className}\r\n\r\n  subTypes: Array<[string, Typed<BusinessVariableType>]>;\r\n\r\n  constructor(subTypes: [string, Typed<BusinessVariableType>][]) {\r\n    this.subTypes = subTypes;\r\n  }\r\n\r\n  static copy(other: ObjectVariableType): ObjectVariableType {\r\n    return new ObjectVariableType(other.subTypes.map((s: [string, Typed<BusinessVariableType>]) => <[string, Typed<BusinessVariableType>]>[s[0], BusinessVariableTypeFactory.copyTyped(s[1])]))\r\n  }\r\n\r\n  defaultValue() {\r\n    return new ObjectVariable({});\r\n  }\r\n\r\n  fieldTypeByName(fieldName: string): Option<BusinessVariableType> {\r\n    return Option.of(this.subTypes.filter(s => s[0] === fieldName)[0]).map(r => Typed.value(r[1]));\r\n  }\r\n\r\n  fieldTypeByPath(path: VariableTypePath): Option<BusinessVariableType> {\r\n    const variableAtHead = __(this.subTypes).find(field => field[0] === path.head());\r\n    if (path.isRoot()) {\r\n      return variableAtHead.map(tuple => Typed.value(tuple[1]));\r\n    } else {\r\n      return variableAtHead.flatMap(tuple => {\r\n        if (Typed.className(tuple[1]) === ObjectVariableType.className) {\r\n          return (<ObjectVariableType>Typed.value(tuple[1])).fieldTypeByPath(path.tail());\r\n        } else {\r\n          return None()\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  createVariable(value: any) {\r\n    return new ObjectVariable(value);\r\n  }\r\n\r\n  static typeName = \"Object\";\r\n  typeName() {\r\n    return ObjectVariableType.typeName;\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return this.typeEqual(other);\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ObjectVariableType.className && this.fieldsTypesEqual(<ObjectVariableType>other);\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ObjectVariableType.className;\r\n  }\r\n\r\n  addField(fieldName: string, fieldType: Typed<BusinessVariableType>): number {\r\n    const newField: [string, Typed<BusinessVariableType>] = [fieldName,fieldType];\r\n    this.subTypes = this.subTypes.filter(type => type[0] !== fieldName);\r\n    this.subTypes.push(newField);\r\n    return this.subTypes.length - 1;\r\n  }\r\n\r\n  addFieldByPath(path: VariableTypePath, fieldType: Typed<BusinessVariableType>): number {\r\n    if (path.isRoot()) {\r\n      return this.addField(path.head(), fieldType)\r\n    } else if (!path.isEmpty()) {\r\n      return __(this.subTypes).find(entry => entry[0] === path.head()).map(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          return (<ObjectVariableType>Typed.value(entry[1])).addFieldByPath(path.tail(), fieldType);\r\n        } else if (Typed.className(entry[1]) === ArrayVariableType.className) {\r\n          return (<ArrayVariableType<BusinessVariableType>>Typed.value(entry[1])).addFieldByPath(path.tail(), fieldType);\r\n        } else {\r\n          return -1;\r\n        }\r\n      }).getOrElse(-1);\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  addFieldAtIndex(fieldName: string, fieldType: Typed<BusinessVariableType>, index: number) {\r\n    const newField: [string, Typed<BusinessVariableType>] = [fieldName,fieldType];\r\n    this.subTypes.splice(index, 0, newField);\r\n  }\r\n\r\n  addFieldByPathAtIndexAtPath(path: VariableTypePath, fieldType: Typed<BusinessVariableType>, index: number) {\r\n    if (path.isRoot()) {\r\n      return this.addFieldAtIndex(path.head(), fieldType, index)\r\n    } else if (!path.isEmpty()) {\r\n      __(this.subTypes).find(entry => entry[0] === path.head()).forEach(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          (<ObjectVariableType>Typed.value(entry[1])).addFieldByPathAtIndexAtPath(path.tail(), fieldType, index)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  moveField(fromIndex: number, toIndex: number) {\r\n    if(fromIndex < toIndex) {\r\n      const startList = this.subTypes.filter((f, index) => index < fromIndex);\r\n      const fromElem = this.subTypes.filter((f, index) => index === fromIndex);\r\n      const movedList = this.subTypes.filter((f, index) => index > fromIndex && index < toIndex);\r\n      const toElem = this.subTypes.filter((f, index) => index === toIndex);\r\n      const endList = this.subTypes.filter((f, index) => index > toIndex);\r\n      this.subTypes = startList.concat(toElem).concat(movedList).concat(fromElem).concat(endList);\r\n    } else {\r\n      const startList = this.subTypes.filter((f, index) => index < toIndex);\r\n      const fromElem = this.subTypes.filter((f, index) => index === fromIndex);\r\n      const movedList = this.subTypes.filter((f, index) => index > toIndex && index < fromIndex);\r\n      const toElem = this.subTypes.filter((f, index) => index === toIndex);\r\n      const endList = this.subTypes.filter((f, index) => index > fromIndex);\r\n      this.subTypes = startList.concat(fromElem).concat(movedList).concat(toElem).concat(endList);\r\n    }\r\n  }\r\n\r\n  removeField(fieldName: string) {\r\n    const index = __(this.subTypes).findIndexOf(entry => entry[0] === fieldName);\r\n    index.forEach(idx => this.subTypes.splice(idx, 1));\r\n  }\r\n\r\n  removeFieldAtIndex(index: number) {\r\n    this.subTypes.splice(index, 1);\r\n  }\r\n\r\n  removeFieldByPath(path: VariableTypePath) {\r\n    if (path.isRoot()) {\r\n      this.removeField(path.head())\r\n    } else if (!path.isEmpty()) {\r\n      __(this.subTypes).find(entry => entry[0] === path.head()).forEach(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          (<ObjectVariableType>Typed.value(entry[1])).removeFieldByPath(path.tail())\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  removeFieldBydPathAtIndex(path: VariableTypePath, index: number) {\r\n    if (path.isEmpty()) {\r\n      this.removeFieldAtIndex(index)\r\n    } else if (!path.isEmpty()) {\r\n      __(this.subTypes).find(entry => entry[0] === path.head()).forEach(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          (<ObjectVariableType>Typed.value(entry[1])).removeFieldBydPathAtIndex(path.tail(), index)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  renameField(oldName: string, newName: string) {\r\n    __(this.subTypes).find(entry => entry[0] === oldName).forEach(entry => entry[0] = newName);\r\n  }\r\n\r\n  renameFieldByPath(path: VariableTypePath, newName: string) {\r\n    if (path.isRoot()) {\r\n      this.renameField(path.head(), newName)\r\n    } else if (!path.isEmpty()) {\r\n      __(this.subTypes).find(entry => entry[0] === path.head()).forEach(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          (<ObjectVariableType>Typed.value(entry[1])).renameFieldByPath(path.tail(), newName)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  changeFieldType(name: string, newType: Typed<BusinessVariableType>) {\r\n    __(this.subTypes).find(entry => entry[0] === name).forEach(entry => entry[1] = newType);\r\n  }\r\n\r\n  changeFieldTypeByPath(path: VariableTypePath, newType: Typed<BusinessVariableType>) {\r\n    if (path.isRoot()) {\r\n      this.changeFieldType(path.head(), newType)\r\n    } else if (!path.isEmpty()) {\r\n      __(this.subTypes).find(entry => entry[0] === path.head()).forEach(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          (<ObjectVariableType>Typed.value(entry[1])).changeFieldTypeByPath(path.tail(), newType)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  findIndexByPath(path: VariableTypePath): Option<number> {\r\n    if (path.isRoot()) {\r\n      return __(this.subTypes).findIndexOf(field => field[0] === path.head())\r\n    } else {\r\n      return __(this.subTypes).find(entry => entry[0] === path.head()).flatMap(entry => {\r\n        if (Typed.className(entry[1]) === ObjectVariableType.className) {\r\n          return (<ObjectVariableType>Typed.value(entry[1])).findIndexByPath(path.tail())\r\n        } else {\r\n          return None();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private fieldsTypesEqual(other: ObjectVariableType): boolean {\r\n    const thisFields = this.subTypes.map(s => s[0]).sort();\r\n    const otherFields = this.subTypes.map(s => s[0]).sort();\r\n\r\n    // const sameFieldsNames = thisFields.length === otherFields.length && _.intersection(thisFields, otherFields).length === otherFields.length;\r\n\r\n    // return sameFieldsNames && _.every(thisFields, (field: string) => this.fieldTypeByName(field).value.typeEqual(other.fieldTypeByName(field).value));\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class TaskVariableType implements BusinessVariableType {\r\n  static className = \"TaskVariableType\";\r\n  className() {return TaskVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new TaskVariable(value);\r\n  }\r\n\r\n  static typeName = \"Task\";\r\n  typeName() {\r\n    return TaskVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): TaskVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === TaskVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === TaskVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === TaskVariableType.className;\r\n  }\r\n\r\n  static empty(): TaskVariableType {\r\n    return new TaskVariableType();\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class CaseVariableType implements BusinessVariableType {\r\n  static className = \"CaseVariableType\";\r\n  className() {return CaseVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new CaseVariable(value);\r\n  }\r\n\r\n  static typeName = \"Case\";\r\n  typeName() {\r\n    return CaseVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): CaseVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseVariableType.className;\r\n  }\r\n\r\n  static empty(): CaseVariableType {\r\n    return new CaseVariableType();\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class CaseCodeVariableType implements BusinessVariableType {\r\n  static className = \"CaseCodeVariableType\";\r\n  className() {return CaseCodeVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new CaseVariable(value);\r\n  }\r\n\r\n  static typeName = \"CaseCode\";\r\n  typeName() {\r\n    return CaseCodeVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): CaseVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseCodeVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseCodeVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseCodeVariableType.className;\r\n  }\r\n\r\n  static empty(): CaseCodeVariableType {\r\n    return new CaseCodeVariableType();\r\n  }\r\n\r\n}\r\n\r\nexport class CaseStatusVariableType implements BusinessVariableType {\r\n  static className = \"CaseStatusVariableType\";\r\n  className() {return CaseStatusVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new CaseStatusVariable(value);\r\n  }\r\n\r\n  static typeName = \"CaseStatus\";\r\n  typeName() {\r\n    return CaseStatusVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): CaseStatusVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseStatusVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseStatusVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === CaseStatusVariableType.className;\r\n  }\r\n}\r\n\r\n\r\nexport class InstanceVariableType implements BusinessVariableType {\r\n  static className = \"InstanceVariableType\";\r\n  className() {return InstanceVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new InstanceVariable(value);\r\n  }\r\n\r\n  static typeName = \"Instance\";\r\n  typeName() {\r\n    return InstanceVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): InstanceVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === InstanceVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === InstanceVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === InstanceVariableType.className;\r\n  }\r\n}\r\n\r\nexport class ProcessVariableType implements BusinessVariableType {\r\n  static className = \"ProcessVariableType\";\r\n  className() {return ProcessVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new ProcessVariable(value);\r\n  }\r\n\r\n  static typeName = \"Process\";\r\n  typeName() {\r\n    return ProcessVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): ProcessVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVariableType.className;\r\n  }\r\n}\r\n\r\nexport class ProcessVersionVariableType implements BusinessVariableType {\r\n  static className = \"ProcessVersionVariableType\";\r\n  className() {return ProcessVersionVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new ProcessVersionVariable(value);\r\n  }\r\n\r\n  static typeName = \"ProcessVersion\";\r\n  typeName() {\r\n    return ProcessVersionVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): ProcessVersionVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVersionVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVersionVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === ProcessVersionVariableType.className;\r\n  }\r\n}\r\n\r\nexport class NodeVariableType implements BusinessVariableType {\r\n  static className = \"NodeVariableType\";\r\n  className() {return NodeVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new NodeVariable(value);\r\n  }\r\n\r\n  static typeName = \"Node\";\r\n  typeName() {\r\n    return NodeVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): NodeVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === NodeVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === NodeVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === NodeVariableType.className;\r\n  }\r\n}\r\n\r\nexport class EmailVariableType implements BusinessVariableType {\r\n  static className = \"EmailVariableType\";\r\n  className() {return EmailVariableType.className}\r\n\r\n  createVariable(value: any) {\r\n    return new EmailVariable(value);\r\n  }\r\n\r\n  static typeName = \"Email\";\r\n  typeName() {\r\n    return EmailVariableType.typeName;\r\n  }\r\n\r\n  defaultValue(): EmailVariable {\r\n    throw new Error(\"No default variable available\");\r\n  }\r\n\r\n  isEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === EmailVariableType.className;\r\n  }\r\n\r\n  typeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === EmailVariableType.className;\r\n  }\r\n\r\n  simpleTypeEqual(other: BusinessVariableType): boolean {\r\n    return other.className() === EmailVariableType.className;\r\n  }\r\n}\r\n\r\nexport class BusinessVariableTypeFactory {\r\n  static copy(variable: BusinessVariableType): BusinessVariableType {\r\n    return BusinessVariableTypeFactory.copyByType(variable, variable.className());\r\n  }\r\n\r\n  static copyTyped(variable: Typed<BusinessVariableType>): Typed<BusinessVariableType> {\r\n    return Typed.of(BusinessVariableTypeFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n  }\r\n\r\n  static copyByType(variable: BusinessVariableType, className: string): BusinessVariableType {\r\n    switch (className) {\r\n      case StringVariableType.className: return new StringVariableType();\r\n      case PasswordVariableType.className: return new PasswordVariableType();\r\n      case I18nTextVariableType.className: return new I18nTextVariableType();\r\n      case NumberVariableType.className: {\r\n        const v: NumberVariableType = <NumberVariableType>variable;\r\n        return new NumberVariableType(v.percent, v.precision, v.unit);\r\n      }\r\n      case BooleanVariableType.className: return new BooleanVariableType();\r\n      case DateVariableType.className: return new DateVariableType();\r\n      case DateTimeVariableType.className: return new DateTimeVariableType();\r\n      case TimeVariableType.className: return new TimeVariableType();\r\n      case IntervalVariableType.className: return new IntervalVariableType();\r\n      case GeoCoordinateVariableType.className: return new GeoCoordinateVariableType();\r\n      case FileVariableType.className: return new FileVariableType();\r\n      case PersonVariableType.className: return new PersonVariableType();\r\n      case DepartmentVariableType.className: return new DepartmentVariableType();\r\n      case GroupVariableType.className: return new GroupVariableType();\r\n      case OrganizationNodeVariableType.className: return new OrganizationNodeVariableType();\r\n      case ArrayVariableType.className: {\r\n        const v: ArrayVariableType<any> = <ArrayVariableType<any>>variable;\r\n        return new ArrayVariableType<any>(BusinessVariableTypeFactory.copyTyped(v.subType));\r\n      }\r\n      case ObjectVariableType.className: {\r\n        const v: ObjectVariableType = <ObjectVariableType>variable;\r\n        return ObjectVariableType.copy(v);\r\n      }\r\n      case TaskVariableType.className: return new TaskVariableType();\r\n      case CaseVariableType.className: return new CaseVariableType();\r\n      case CaseCodeVariableType.className: return new CaseCodeVariableType();\r\n      case CaseStatusVariableType.className: return new CaseStatusVariableType();\r\n      case InstanceVariableType.className: return new InstanceVariableType();\r\n      case ProcessVariableType.className: return new ProcessVariableType();\r\n      case ProcessVersionVariableType.className: return new ProcessVersionVariableType();\r\n      case NodeVariableType.className: return new NodeVariableType();\r\n      case LinkVariableType.className: return new LinkVariableType();\r\n      case EmailVariableType.className: return new EmailVariableType();\r\n      default: throw new Error(\"Unsupported variable: \" + JSON.stringify(variable));\r\n    }\r\n  }\r\n\r\n  static createFromVariable(variable: BusinessVariable): BusinessVariableType {\r\n    switch (variable.className()) {\r\n      case StringVariable.className: {\r\n        return new StringVariableType();\r\n      }\r\n      case PasswordVariable.className: {\r\n        return new PasswordVariableType();\r\n      }\r\n      case NumberVariable.className: {\r\n        return new NumberVariableType();\r\n      }\r\n      case BooleanVariable.className: return new BooleanVariableType();\r\n      case DateVariable.className: {\r\n        return new DateVariableType();\r\n      }\r\n      case DateTimeVariable.className: {\r\n        return new DateTimeVariableType();\r\n      }\r\n      case TimeVariable.className: return new TimeVariableType();\r\n      case IntervalVariable.className: return new IntervalVariableType();\r\n      case GeoCoordinateVariable.className: return new GeoCoordinateVariableType();\r\n      case FileVariableV2.className: {\r\n        return new FileVariableType();\r\n      }\r\n      case PersonVariable.className: return new PersonVariableType();\r\n      case DepartmentVariable.className: return new DepartmentVariableType();\r\n      case GroupVariable.className: return new GroupVariableType();\r\n      case ArrayVariable.className: {\r\n        let variables = (<ArrayVariable<BusinessVariable>>variable).unwrappedValue();\r\n        return ArrayVariableType.of(variables.length > 0 ? BusinessVariableTypeFactory.createFromVariable(variables[0]) : new StringVariableType());\r\n      }\r\n      case ObjectVariable.className: {\r\n        throw new Error(\"Object not upported\");// null // TODO\r\n      }\r\n      case TaskVariable.className: return new TaskVariableType();\r\n      case CaseVariable.className: return new CaseVariableType();\r\n      case CaseStatusVariable.className: return new CaseStatusVariableType();\r\n      case InstanceVariable.className: return new InstanceVariableType();\r\n      case ProcessVariable.className: return new ProcessVariableType();\r\n      case ProcessVersionVariable.className: return new ProcessVersionVariableType();\r\n      case NodeVariable.className: return new NodeVariableType();\r\n      case LinkVariable.className: return new LinkVariableType();\r\n      case EmailVariableType.className: return new EmailVariableType();\r\n      default: throw new Error(\"Unsupported variable: \" + JSON.stringify(variable));\r\n    }\r\n  }\r\n}\r\n","  const alphanumerics = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n\r\n  export function randomAlphanumeric(length: number): string {\r\n    let result = '';\r\n    for (let i = 0; i < length; i++) {\r\n      result += alphanumerics[Math.floor(Math.random() * alphanumerics.length)];\r\n    }\r\n    return result;\r\n  }\r\n","import {PositionXY} from \"./PositionXY\";\r\nimport {Size} from \"./Size\";\r\n\r\nexport class RectXY {\r\n\r\n  constructor(readonly x: number, readonly y: number, readonly width: number, readonly height: number) {}\r\n\r\n  get centerPosition(): PositionXY {\r\n    return new PositionXY(this.x + this.width / 2, this.y + this.height / 2);\r\n  }\r\n\r\n  get size(): Size {\r\n    return new Size(this.width, this.height);\r\n  }\r\n\r\n  get position(): PositionXY {\r\n    return new PositionXY(this.x, this.y);\r\n  }\r\n\r\n  get endX(): number {\r\n    return this.x + this.width;\r\n  }\r\n\r\n  get endY(): number {\r\n    return this.y + this.height;\r\n  }\r\n\r\n  get centerX(): number {\r\n    return this.x + this.width / 2;\r\n  }\r\n\r\n  get centerY(): number {\r\n    return this.y + this.height / 2;\r\n  }\r\n\r\n  contains(point: PositionXY): boolean {\r\n    return point.x > this.x && point.x < this.x + this.width\r\n      && point.y > this.y && point.y < this.y + this.height;\r\n  }\r\n\r\n  containsXY(x: number, y: number): boolean {\r\n    return x > this.x && x < this.x + this.width\r\n      && y > this.y && y < this.y + this.height;\r\n  }\r\n\r\n  combineWith(other: RectXY): RectXY {\r\n    const minX = Math.min(this.x, other.x);\r\n    const minY = Math.min(this.y, other.y);\r\n    const maxX = Math.max(this.x + this.width, other.x + other.width);\r\n    const maxY = Math.max(this.y + this.height, other.y + other.height);\r\n    return new RectXY(minX,minY, maxX - minX, maxY - minY);\r\n  }\r\n\r\n  shift(position: PositionXY): RectXY {\r\n    return new RectXY(this.x + position.x, this.y + position.y, this.width, this.height);\r\n  }\r\n\r\n  unshift(position: PositionXY): RectXY {\r\n    return new RectXY(this.x - position.x, this.y - position.y, this.width, this.height);\r\n  }\r\n\r\n  equals(other: RectXY) {\r\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\r\n  }\r\n}\r\n","/**\r\n * Immutable wrapper for width and height values.\r\n */\r\nexport class Size {\r\n\r\n  constructor(readonly width:number, readonly height:number) {}\r\n\r\n  /**\r\n   * It returns new Size object scaled by a given factor.\r\n   */\r\n  scale(factor: number) {\r\n    return new Size(this.width * factor, this.height * factor);\r\n  }\r\n\r\n  plus(plusWidth: number, plusHeight: number) {\r\n    return new Size(this.width + plusWidth, this.height + plusHeight);\r\n  }\r\n}\r\n\r\n\r\nclass Padding {\r\n\r\n  private _top: number;\r\n  private _right: number;\r\n  private _bottom: number;\r\n  private _left: number;\r\n\r\n\r\n  constructor(top: number, right: number, bottom: number, left: number) {\r\n    this._top = top;\r\n    this._right = right;\r\n    this._bottom = bottom;\r\n    this._left = left;\r\n  }\r\n\r\n\r\n  get top(): number {\r\n    return this._top;\r\n  }\r\n\r\n  get right(): number {\r\n    return this._right;\r\n  }\r\n\r\n  get bottom(): number {\r\n    return this._bottom;\r\n  }\r\n\r\n  get left(): number {\r\n    return this._left;\r\n  }\r\n\r\n  toCss(unit: string) {\r\n    return this._top + unit+\" \"+this._right + unit+\" \"+this._bottom + unit+\" \"+this._left + unit;\r\n  }\r\n}\r\n","\r\n  const possibleCharacters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n  export function randomString(length: number): string {\r\n    return Array.apply(null, new Array(length)).map(function () {\r\n      return possibleCharacters[Math.floor(Math.random() * possibleCharacters.length)];\r\n    }).join('');\r\n  }\r\n\r\n  let estimateTextWidthCacheFontSize = -1;\r\n  let estimateTextWidthCache: {[text: string]: number} = {};\r\n\r\n  function estimateTextWidthFromCache(text: string, fontSize: number): number|undefined {\r\n    if(estimateTextWidthCacheFontSize == fontSize) {\r\n      return estimateTextWidthCache[text];\r\n    } else {\r\n      estimateTextWidthCacheFontSize = fontSize;\r\n      estimateTextWidthCache = {};\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  function putInEstimateTextWidthCache(text: string, fontSize: number, estimated: number): void {\r\n    if(estimateTextWidthCacheFontSize != fontSize) {\r\n      estimateTextWidthCacheFontSize = fontSize;\r\n      estimateTextWidthCache = {};\r\n    }\r\n    estimateTextWidthCache[text] = estimated;\r\n  }\r\n\r\n  export function estimateTextWidth(text: string, fontSize: number): number {\r\n\r\n    const fromCache = estimateTextWidthFromCache(text, fontSize);\r\n\r\n    if(fromCache != undefined) {\r\n      return fromCache;\r\n    } else {\r\n      const testElement = document.createElement(\"div\");\r\n      testElement.style.visibility = \"hidden\";\r\n      testElement.style.whiteSpace = \"nowrap\";\r\n      testElement.style.display= \"inline-block\";\r\n      testElement.style.fontSize = fontSize + \"px\";\r\n\r\n      testElement.appendChild(document.createTextNode(text));\r\n      document.body.appendChild(testElement);\r\n\r\n      const width = testElement.clientWidth;\r\n      document.body.removeChild(testElement);\r\n      putInEstimateTextWidthCache(text, fontSize, width);\r\n      return width;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  let findSubstringFittingCacheFontSize = -1;\r\n  let findSubstringFittingCache: {[cacheKey: string]: string} = {};\r\n\r\n  function findSubstringFittingFromCache(text: string, fontSize: number, maxWidth: number): string|undefined {\r\n    if(findSubstringFittingCacheFontSize == fontSize) {\r\n      return findSubstringFittingCache[text+\"|\"+maxWidth];\r\n    } else {\r\n      findSubstringFittingCacheFontSize = fontSize;\r\n      findSubstringFittingCache = {};\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  function putInFindSubstringFittingCache(text: string, fontSize: number, maxWidth: number, substring: string): void {\r\n    if(findSubstringFittingCacheFontSize != fontSize) {\r\n      findSubstringFittingCacheFontSize = fontSize;\r\n      findSubstringFittingCache = {};\r\n    }\r\n    findSubstringFittingCache[text+\"|\"+maxWidth] = substring;\r\n  }\r\n\r\n  export function findSubstringFitting(text: string, fontSize: number, maxWidth: number): string {\r\n\r\n    const fromCache = findSubstringFittingFromCache(text, fontSize, maxWidth);\r\n    if(fromCache != undefined) {\r\n      return fromCache;\r\n    } else {\r\n      const testElement = document.createElement(\"div\");\r\n      testElement.style.visibility = \"hidden\";\r\n      testElement.style.whiteSpace = \"nowrap\";\r\n      testElement.style.display= \"inline-block\";\r\n      testElement.style.fontSize = fontSize + \"px\";\r\n      document.body.appendChild(testElement);\r\n\r\n      let tmp = text;\r\n\r\n      testElement.appendChild(document.createTextNode(tmp));\r\n      let textWidth = testElement.clientWidth;\r\n      let truncated = false;\r\n\r\n      while (tmp.length > 0 && textWidth > maxWidth) {\r\n        tmp = tmp.substr(0, tmp.length - 1);\r\n        if(testElement.firstChild !== null) {\r\n          testElement.removeChild(testElement.firstChild);\r\n        }\r\n        testElement.appendChild(document.createTextNode(tmp + \".\"));\r\n        textWidth = testElement.clientWidth;\r\n        truncated = true;\r\n      }\r\n\r\n      document.body.removeChild(testElement);\r\n      const result = truncated ? (tmp + \".\") : tmp;\r\n      putInFindSubstringFittingCache(text, fontSize, maxWidth, result);\r\n      return result;\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  export function toFixedLengthString(n: number, digits: number) {\r\n    let str = n+\"\";\r\n    while(str.length < digits) {\r\n      str = \"0\" + str;\r\n    }\r\n    return str;\r\n  }\r\n\r\n  export function trim(value: string|undefined) {\r\n    if(value) {\r\n      return value.trim();\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  export function escapeFilePathForUriNoEncoding(path: string) {\r\n    return path.replace(/\\+/g, \"*\").replace(/ /g, \"+\");\r\n  }\r\n\r\n  export function decodeFilePathFromUriNoDecoding(path: string|null) {\r\n    if(path) {\r\n      return path.replace(/\\+/g, \" \").replace(/\\*/g, \"+\");\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  export function encodeFilePath(path: string) {\r\n    return encodeURIComponent(path).replace(/%2F/g, \"/\");\r\n  }\r\n\r\n  export function nameToCodeName(name: string): string {\r\n    return name.trim().toLowerCase().replace(/\\s+/g, \"_\").replace(/[^a-ząćęłńóśźż0-9_$]+/g, \"\").replace(/^[$0-9_]+/g, \"\");\r\n  }\r\n\r\n  export function removeExtraWhitespaces(value: string|undefined|null){\r\n    return value ? value.replace(/\\s\\s+/g, ' ').trim() : value;\r\n  }\r\n","export class Trilean {\n  static TRUE = new Trilean(\"true\");\n  static UNKNOWN = new Trilean(\"unknown\");\n  static FALSE = new Trilean(\"false\");\n\n  private constructor(readonly name: string) {\n    if(name !== \"true\" && name !== \"unknown\" && name !== \"false\") {\n      throw new Error(\"Incorrect Trilean value [\" + name + \"]\");\n    }\n  }\n\n  isTrue() {\n    return this.name === Trilean.TRUE.name;\n  }\n\n  notTrue() {\n    return this.name !== Trilean.TRUE.name;\n  }\n\n  isUnknown() {\n    return this.name === Trilean.UNKNOWN.name;\n  }\n\n  isFalse() {\n    return this.name === Trilean.FALSE.name;\n  }\n\n  notFalse() {\n    return this.name !== Trilean.FALSE.name;\n  }\n\n  isKnown() {\n    return this.name !== Trilean.UNKNOWN.name;\n  }\n\n  booleanOrElse(orElse: boolean|(() => boolean)): boolean {\n    if (this.name === Trilean.TRUE.name) {\n      return true;\n    } else if (this.name === Trilean.FALSE.name) {\n      return false;\n    } else {\n      if (typeof orElse === \"boolean\") {\n        return orElse;\n      } else {\n        return orElse();\n      }\n    }\n  }\n\n  booleanOrNull(): boolean|null {\n    if (this.name === Trilean.TRUE.name) {\n      return true;\n    } else if (this.name === Trilean.FALSE.name) {\n      return false;\n    } else {\n      return null;\n    }\n  }\n\n    asBoolean() {\n      if (this.name === Trilean.TRUE.name) {\n        return true;\n      } else if (this.name === Trilean.FALSE.name) {\n        return false;\n      } else {\n        throw new Error(\"Cannot get boolean value from unknown Trilean\");\n      }\n    }\n\n  static copy(other: Trilean) {\n    switch (other.name) {\n      case \"true\": return Trilean.TRUE;\n      case \"unknown\": return Trilean.UNKNOWN;\n      case \"false\": return Trilean.FALSE;\n      default: throw new Error(\"Incorrect Trilean value [\" + other.name + \"]\");\n    }\n  }\n\n  equals(other: Trilean) {\n    return other.name === this.name;\n  }\n\n  static ofBoolean(value: boolean) {\n    return value ? Trilean.TRUE : Trilean.FALSE;\n  }\n}\n","\r\n\r\nexport class Try<RESULT> {\r\n\r\n  private _result: RESULT|null;\r\n  private _error: Error|null;\r\n\r\n  constructor(value: RESULT|null, error: Error|null) {\r\n    if((value == undefined || value == null) && (error == undefined || error == null)) {\r\n      throw new Error(\"Incorrect Try content, both value and error message are undefined.\")\r\n    } else if(value != undefined && value != null && error != undefined && error != null) {\r\n      throw new Error(\"Incorrect Try content, both value and error message are defined.\")\r\n    } else {\r\n      if (value == null || value == undefined) {\r\n        this._result = null;\r\n      } else {\r\n        this._result = value;\r\n      }\r\n      if (error == null || error == undefined) {\r\n        this._error = null;\r\n      } else {\r\n        this._error = error;\r\n      }\r\n    }\r\n  }\r\n\r\n  isSuccess() {\r\n    return this._result !== null;\r\n  }\r\n\r\n  isFailure() {\r\n    return this._error !== null;\r\n  }\r\n\r\n  get result(): RESULT {\r\n    if(this._result !== null) {\r\n      return this._result;\r\n    } else {\r\n      throw new Error(\"Cannot get result from a Failure\");\r\n    }\r\n  }\r\n\r\n  get error(): Error {\r\n    if(this._error !== null) {\r\n      return this._error;\r\n    } else {\r\n      throw new Error(\"Cannot get error from a Success\");\r\n    }\r\n  }\r\n\r\n  onSuccess(callback: (result: RESULT) => void): Try<RESULT> {\r\n    if(this._result !== null) {\r\n      callback(this._result);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  onFailure(callback: (error: Error) => void): Try<RESULT> {\r\n    if(this._error !== null) {\r\n      callback(this._error);\r\n    }\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\nexport function Success<RESULT>(result: RESULT) {\r\n  return new Try<RESULT>(result, null);\r\n}\r\n\r\nexport function Failure(error: Error|string): Try<any> {\r\n  if(error instanceof Error) {\r\n    return new Try(undefined, error);\r\n  } else {\r\n    return new Try(undefined, new Error(<string>error));\r\n  }\r\n\r\n}\r\n","export function valueOrError<T>(value: T|null|undefined, errorMessage: string): any {\r\n  if(value === null || value === undefined) {\r\n    throw new Error(errorMessage);\r\n  } else {\r\n    return value;\r\n  }\r\n}\r\n","/** Wrapper for value that have to be serialized with type name\r\n * e.g. {\"GridNode\":{x:10,y:4}} instead of simply {x:10,y:4}\r\n * */\r\nexport class Typed<T extends {className():string}> {\r\n\r\n[name: string]: T;\r\n\r\n  constructor(name: string, value: T) {\r\n    this[name] = value;\r\n  }\r\n\r\n  static of<T extends {className():string}>(value: T): Typed<T> {\r\n    return new Typed<T>(value.className(), value);\r\n  }\r\n\r\n  static value<T extends {className():string}>(typed: Typed<T>): T {\r\n    return typed[Object.keys(typed)[0]]\r\n  }\r\n\r\n  static className<T extends {className():string}>(typed: Typed<T>): string {\r\n    return Object.keys(typed)[0];\r\n  }\r\n\r\n  static copy<T extends {className():string}>(typed: Typed<T>, valueCopy: (value: T) => T = (T) => T):Typed<T>  {\r\n    return new Typed(Object.keys(typed)[0], typed[Object.keys(typed)[0]]);\r\n  }\r\n\r\n  static map<T extends {className():string}, R extends {className():string}>(typed: Typed<T>, converter: (value:T) => R):Typed<R> {\r\n    return new Typed<R>(Object.keys(typed)[0], converter(typed[Object.keys(typed)[0]]));\r\n  }\r\n}\r\n","import {toFixedLengthString} from \"./Strings\";\r\nimport {Failure, Success, Try} from \"./Try\";\r\nimport {None, Option, Some} from \"./Option\";\r\nimport {i18n} from \"../shared/internationalization/i18n.service\";\r\nimport {TimezoneManager} from \"@libs/Timezones\";\r\n\r\nfunction toDayLightSavingAwareTime(dateTime: LocalDateTime): {format: (name: string) => string} {\r\n  throw new Error(\"Not implemented\");\r\n  // return moment(dateTime.asMillis()).tz(TimezoneManager.getTimezone());\r\n}\r\n\r\nexport class Duration {\r\n  static ZERO: Duration = new Duration(0,0);\r\n  constructor(readonly seconds: number, readonly nanos: number) {}\r\n\r\n  static copy(other: Duration) {\r\n    return new Duration(other.seconds, other.nanos);\r\n  }\r\n\r\n  isEqual(other: Duration) {\r\n    return this.seconds === other.seconds && this.nanos === other.nanos;\r\n  }\r\n\r\n  compare(other: Duration) {\r\n    if(this.seconds > other.seconds) {\r\n      return 1;\r\n    } else if(this.seconds < other.seconds) {\r\n      return -1;\r\n    } else if(this.nanos > other.nanos) {\r\n      return 1;\r\n    } else if (this.nanos < other.nanos) {\r\n      return -1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  static ofHoursMinutesSeconds(hours: number, minutes: number, seconds: number) {\r\n    return new Duration(hours * 3600 + minutes * 60 + seconds, 0);\r\n  }\r\n\r\n  static ofMilliseconds(milliseconds: number) {\r\n    let seconds = Math.floor(milliseconds / 1000);\r\n    let minutes = Math.floor(seconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n    seconds = seconds % 60;\r\n    minutes = minutes % 60;\r\n    return this.ofHoursMinutesSeconds(hours, minutes, seconds);\r\n  }\r\n\r\n  format(daysMarker:string, hoursMarker:string, minutesMarker:string, secondsMarker:string, separator:string, hoursInDay:number) {\r\n    const formatted: Array<string> = [];\r\n    const pad = (n: number) => n < 10 ? '0' + n : n.toString();\r\n    const days = Math.floor(this.seconds / (3600 * hoursInDay));\r\n    const hours = Math.floor(this.seconds % (3600 * hoursInDay) / 3600);\r\n    const minutes = Math.floor(this.seconds % 3600 / 60);\r\n    const seconds = Math.floor(this.seconds % 60);\r\n\r\n    if(days > 0) { formatted.push(days + daysMarker); }\r\n    if(hours > 0) { formatted.push(hours + hoursMarker); }\r\n    if(minutes > 0) { formatted.push(pad(minutes) + minutesMarker); }\r\n    if(seconds > 0) { formatted.push(pad(seconds) + secondsMarker); }\r\n\r\n    return (formatted.length === 0) ? '0' + minutesMarker : formatted.join(separator).trim();\r\n  }\r\n\r\n  formatted24() {\r\n    let out = \"\";\r\n\r\n    const hours = Math.floor(this.seconds / 3600);\r\n    const minutes = Math.floor((this.seconds - hours * 3600) / 60);\r\n    const seconds = Math.floor(this.seconds % 60);\r\n    if(hours > 0) {\r\n      out += hours + \"h\";\r\n    }\r\n    if(minutes > 0) {\r\n      out += \" \" + minutes + \"m\";\r\n    }\r\n    if(seconds > 0) {\r\n      out += \" \" + seconds + \"s\";\r\n    }\r\n    if(out.length == 0) {\r\n      return \"0m\";\r\n    } else {\r\n      return out.trim();\r\n    }\r\n  }\r\n\r\n  getFullHours() {\r\n    return Math.floor(this.seconds / 3600);\r\n  }\r\n\r\n  getFullMinutes() {\r\n    return Math.floor(this.seconds / 60);\r\n  }\r\n}\r\n\r\nexport class LocalTime {\r\n  static ZERO: LocalTime = new LocalTime(0,0,0,0);\r\n  static MAX: LocalTime = new LocalTime(23,59,59,999999);\r\n\r\n  constructor(readonly hour: number, readonly minute: number, readonly second: number, readonly nano: number) {}\r\n\r\n  static copy(other: LocalTime) {\r\n    return new LocalTime(other.hour, other.minute, other.second, other.nano);\r\n  }\r\n\r\n  formattedToMinutes(): string {\r\n    return toFixedLengthString(this.hour, 2)+\":\"+toFixedLengthString(this.minute, 2);\r\n  }\r\n\r\n  sortable(): string {\r\n    return toFixedLengthString(this.hour, 2)+\":\"+toFixedLengthString(this.minute, 2)+\":\"+toFixedLengthString(this.second, 2)+\".\"+toFixedLengthString(this.nano, 6);\r\n  }\r\n\r\n  static fromDate(date: Date): LocalTime {\r\n    return new LocalTime(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\r\n  }\r\n\r\n  static fromDateLocal(date: Date): LocalTime {\r\n    return new LocalTime(date.getHours(), date.getMinutes(), date.getSeconds(), 0);\r\n  }\r\n\r\n  static parseOrZero(input: string) {\r\n    const result = parseInt(input);\r\n    if (!result) {\r\n      return 0;\r\n    } else {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  static now(){\r\n    return LocalTime.fromDate(new Date());\r\n  }\r\n\r\n  static of(timeString: string): Try<LocalTime> {\r\n    if(timeString) {\r\n      const trimmed = timeString.trim();\r\n      if(trimmed.match(/[0-9]{1,2}:[0-9]{2}/g) || trimmed.match(/[0-9]{1,2}:[0-9]{2}:[0-9]{2}/g) || trimmed.match(/[0-9]{1,2}:[0-9]{2}:[0-9]{2}:[0-9]{1-6}/g)) {\r\n        const parts = timeString.trim().split(':');\r\n        const hour = LocalTime.parseOrZero(parts[0]);\r\n        const minute = LocalTime.parseOrZero(parts[1]);\r\n        const second = LocalTime.parseOrZero(parts[2]);\r\n        const nano = LocalTime.parseOrZero(parts[3]);\r\n\r\n        if(hour >= 0 && hour <= 23 && minute >= 0 && minute <= 59 && second >= 0 && second <= 59 && nano >= 0 && nano < 1000000) {\r\n          return Success(new LocalTime(hour, minute, second, nano));\r\n        } else {\r\n          return Failure(\"Incorrect time format\");\r\n        }\r\n\r\n      } else {\r\n        return Failure(\"Incorrect time format\");\r\n      }\r\n    } else {\r\n      return Failure(\"Incorrect time format\");\r\n    }\r\n  }\r\n\r\n\r\n  static ofMinutes(timeString: string): LocalTime {\r\n    const parts = timeString.split(':');\r\n    return new LocalTime(LocalTime.parseOrZero(parts[0]), LocalTime.parseOrZero(parts[1]), 0, 0);\r\n  }\r\n\r\n  isValid(): boolean {\r\n    return (this.hour !== null && this.minute !== null && this.second !== null && this.nano !== null)\r\n      && !(isNaN(this.hour) || isNaN(this.minute) || isNaN(this.second) || isNaN(this.nano));\r\n  }\r\n\r\n  isEqual(other: LocalTime) {\r\n    return this.hour === other.hour &&\r\n      this.minute === other.minute &&\r\n      this.second === other.second &&\r\n      this.nano === other.nano;\r\n  }\r\n\r\n  addMinutes(n: number): LocalTime {\r\n    let totalMinutes = this.minute + n;\r\n\r\n    let hoursFromMinutesOverflow = 0;\r\n\r\n    if(totalMinutes >= 60) {\r\n      hoursFromMinutesOverflow = Math.floor(totalMinutes / 60);\r\n      totalMinutes %= 60;\r\n    }\r\n\r\n    while(totalMinutes < 0) {\r\n      totalMinutes += 60;\r\n      hoursFromMinutesOverflow--;\r\n    }\r\n\r\n    while(this.hour + hoursFromMinutesOverflow < 0) {\r\n      hoursFromMinutesOverflow += 24;\r\n    }\r\n\r\n    while(this.hour + hoursFromMinutesOverflow > 23) {\r\n      hoursFromMinutesOverflow -= 24;\r\n    }\r\n\r\n\r\n    return new LocalTime(this.hour + hoursFromMinutesOverflow, totalMinutes, this.second, this.nano);\r\n  }\r\n\r\n  isBefore(other: LocalTime): boolean {\r\n    return this.hour < other.hour ||\r\n      this.hour === other.hour && this.minute < other.minute ||\r\n      this.hour === other.hour && this.minute === other.minute && this.second < other.second ||\r\n      this.hour === other.hour && this.minute === other.minute && this.second === other.second && this.nano < other.nano;\r\n  }\r\n\r\n  isAfter(other: LocalTime): boolean {\r\n    return this.hour > other.hour ||\r\n      this.hour === other.hour && this.minute > other.minute ||\r\n      this.hour === other.hour && this.minute === other.minute && this.second > other.second ||\r\n      this.hour === other.hour && this.minute === other.minute && this.second === other.second && this.nano > other.nano;\r\n  }\r\n\r\n  cacheKey(): number {\r\n    return this.hour*3600+this.minute*60+this.second;\r\n  }\r\n}\r\n\r\nexport class LocalDate {\r\n  static ZERO: LocalDate = new LocalDate(0,1,1);\r\n  constructor(readonly year: number, readonly month: number, readonly day: number) {}\r\n\r\n  static copy(other: LocalDate) {\r\n    return new LocalDate(other.year, other.month, other.day);\r\n  }\r\n\r\n  cacheKey(): number {\r\n    return this.year*384 + this.month * 32 + this.day;\r\n  }\r\n\r\n  static of(dateString: string|undefined): Try<LocalDate> {\r\n    if(dateString) {\r\n      const parts = dateString.split('-');\r\n      const valid = parts.length === 3 && parts.filter(part => isNaN(parseInt(part))).length === 0;\r\n      if (valid) {\r\n        try {\r\n          const year = parts[2].length == 4 ? parseInt(parts[2]) : parseInt(parts[0]);\r\n          const month = parseInt(parts[1]);\r\n          const day = parts[0].length == 2 ? parseInt(parts[0]) : parseInt(parts[2]);\r\n          if(month > 0 && month <= 12 && day > 0 && day <= 31) {\r\n            return Success(new LocalDate(year, month, day));\r\n          } else {\r\n            return Failure(\"Invalid date [\" + dateString + \"]\");\r\n          }\r\n        } catch (e) {\r\n          if (typeof e === \"string\") {\r\n            return Failure(e)\r\n          } else if (e instanceof Error) {\r\n            return Failure(e.message);\r\n          } else {\r\n            return Failure(\"Unknown error while using 'of' with parameter \" + dateString)\r\n          }\r\n\r\n        }\r\n      } else {\r\n        return Failure(\"Invalid date string [\" + dateString + \"]\");\r\n      }\r\n    } else {\r\n      return Failure(\"Date is undefined\");\r\n    }\r\n  }\r\n\r\n  static fromDate(date: Date): LocalDate {\r\n    return new LocalDate(date.getUTCFullYear(), date.getUTCMonth() + 1, date.getUTCDate());\r\n  }\r\n\r\n  static fromLocalDate(date: Date): LocalDate {\r\n    return new LocalDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n  }\r\n\r\n\r\n  isEqual(other: LocalDate) {\r\n    return this.year === other.year &&\r\n      this.month === other.month &&\r\n      this.day === other.day;\r\n  }\r\n\r\n  nonEqual(other: LocalDate) {\r\n    return !this.isEqual(other);\r\n  }\r\n\r\n  /**\r\n   * 0 is sunday\r\n   */\r\n  weekDay(): number {\r\n    return this.toDate().getDay() % 7; // 0 is sunday in JS, 7\r\n  }\r\n\r\n  shortDayOfWeekName(): string {\r\n    return i18n(\"date_weekday_short_\"+this.toDate().getDay()); // 0 is sunday in JS, 7\r\n  }\r\n\r\n  formatted(): string {\r\n    return this.formattedWithoutYear()+\"-\"+toFixedLengthString(this.year, 4);\r\n  }\r\n\r\n  isoFormatted(): string {\r\n    return toFixedLengthString(this.year, 4) +\"-\"+toFixedLengthString(this.month, 2)+\"-\"+toFixedLengthString(this.day, 2);\r\n  }\r\n\r\n  formattedShortWords(): string {\r\n    return this.day + \" \" + i18n(\"date_month_short_part_\"+this.month) + \" \" + toFixedLengthString(this.year, 4);\r\n  }\r\n\r\n  formattedWords(): string {\r\n    return this.day + \" \" + i18n(\"date_month_part_\"+this.month) + \" \" + toFixedLengthString(this.year, 4);\r\n  }\r\n\r\n  formattedWordsDayMonthOnly(): string {\r\n    return this.day + \" \" + i18n(\"date_month_part_\"+this.month);\r\n  }\r\n\r\n  formattedShortWordsWithoutYear(): string {\r\n    return this.day + \" \" + i18n(\"date_month_short_part_\"+this.month);\r\n  }\r\n\r\n  formattedWordsWithoutYear(): string {\r\n    return this.day + \" \" + i18n(\"date_month_part_\"+this.month);\r\n  }\r\n\r\n  formattedWithoutYear(): string {\r\n    return toFixedLengthString(this.day, 2)+\"-\"+toFixedLengthString(this.month, 2);\r\n  }\r\n\r\n  formattedWithoutDay(): string {\r\n    return toFixedLengthString(this.month, 2)+\"-\"+ toFixedLengthString(this.year, 4);\r\n  }\r\n\r\n  sortable(): string {\r\n    return toFixedLengthString(this.year, 4)+\"-\"+toFixedLengthString(this.month, 2)+\"-\"+toFixedLengthString(this.day, 2);\r\n  }\r\n\r\n  isValid(): boolean {\r\n    return (this.year !== null && this.month !== null && this.day !== null) && !(isNaN(this.year) || isNaN(this.month) || isNaN(this.day));\r\n  }\r\n\r\n  isBeforeEqual(other: LocalDate): boolean {\r\n    return !this.isAfter(other);\r\n  }\r\n\r\n  isBefore(other: LocalDate): boolean {\r\n    return this.year < other.year || this.year === other.year && this.month < other.month ||\r\n      this.year === other.year && this.month === other.month && this.day < other.day;\r\n  }\r\n\r\n  isAfterEqual(other: LocalDate): boolean {\r\n    return !this.isBefore(other);\r\n  }\r\n\r\n  isAfter(other: LocalDate): boolean {\r\n    return this.year > other.year || this.year === other.year && this.month > other.month ||\r\n      this.year === other.year && this.month === other.month && this.day > other.day;\r\n  }\r\n\r\n  toDate() {\r\n    return new Date(Date.UTC(this.year, this.month - 1, this.day));\r\n  }\r\n\r\n  addDays(days: number): LocalDate {\r\n    const date = this.toDate();\r\n    date.setUTCDate(this.day + days);\r\n    return LocalDate.fromDate(date);\r\n  }\r\n\r\n  daysBetween(localDate: LocalDate): number {\r\n    return this.daysBetweenRec(this, localDate, 0);\r\n  }\r\n\r\n  private daysBetweenRec(localDateFrom: LocalDate, localDateTo: LocalDate, counter: number): number {\r\n    if(localDateFrom.isBefore(localDateTo)) {\r\n      return this.daysBetweenRec(localDateFrom.addDays(1), localDateTo, counter + 1);\r\n    } else if(localDateFrom.isAfter(localDateTo)) {\r\n      return this.daysBetweenRec(localDateFrom.addDays(-1), localDateTo, counter - 1);\r\n    } else {\r\n      return counter;\r\n    }\r\n  }\r\n\r\n  clampMax(maxDate: LocalDate) {\r\n    return this.isAfter(maxDate) ? maxDate : this;\r\n  }\r\n\r\n  clampMin(minDate: LocalDate) {\r\n    return this.isBefore(minDate)? minDate : this;\r\n  }\r\n\r\n  /**\r\n   * 0 is Sunday\r\n   */\r\n  static getDayOfWeek(date: LocalDate) {\r\n    return date.toDate().getDay();\r\n  }\r\n\r\n  static getWeekNumber(date: LocalDate) {\r\n    throw new Error(\"Not implemented, also needs to return year\")\r\n    //return parseInt(moment(date.toDate().getTime()).format(\"W\"));\r\n  }\r\n\r\n  static daysInMonth(date: LocalDate) {\r\n    return new Date(date.year, date.month, 0).getDate();\r\n  }\r\n\r\n  static formatSpan(from: LocalDate, to: LocalDate): string {\r\n\r\n    if(from.isEqual(to)) {\r\n      return from.day+\" \"+i18n(\"date_month_part_\"+from.month)+\" \"+from.year;\r\n    } if(from.year === to.year && from.month === to.month) {\r\n      return from.day+\" - \"+to.day+\" \"+i18n(\"date_month_part_\"+from.month)+\" \"+from.year;\r\n    } else if(from.year === to.year) {\r\n      return from.day+\" \"+i18n(\"date_month_part_\"+from.month)+\" - \"+to.day+\" \"+i18n(\"date_month_part_\"+to.month)+\" \"+from.year;\r\n    } else {\r\n      return from.day+\" \"+i18n(\"date_month_part_\"+from.month)+\" \"+from.year+\" - \"+to.day+\" \"+i18n(\"date_month_part_\"+to.month)+\" \"+to.year;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  static nowDate(): LocalDate {\r\n    return LocalDateTime.now().date;\r\n  }\r\n}\r\n\r\n\r\nexport class LocalDateOptionalTime {\r\n  constructor(readonly date: LocalDate,\r\n              readonly time: Option<LocalTime>) {}\r\n\r\n  static copy(other: LocalDateOptionalTime): LocalDateOptionalTime {\r\n    return new LocalDateOptionalTime(LocalDate.copy(other.date), Option.copy(other.time, LocalTime.copy));\r\n  }\r\n\r\n  isEqual(other: LocalDateOptionalTime) {\r\n    return this.date.isEqual(other.date) && this.time.equals(other.time, (a, b) => a.isEqual(b));\r\n  }\r\n\r\n  toLocalDateTime() {\r\n    if(this.time.isDefined()) {\r\n      return new LocalDateTime(this.date, this.time.get());\r\n    } else {\r\n      return new LocalDateTime(this.date, new LocalTime(23, 59, 59, 999999));\r\n    }\r\n  }\r\n\r\n  formattedTimezonedShortWords() {\r\n    if(this.time.isDefined()) {\r\n      return new LocalDateTime(this.date, this.time.get()).formattedTimezonedShortWords();\r\n    } else {\r\n      return this.date.formattedShortWords();\r\n    }\r\n  }\r\n\r\n  formattedTimezonedWords() {\r\n    if(this.time.isDefined()) {\r\n      return new LocalDateTime(this.date, this.time.get()).formattedTimezonedWords();\r\n    } else {\r\n      return this.date.formattedWords();\r\n    }\r\n  }\r\n\r\n  formattedFromNow() {\r\n    if(this.time.isDefined()) {\r\n      return new LocalDateTime(this.date, this.time.get()).formattedFromNow();\r\n    } else {\r\n      return this.date.formattedWords();\r\n    }\r\n  }\r\n\r\n\r\n  isAfter(other: LocalDateOptionalTime) {\r\n    if(this.time.isDefined() && other.time.isDefined()) {\r\n      return this.date.isAfter(other.date) || this.date.isEqual(other.date) && this.time.get().isAfter(other.time.get());\r\n    } else if(this.time.isDefined()) {\r\n      return this.date.isAfter(other.date);\r\n    } else if(other.time.isDefined()) {\r\n      return !this.date.isBefore(other.date);\r\n    } else {\r\n      return this.date.isAfter(other.date);\r\n    }\r\n  }\r\n\r\n  isBefore(other: LocalDateOptionalTime) {\r\n    if(this.time.isDefined() && other.time.isDefined()) {\r\n      return this.date.isBefore(other.date) || this.date.isEqual(other.date) && this.time.get().isBefore(other.time.get());\r\n    } else if(this.time.isDefined()) {\r\n      return this.date.isBefore(other.date);\r\n    } else if(other.time.isDefined()) {\r\n      return !this.date.isAfter(other.date);\r\n    } else {\r\n      return this.date.isBefore(other.date);\r\n    }\r\n  }\r\n\r\n  isAfterTime(other: LocalDateTime) {\r\n    if(this.time.isDefined()) {\r\n      return this.date.isAfter(other.date) || this.date.isEqual(other.date) && this.time.get().isAfter(other.time);\r\n    } else {\r\n      return !this.date.isBefore(other.date);\r\n    }\r\n  }\r\n\r\n  isBeforeTime(other: LocalDateTime) {\r\n    if(this.time.isDefined()) {\r\n      return this.date.isBefore(other.date) || this.date.isEqual(other.date) && this.time.get().isBefore(other.time);\r\n    } else {\r\n      return !this.date.isAfter(other.date);\r\n    }\r\n  }\r\n\r\n  isDateTime() {\r\n    return this.time.isDefined();\r\n  }\r\n\r\n  static ofDateTime(other: LocalDateTime) {\r\n    return new LocalDateOptionalTime(other.date, Some(other.time));\r\n  }\r\n\r\n  static ofDate(date: LocalDate) {\r\n    return new LocalDateOptionalTime(date, None());\r\n  }\r\n}\r\n\r\nclass FormatCacheEntry {\r\n  constructor(readonly timestamp: number, readonly formatted: string) {}\r\n}\r\n\r\n\r\nexport class LocalDateTime {\r\n\r\n  constructor(readonly date: LocalDate, readonly time: LocalTime) {}\r\n\r\n  static ZERO = new LocalDateTime(new LocalDate(0, 1, 1), new LocalTime(0, 0, 0, 0));\r\n\r\n  private static millisCache: {[key:number]: number} = {};\r\n  private static timezonedCache: {[key:number]: LocalDateTime} = {};\r\n  private static formattedCache: {[key:number]: FormatCacheEntry} = {};\r\n\r\n  static copy(other: LocalDateTime) {\r\n    return new LocalDateTime(LocalDate.copy(other.date), LocalTime.copy(other.time));\r\n  }\r\n\r\n  private cacheKey(): number {\r\n    return this.date.cacheKey()*86400+this.time.cacheKey();\r\n  }\r\n\r\n  static of(dateTimeString: string): Try<LocalDateTime> {\r\n    if(dateTimeString) {\r\n      const parts = dateTimeString.trim().split(' ');\r\n      if (parts.length === 2) {\r\n        try {\r\n          return Success(new LocalDateTime(new LocalDate(1,1,1), new LocalTime(1,1,1,0)));\r\n        } catch (e) {\r\n          return Failure(e+\"\");\r\n        }\r\n      } else {\r\n        return Failure(\"Incorrect date time string [\" + dateTimeString + \"]\");\r\n      }\r\n    } else {\r\n      return Failure(\"Date time is undefined\")\r\n    }\r\n  }\r\n\r\n  // static ofTimezoned(dateTimeString: string): Try<LocalDateTime> {\r\n  //   if(dateTimeString) {\r\n  //     const matched = dateTimeString.match(/([0-9]{2,4})-([0-9]{2})-([0-9]{2,4}) ([0-9]{2}):([0-9]{2})/);\r\n\r\n  //     if (matched) {\r\n  //       if (matched[1].length == 4 && matched[3].length == 2) { // 2018-02-20\r\n  //         const m = moment.tz(dateTimeString, TimezoneManager.getTimezone());\r\n  //         return Success(LocalDateTime.fromDate(m.toDate()));\r\n  //       } else if (matched[1].length == 2 && matched[3].length == 4) { // 20-02-2018\r\n  //         const m = moment.tz(matched[3] + \"-\" + matched[2] + \"-\" + matched[1] + \" \" + matched[4] + \":\" + matched[5], TimezoneManager.getTimezone());\r\n  //         return Success(LocalDateTime.fromDate(m.toDate()));\r\n  //       } else {\r\n  //         return Failure(\"Incorrect date \" + dateTimeString)\r\n  //       }\r\n  //     } else {\r\n  //       return Failure(\"Incorrect date \" + dateTimeString);\r\n  //     }\r\n  //   } else {\r\n  //     return Failure(\"Empty date\");\r\n  //   }\r\n  // }\r\n\r\n  static compare(a: LocalDateTime, b: LocalDateTime): number {\r\n    return a.isBefore(b) ? -1 : (a.isAfter(b) ? 1 : 0);\r\n  }\r\n\r\n  isEqual(other: LocalDateTime) {\r\n    if(other) {\r\n      return this.date.isEqual(other.date) && this.time.isEqual(other.time);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isValid(): boolean {\r\n    return this.date.isValid() && this.time.isValid();\r\n  }\r\n\r\n  /** Without adjusting to local time zone, 12-09-2018 12:34 */\r\n  formattedToMinutes(): string {\r\n    return this.date.formatted()+\" \"+this.time.formattedToMinutes();\r\n  }\r\n\r\n  /** Without adjusting to local time zone, 12-09-2018 12:34 */\r\n  isoSimpleFormattedToMinutes(): string {\r\n    return this.date.isoFormatted()+\" \"+this.time.formattedToMinutes();\r\n  }\r\n\r\n  /** Adjusting to local time zone, 12-09-2018 12:34 */\r\n  formattedTimezonedToMinutes(): string {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.formatted()+\" \"+localTimezone.time.formattedToMinutes();\r\n  }\r\n\r\n  /** Adjusting to local time zone, 2018-09-12 12:34 */\r\n  isoSimpleFormattedTimezonedToMinutes(): string {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.isoFormatted()+\" \"+localTimezone.time.formattedToMinutes();\r\n  }\r\n\r\n\r\n  toTimezonedLocalDateTime(): LocalDateTime {\r\n\r\n    return this;\r\n    // const cacheKey = this.cacheKey();\r\n    // let fromCache = LocalDateTime.timezonedCache[cacheKey];\r\n    //\r\n    // if(!fromCache) {\r\n    //   // const formatted = toDayLightSavingAwareTime(this).format('DD-MM-YYYY HH:mm');\r\n    //   const formatted = this.format('DD-MM-YYYY HH:mm');\r\n    //   const matched = formatted.match(/([0-9]{2})-([0-9]{2})-([0-9]{4}) ([0-9]{2}):([0-9]{2})/);\r\n    //   if(matched !== null) {\r\n    //     const timezonedDate = new LocalDate(parseInt(matched[3]), parseInt(matched[2]), parseInt(matched[1]));\r\n    //     const timezonedTime = new LocalTime(parseInt(matched[4]), parseInt(matched[5]), 0, 0);\r\n    //     fromCache = new LocalDateTime(timezonedDate, timezonedTime);\r\n    //     LocalDateTime.timezonedCache[cacheKey] = fromCache;\r\n    //   }\r\n    // }\r\n    // return fromCache;\r\n\r\n  }\r\n\r\n  /** Adjusting to local time zone, 12 August 2018 12:34 */\r\n  formattedTimezonedWords() {\r\n    if(this.date.year == 0) {\r\n      return \"\";\r\n    } else {\r\n      const localTimezone = this.toTimezonedLocalDateTime();\r\n      return localTimezone.date.formattedWords() + \" \" + localTimezone.time.formattedToMinutes();\r\n    }\r\n  }\r\n\r\n  /** Adjusting to local time zone, 12 August 2018 12:34 */\r\n  formattedTimezonedShortWordsNoYear() {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.formattedShortWordsWithoutYear() + \" \" + localTimezone.time.formattedToMinutes();\r\n  }\r\n\r\n  formattedWords() {\r\n    return this.date.formattedWords() + \" \" + this.time.formattedToMinutes();\r\n  }\r\n\r\n  formattedShortWords() {\r\n    return this.date.formattedShortWords() + \" \" + this.time.formattedToMinutes();\r\n  }\r\n\r\n\r\n\r\n  formattedTimezonedWordsDateOnly() {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.formattedWords();\r\n  }\r\n\r\n  formattedTimezonedDateOnly() {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.formatted();\r\n  }\r\n\r\n  formattedTimezonedTimeOnly() {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.time.formattedToMinutes();\r\n  }\r\n\r\n  /** Adjusting to local time zone, 12 Aug 2018 12:34 */\r\n  formattedTimezonedShortWords() {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return localTimezone.date.formattedShortWords() + \" \" + localTimezone.time.formattedToMinutes();\r\n  }\r\n\r\n  formattedFromNow(): string {\r\n\r\n\r\n\r\n    const units: {[key: string]: number} = {\r\n      \"year\"  : 24 * 60 * 60 * 1000 * 365,\r\n      \"month\" : 24 * 60 * 60 * 1000 * 365/12,\r\n      \"day\"   : 24 * 60 * 60 * 1000,\r\n      \"hour\"  : 60 * 60 * 1000,\r\n      \"minute\": 60 * 1000,\r\n      \"second\": 1000\r\n    };\r\n\r\n    const elapsed = this.asMillis() - Date.now();\r\n\r\n    const locale = navigator.languages && navigator.languages.length\r\n      ? navigator.languages[0]\r\n      : navigator.language;\r\n\r\n    for (let u in units) {\r\n      if (Math.abs(elapsed) > units[u] || u == 'second') {\r\n        return new Intl.RelativeTimeFormat(locale, {numeric: \"auto\"}).format(Math.round(elapsed / units[u]), <any>u);\r\n      }\r\n    }\r\n\r\n    return \"Unit not found\";\r\n\r\n\r\n  }\r\n\r\n  asMillis(): number {\r\n    const cacheKey = this.cacheKey();\r\n    let fromCache = LocalDateTime.millisCache[cacheKey];\r\n    if(!fromCache) {\r\n      const millis = Math.round(this.time.nano/1000000); // 1000000 - nanosInMilli\r\n      fromCache = Date.UTC(this.date.year, this.date.month - 1, this.date.day, this.time.hour, this.time.minute, this.time.second, millis);\r\n      LocalDateTime.millisCache[cacheKey] = fromCache;\r\n    }\r\n    return fromCache;\r\n  }\r\n\r\n  sortable(): string {\r\n    return this.date.sortable()+\" \"+this.time.sortable();\r\n  }\r\n\r\n  static fromDate(date: Date): LocalDateTime {\r\n    return new LocalDateTime(LocalDate.fromDate(date), LocalTime.fromDate(date));\r\n  }\r\n\r\n  differenceMillis(other: LocalDateTime): number {\r\n    return this.asMillis() - other.asMillis();\r\n  }\r\n\r\n  plusMillis(millis: number): LocalDateTime {\r\n    return LocalDateTime.fromDate(new Date(this.asMillis() + millis));\r\n  }\r\n\r\n  minusMillis(millis: number): LocalDateTime {\r\n    return this.plusMillis(- millis);\r\n  }\r\n\r\n  isBefore(other: LocalDateTime): boolean {\r\n    return this.date.isBefore(other.date) ||\r\n      this.date.isEqual(other.date) && this.time.isBefore(other.time);\r\n  }\r\n\r\n  isAfter(other: LocalDateTime): boolean {\r\n    return this.date.isAfter(other.date) ||\r\n      this.date.isEqual(other.date) && this.time.isAfter(other.time);\r\n  }\r\n\r\n  isInFuture() {\r\n    return this.isAfter(LocalDateTime.now());\r\n  }\r\n\r\n  static now() {\r\n    return LocalDateTime.fromDate(new Date());\r\n  }\r\n\r\n  // toUTC(): LocalDateTime {\r\n  //   return toUTCFromTimezone(this, TimezoneManager.getTimezone());\r\n  // }\r\n\r\n  toTimezonedDate(): Date {\r\n    const localTimezone = this.toTimezonedLocalDateTime();\r\n    return new Date(localTimezone.date.year, localTimezone.date.month - 1, localTimezone.date.day,\r\n      localTimezone.time.hour, localTimezone.time.minute, localTimezone.time.second, localTimezone.time.nano / 1000);\r\n  }\r\n}\r\n\r\n\r\n","import {Typed} from \"./Typed\";\nimport {__, ___} from \"./FunctionalExtensions\";\nimport {None, Option} from \"./Option\";\n\nexport class VariablePathEntryFactory {\n    static copy(input: VariablePathEntry): VariablePathEntry {\n      return VariablePathEntryFactory.copyByType(input, input.className());\n    }\n\n    static copyTyped(action: Typed<VariablePathEntry>): Typed<VariablePathEntry> {\n      return Typed.of(VariablePathEntryFactory.copyByType(Typed.value(action), Typed.className(action)));\n    }\n\n    static copyByType(entry: VariablePathEntry, className: string): VariablePathEntry {\n      switch (className) {\n        case Name.className: return new Name((<Name>entry).name);\n        case Index.className: return new Index((<Index>entry).index);\n        case AnyIndex.className: return new AnyIndex();\n        default:throw new Error(\"Unsupported entry type class: \" + className);\n      }\n    }\n  }\n\n  export interface VariablePathEntry {\n    className(): string;\n    equals(other: VariablePathEntry): boolean;\n  }\n\n  export class Name implements VariablePathEntry {\n    static className = \"Name\";\n    className() {\n      return Name.className;\n    }\n    constructor(readonly name: string) {}\n\n    equals(other: VariablePathEntry): boolean {\n      if(other instanceof Name) {\n        return this.name === other.name;\n      } else {\n        return false;\n      }\n    }\n\n  }\n\n  export class Index implements VariablePathEntry {\n    static className = \"Index\";\n    className() {\n      return Index.className;\n    }\n    constructor(readonly index: number) {}\n\n    equals(other: VariablePathEntry): boolean {\n      if(other instanceof Index) {\n        return this.index === other.index;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  export class AnyIndex implements VariablePathEntry {\n    static className = \"AnyIndex\";\n    className() {\n      return AnyIndex.className;\n    }\n    constructor() {}\n\n    equals(other: VariablePathEntry): boolean {\n      return other instanceof Index;\n    }\n  }\n\n  // It can be VariableTypePath or VariablePath\n  export class AnyVariablePath {\n    constructor(readonly path: Array<Typed<VariablePathEntry>>) {}\n\n    static of(path: Array<VariablePathEntry>) {\n      return new AnyVariablePath(path.map(Typed.of));\n    }\n\n    concat(childPath: AnyVariablePath) {\n      return new AnyVariablePath(this.path.concat(childPath.path));\n    }\n\n    appendName(variableName: string) {\n      const newPath = this.path.slice();\n      newPath.push(Typed.of(new Name(variableName)));\n      return new AnyVariablePath(newPath);\n    }\n\n    appendIndex(index: number): AnyVariablePath {\n      const newPath = this.path.slice();\n      newPath.push(Typed.of(new Index(index)));\n      return new AnyVariablePath(newPath);\n    }\n    appendAnyIndex(): AnyVariablePath {\n      const newPath = this.path.slice();\n      newPath.push(Typed.of(new AnyIndex()));\n      return new AnyVariablePath(newPath);\n    }\n\n    static parse(path: string): AnyVariablePath {\n      const trimmed = path.trim();\n      if(trimmed.length === 0) {\n        return AnyVariablePath.EMPTY;\n      } else {\n        const entries = ___(path.split(/[\\\\.\\\\[]/)).filterNot(e => e.length === 0).map(e => {\n          if(e.indexOf(\"]\") == e.length - 1) {\n            const index = e.substring(0, e.length - 1);\n            if(index === \"*\") {\n              return new AnyIndex();\n            } else {\n              return new Index(parseInt(index));\n            }\n          } else {\n            return new Name(e);\n          }\n        }).value();\n\n        return new AnyVariablePath(entries.map(Typed.of));\n      }\n    }\n\n    startsWith(path: AnyVariablePath): boolean {\n      if(this.path.length >= path.length()) {\n        for(let i = 0; i < path.length(); i++) {\n          if(!Typed.value(this.path[i]).equals(Typed.value(path.path[i]))) {\n            return false;\n          }\n        }\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    length(): number {\n      return this.path.length;\n    }\n\n    dropHead(elementsToDrop: number): AnyVariablePath {\n      return new AnyVariablePath(this.path.slice(elementsToDrop));\n    }\n\n    static EMPTY = new AnyVariablePath([]);\n\n    static root(variableName: string) {\n      if(variableName.trim().length == 0) {\n        throw new Error(\"Empty name not allowed\");\n      } else {\n        return new AnyVariablePath([Typed.of(new Name(variableName))]);\n      }\n    }\n\n    toString(): string {\n      let p = \"\";\n\n      this.path.forEach(entry => {\n        const unwrapped = Typed.value(entry);\n\n        if(unwrapped instanceof Name) {\n          if(p.length === 0) {\n            p = unwrapped.name;\n          } else {\n            p += \".\"+unwrapped.name;\n          }\n        } else if(unwrapped instanceof Index) {\n          p += \"[\"+unwrapped.index+\"]\";\n        } else if(unwrapped instanceof AnyIndex) {\n          p += \"[*]\";\n        } else {\n          throw new Error(\"Incorrect path unwrapped '\"+(typeof unwrapped)+\"'\");\n        }\n      });\n      return p;\n\n    }\n\n    static copy(other: AnyVariablePath): AnyVariablePath {\n      return new AnyVariablePath(other.path.map(VariablePathEntryFactory.copyTyped));\n\n    }\n\n    notEmpty() {\n      return this.path.length > 0;\n    }\n\n    isEmpty() {\n      return this.path.length === 0;\n    }\n  }\n\n  export class VariablePath {\n    constructor(readonly path: string) {\n      // todo add validation of path correctness\n    }\n\n    static of(splitted: Array<string|number>): VariablePath {\n      var path = \"\";\n      for(let i = 0; i < splitted.length; i++) {\n        if(typeof splitted[i] === \"number\") {\n          path += \"[\"+splitted[i]+\"]\";\n        } else {\n          if(path.length == 0) {\n            path += splitted[i];\n          } else {\n            path += \".\"+splitted[i]\n          }\n        }\n      }\n      return new VariablePath(path);\n    }\n\n    static copy(other: VariablePath) {\n      return new VariablePath(other.path)\n    }\n\n    static root(name: string, index: Option<number> = None()) {\n      if(index.isDefined()) {\n        return new VariablePath(name+\"[\"+index.get()+\"]\");\n      } else {\n        return new VariablePath(name);\n      }\n    }\n\n    static empty() {\n      return new VariablePath(\"\");\n    }\n\n    private splitted() {\n      return this.path.split(/[\\.\\[]/g).filter(e => e.length > 0).map(entry => {\n        if(entry.charAt(entry.length - 1) === \"]\") {\n          return parseInt(entry.substring(0, entry.length - 1))\n        } else {\n          return entry;\n        }\n      });\n    }\n\n\n    lastName(): string {\n      const l = __(this.splitted()).last();\n      if(typeof l === \"number\") {\n        throw new Error(\"Trying to get last entry which is index\");\n      } else {\n        return l;\n      }\n    }\n\n    isEmpty() {\n      return this.path.length == 0;\n    }\n\n    notEmpty() {\n      return this.path.length > 0\n    }\n\n\n    isRoot() {\n      return this.splitted().length == 1;\n    }\n\n    nonRoot() {\n      return !this.isRoot();\n    }\n\n    context() {\n      return VariablePath.of(__(this.splitted()).init());\n    }\n\n    headIndex() {\n      const l = __(this.splitted()).first();\n      if(typeof l === \"string\") {\n        throw new Error(\"Trying to get first index which is string\");\n      } else {\n        return l;\n      }\n    }\n\n    headName(): string {\n      const l = __(this.splitted()).first();\n      if(typeof l === \"number\") {\n        throw new Error(\"Trying to get first entry which is index\");\n      } else {\n        return l;\n      }\n    }\n\n    headNameIndex(): number {\n      const l = __(this.splitted()).first();\n      const i = ___(this.splitted()).rest().first();\n      if(typeof l === \"string\" && typeof i === \"number\") {\n        return i;\n      } else {\n        throw new Error(\"Trying to get first index from incorrect path: \" + this.path);\n      }\n    }\n\n    headIsIndexed(): boolean {\n      const splitted = this.splitted();\n      if(splitted.length > 1) {\n        const l = __(splitted).first();\n        const i = ___(splitted).rest().first();\n        return typeof l === \"string\" && typeof i === \"number\";\n      } else {\n        return false;\n      }\n    }\n\n    startsWithIndex() {\n      const l = __(this.splitted()).first();\n      return typeof l === \"number\";\n    }\n\n    tail(): VariablePath {\n      return VariablePath.of(__(this.splitted()).rest());\n    }\n\n    toString() {\n      return this.path;\n    }\n\n    isEqual(other: VariablePath) {\n      return this.path === other.path;\n    }\n\n    concat(other: VariablePath) {\n      if(this.isEmpty()) {\n        return other;\n      } else if(other.isEmpty()) {\n        return this;\n      } else if(other.path.indexOf(\"[\") == 0) {\n        return new VariablePath(this.path + other.path);\n      } else {\n        return new VariablePath(this.path + \".\" + other.path);\n      }\n    }\n\n    static rootIndex(index: number) {\n      return new VariablePath(\"[\" + index + \"]\");\n    }\n\n  }\n\n  export class VariableTypePath {\n\n    constructor(public path: string[]) {}\n\n    static copy(other: VariableTypePath) {\n      return new VariableTypePath(other.path.slice());\n    }\n\n    static root(variableName: string) {\n      return new VariableTypePath([variableName]);\n    }\n\n    toVariablePath(indices: Option<number>[]) {\n      let p: string = \"\";\n      for(let i = 0; i < indices.length; i++) {\n        if(p.length > 0) {\n          p += \".\";\n        }\n        if(indices[i].isDefined()) {\n          p += this.path[i] + \"[\"+indices[i].get()+\"]\";\n        } else {\n          p += this.path[i];\n        }\n      }\n      return new VariablePath(p);\n    }\n\n    isEmpty() {\n      return this.path.length < 1;\n    }\n\n    isRoot() {\n      return this.path.length == 1;\n    }\n\n    last() {\n      return __(this.path).last();\n    }\n\n    head() {\n      return __(this.path).first();\n    }\n\n    tail(): VariableTypePath {\n      return new VariableTypePath(__(this.path).rest());\n    }\n\n    variableNameOnly() {\n      return this.last();\n    }\n\n    changeVariableName(variableName: string) {\n      const newPath = this.path.slice();\n      newPath[newPath.length - 1] = variableName;\n      return new VariableTypePath(newPath);\n    }\n\n    context() {\n      return new VariableTypePath(this.path.slice(0, this.path.length - 1));\n    }\n\n    toString() {\n      return this.path.join(\".\");\n    }\n\n    isEqual(other: VariableTypePath) {\n      return this.toString() === other.toString();\n    }\n\n    addVariableToContext(variableName: string) {\n      const newPath = this.path.slice();\n      newPath.push(variableName);\n      return new VariableTypePath(newPath);\n    }\n\n    hasPrefix(prefix: VariableTypePath) {\n      if(this.path.length >= prefix.path.length) {\n        for(let i = 0; i < prefix.path.length; i++) {\n          if(this.path[i] !== prefix.path[i]) {\n            return false;\n          }\n        }\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    changePrefix(newPrefix: VariableTypePath) {\n      return new VariableTypePath(newPrefix.path.concat(this.path.slice(newPrefix.path.length)));\n    }\n\n    static parse(variableTypePath: string) {\n      return new VariableTypePath(variableTypePath.split(\".\"));\n    }\n  }\n\n","import {None, Option, Some} from \"./Option\";\r\nimport {__} from \"./FunctionalExtensions\";\r\n\r\nconst variableNameRegexp = /^[a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ][0-9a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ_$]*$/;\r\n  const staticVariablePathRegexp = /^[a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ][0-9a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ_$]*(\\[[0-9]+])*$/;\r\n  const staticVariablePathAllow$Regexp = /^[$a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ][0-9a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ_$]*(\\[[0-9]+])*$/;\r\n\r\n  export function variableNameFromText(text: string): Option<string> {\r\n    const variableName = text.toLocaleLowerCase().trim().\r\n    replace(/[\\s]+/g, \"_\").\r\n    replace(/^[_$]/g, \"\").\r\n    replace(/[^0-9a-zA-ZżźćńółęąśŻŹĆĄŚĘŁÓŃ_$]/g, \"\").\r\n    replace(/_+/g, \"_\");\r\n\r\n    if(validateVariableName(variableName)) {\r\n      return Some(variableName);\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  export function validateVariableName(variableName: string): boolean {\r\n    return variableNameRegexp.test(variableName);\r\n  }\r\n\r\n  export function validateVariablePath(path: string): boolean {\r\n    const splitted = path.split(\".\");\r\n    return __(splitted).all(entry => staticVariablePathRegexp.test(entry));\r\n  }\r\n\r\n  export function validateVariablePathAllow$(path: string): boolean {\r\n    const splitted = path.split(\".\");\r\n    return __(splitted).all(entry => staticVariablePathAllow$Regexp.test(entry));\r\n  }\r\n\r\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewContainerRef} from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: 'my-adjusting-text-input[contenteditable][ngDefaultControl]',\r\n  template: '',\r\n  styleUrls: ['./adjusting-text-input.component.scss']\r\n})\r\nexport class AdjustingTextInput implements OnInit {\r\n\r\n  @Output() blur: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  @Input() set model(m: string) {\r\n    this.innerValue = m;\r\n    this.getNativeElement().innerText = m;\r\n    this.showPlaceholder();\r\n    console.log(\"Model changed\", m);\r\n  }\r\n\r\n  @Output() modelChange = new EventEmitter<string>();\r\n\r\n  @Input() set placeholder(p: string) {\r\n    this._placeholder = p;\r\n    this.showPlaceholder();\r\n  }\r\n\r\n  private innerValue: string = \"\";\r\n  private placeholderVisible = false;\r\n  private _placeholder: string = \"\";\r\n  private focused = false;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef) {\r\n    const element = this.getNativeElement();\r\n    element.addEventListener(\"blur\", this.onBlur);\r\n    element.addEventListener('paste', this.onPaste);\r\n    element.addEventListener(\"focus\", this.onFocus);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showPlaceholder();\r\n  }\r\n\r\n  private showPlaceholder() {\r\n    const element = this.getNativeElement();\r\n    if(!this.focused && this._placeholder.trim().length > 0 && this.innerValue.length === 0) {\r\n      this.placeholderVisible = true;\r\n      element.innerText = this._placeholder;\r\n      element.classList.add(\"placeholder\")\r\n    } else {\r\n      this.placeholderVisible = false;\r\n      element.innerText = this.innerValue;\r\n      element.classList.remove(\"placeholder\")\r\n    }\r\n  }\r\n\r\n\r\n  private getNativeElement() {\r\n    return <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n  }\r\n\r\n  private onFocus = () => {\r\n    this.focused = true;\r\n    const element = this.getNativeElement();\r\n    if(this.placeholderVisible) {\r\n      element.innerHTML = \"\";\r\n      element.classList.remove(\"placeholder\");\r\n      this.placeholderVisible = false;\r\n    }\r\n  }\r\n\r\n  private onPaste = (event: ClipboardEvent) => {\r\n\r\n    event.preventDefault();\r\n    let paste = (event.clipboardData || (<any>window).clipboardData).getData('text/plain');\r\n\r\n    const selection = window.getSelection();\r\n    if(selection !== null) {\r\n      if (!selection.rangeCount) return;\r\n      selection.deleteFromDocument();\r\n      let node = document.createTextNode(paste);\r\n      selection.getRangeAt(0).insertNode(node);\r\n      selection.setPosition(node, paste.length);\r\n    }\r\n  }\r\n\r\n  private onBlur = () => {\r\n    this.focused = false;\r\n    if(!this.placeholderVisible) {\r\n      this.innerValue = this.getNativeElement().innerText;\r\n      if (this.innerValue !== null) {\r\n        this.modelChange.emit(this.innerValue);\r\n      } else {\r\n        this.modelChange.emit(\"\");\r\n      }\r\n      this.showPlaceholder();\r\n      this.blur.emit();\r\n    } else {\r\n      throw new Error(\"Placeholder should not be visible\");\r\n    }\r\n  };\r\n\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {LocalDateOptionalTime, LocalDateTime} from \"../Types\";\r\n\r\n@Component({\r\n  selector: 'my-time-summary[time]',\r\n  template: '{{formattedText}}',\r\n  styleUrls: ['./time-summary.component.scss']\r\n})\r\nexport class TimeSummaryComponent {\r\n  formattedText: string = \"\";\r\n  formattedFromNow: string = \"\";\r\n\r\n  @Input() set time(value: LocalDateTime|LocalDateOptionalTime|undefined) {\r\n    if(value === undefined) {\r\n      this.formattedText = \"\";\r\n      this.formattedFromNow = \"\";\r\n    } else {\r\n      this.formattedText = value.formattedTimezonedWords();\r\n      this.formattedFromNow = value.formattedFromNow();\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","import {EventBus} from \"../../EventBus\";\r\nimport {Option} from \"../../Option\";\r\n\r\nexport class ToastrEventBus extends EventBus {\r\n  infoAdded(message: string, tag: string, timeout: Option<number>) {}\r\n  warningAdded(message: string, tag: string, timeout: Option<number>) {}\r\n  errorAdded(message: string, tag: string, timeout: Option<number>) {}\r\n  successAdded(message: string, tag: string, timeout: Option<number>) {}\r\n\r\n  clearOldMessagesSent() {}\r\n  clearMessagesWithTagSent(tag: string) {}\r\n}\r\n","import {ToastrEventBus} from \"./ToastrEventBus\";\r\nimport {Option, Some} from \"../../Option\";\r\n\r\nexport class ToastrCategory {\r\n  static Global = \"Global\";\r\n  static Task = \"Task\";\r\n  static Case = \"Case\";\r\n  static Application = \"Application\";\r\n  static Process = \"Process\";\r\n  static Report = \"Report\";\r\n  static Datastore = \"Datastore\";\r\n  static Constants = \"Constants\";\r\n  static MapComments = \"MapComments\";\r\n}\r\n\r\nexport class ToastrService {\r\n\r\n  private static instance: ToastrService|undefined;\r\n\r\n  private messages: Array<string> = [];\r\n    eventBus = new ToastrEventBus();\r\n\r\n  private constructor() {\r\n  }\r\n\r\n  static getInstance() {\r\n    if (ToastrService.instance === undefined) {\r\n      ToastrService.instance = new ToastrService();\r\n    }\r\n    return ToastrService.instance;\r\n  }\r\n\r\n  info(message: string, tag: string): void {\r\n    this.eventBus.infoAdded(message, tag, Option.NoneSingleton);\r\n  }\r\n\r\n  warning(message: string, tag: string): void {\r\n    this.eventBus.warningAdded(message, tag, Option.NoneSingleton);\r\n  }\r\n\r\n  error(message: string, tag: string): void {\r\n    this.eventBus.errorAdded(message, tag, Option.NoneSingleton);\r\n  }\r\n\r\n  success(message: string, tag: string): void {\r\n    this.eventBus.successAdded(message, tag, Option.NoneSingleton);\r\n  }\r\n\r\n  clearOldMessages(): void {\r\n    this.eventBus.clearOldMessagesSent();\r\n  }\r\n\r\n  clearMessagesWithTag(tag: string): void {\r\n    this.eventBus.clearMessagesWithTagSent(tag);\r\n  }\r\n\r\n  infoWithTimeout(message: string, timeout: number, tag: string) {\r\n    this.eventBus.infoAdded(message, tag, Some(timeout));\r\n  }\r\n}\r\n","import {Option} from \"../../Option\";\r\nimport {clearArray} from \"../../Collections\";\r\nimport {ToastrEventBus} from \"./ToastrEventBus\";\r\nimport {ToastrService} from \"./ToastrService\";\r\n\r\nexport class ToastrMessage {\r\n  constructor(readonly message: string,\r\n              readonly level: string,\r\n              readonly tag: string,\r\n              readonly timestamp: number,\r\n              readonly icon: string) {}\r\n}\r\n\r\nexport class ToastrViewModel {\r\n  readonly messages: Array<ToastrMessage> = [];\r\n  readonly eventBus: ToastrEventBus = ToastrService.getInstance().eventBus;\r\n  constructor(readonly applyChanges: () => void) {\r\n\r\n    this.eventBus.on(this.eventBus.infoAdded, (message: string, tag: string, timeout: Option<number>) => {\r\n      const toastrMessage= new ToastrMessage(message, \"info\", tag, Date.now(), \"ss-info\");\r\n      this.messages.push(toastrMessage);\r\n      this.callApplyIfNeeded();\r\n      timeout.forEach(t => setTimeout( () => {\r\n        this.closeToastr(toastrMessage);\r\n        applyChanges();\r\n      }, t));\r\n    });\r\n\r\n    this.eventBus.on(this.eventBus.warningAdded, (message: string, tag: string, timeout: Option<number>) => {\r\n      const toastrMessage= new ToastrMessage(message, \"warning\", tag, Date.now(), \"ss-caution\");\r\n      this.messages.push(toastrMessage);\r\n      this.callApplyIfNeeded();\r\n      timeout.forEach(t => setTimeout(() => {\r\n        this.closeToastr(toastrMessage);\r\n        applyChanges();\r\n      }, t));\r\n    });\r\n\r\n    this.eventBus.on(this.eventBus.errorAdded, (message: string, tag: string, timeout: Option<number>) => {\r\n      const toastrMessage= new ToastrMessage(message, \"error\", tag, Date.now(), \"ss-alert\");\r\n      this.messages.push(toastrMessage);\r\n      this.callApplyIfNeeded();\r\n      timeout.forEach(t => setTimeout(() => {\r\n        this.closeToastr(toastrMessage);\r\n        applyChanges();\r\n      }, t));\r\n    });\r\n\r\n    this.eventBus.on(this.eventBus.successAdded, (message: string, tag: string, timeout: Option<number>) => {\r\n      const toastrMessage= new ToastrMessage(message, \"success\", tag, Date.now(), \"ss-check\");\r\n      this.messages.push(toastrMessage);\r\n      this.callApplyIfNeeded();\r\n      timeout.forEach(t => setTimeout(() => {\r\n        this.closeToastr(toastrMessage);\r\n        applyChanges();\r\n      }, t));\r\n    });\r\n\r\n    this.eventBus.on(this.eventBus.clearOldMessagesSent, () => {\r\n      this.clearOldMessages();\r\n    });\r\n\r\n    this.eventBus.on(this.eventBus.clearMessagesWithTagSent, (tag: string) => {\r\n      this.clearMessagesWithTag(tag);\r\n    });\r\n  }\r\n\r\n  private callApplyIfNeeded() {\r\n    this.applyChanges();\r\n  }\r\n\r\n  closeToastr(toastr: ToastrMessage) {\r\n    let messagesCopy = this.messages.slice();\r\n    clearArray(this.messages);\r\n    messagesCopy.filter(m => m != toastr).forEach(m => this.messages.push(m));\r\n  }\r\n\r\n  clearOldMessages(){\r\n    let currentTimestamp = Date.now();\r\n    let messagesCopy = this.messages.slice();\r\n    clearArray(this.messages);\r\n    messagesCopy.filter(m => m.timestamp + 3000 >= currentTimestamp).forEach(m => this.messages.push(m))\r\n  }\r\n\r\n  clearMessagesWithTag(tag: string){\r\n    let messagesCopy = this.messages.slice();\r\n    clearArray(this.messages);\r\n    messagesCopy.filter(m => m.tag.indexOf(tag) == -1).forEach(m => this.messages.push(m))\r\n  }\r\n\r\n}\r\n","import {Component, OnInit, ViewContainerRef} from \"@angular/core\";\r\nimport {ToastrViewModel} from \"./ToastrViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-toastr-overlay',\r\n  templateUrl: './toastr-overlay.component.html',\r\n  // styleUrls: ['./adjusting-text-input.component.scss']\r\n})\r\nexport class ToastrOverlayComponent implements OnInit {\r\n\r\n  viewModel: ToastrViewModel;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef) {\r\n    this.viewModel = new ToastrViewModel(() => {});\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.viewContainerRef.element.nativeElement.classList.toggle(\"bottom\", false)\r\n  }\r\n}\r\n\r\n","<div class=\"{{'toastr ' + message.level}}\" *ngFor=\"let message of viewModel.messages\">\r\n  <i class=\"icon {{message.icon}}\"></i><!--\r\n  -->{{message.message}}<!--\r\n  --><button class=\"btn btn-link closeToastr\" (click)=\"viewModel.closeToastr(message)\"><i class=\"ss-delete\"></i></button>\r\n</div>\r\n","import {ToastrService} from \"./ToastrService\";\r\n\r\nexport function error(text: string, tag: string = \"\"): void {\r\n  ToastrService.getInstance().error(text, tag);\r\n}\r\n\r\nexport function info(text: string, tag: string = \"\"): void {\r\n  ToastrService.getInstance().info(text, tag);\r\n}\r\n\r\nexport function warning(text: string, tag: string = \"\"): void {\r\n  ToastrService.getInstance().warning(text, tag);\r\n}\r\n\r\nexport function success(text: string, tag: string = \"\"): void {\r\n  ToastrService.getInstance().success(text, tag);\r\n}\r\n\r\nexport function clearOldMessages(): void {\r\n  ToastrService.getInstance().clearOldMessages();\r\n}\r\n\r\nexport function clearMessagesWithTag(tag: string): void {\r\n  ToastrService.getInstance().clearMessagesWithTag(tag);\r\n}\r\n\r\nexport function infoWithTimeout(message: string, timeout: number, tag: string): void {\r\n  ToastrService.getInstance().infoWithTimeout(message, timeout, tag);\r\n}\r\n\r\n\r\nexport default {\r\n  error: error,\r\n  info: info,\r\n  warning: warning,\r\n  success,\r\n  clearOldMessages,\r\n  clearMessagesWithTag,\r\n  infoWithTimeout\r\n}\r\n\r\n\r\n\r\n","import {FileUri} from \"../FileUri\";\r\nimport {Typed} from \"../Typed\";\r\nimport {Option} from \"../Option\";\r\nimport {AnyFlowId, AnyFlowIdFactory} from \"../AggregateId\";\r\n\r\nexport interface UploadFormFileResponse {\r\n  className(): string;\r\n}\r\n\r\nexport class UploadFormFileFailure implements UploadFormFileResponse {\r\n  constructor(readonly exceptions: string[]) {}\r\n  static className = \"UploadFormFileFailure\";\r\n  className() {\r\n    return UploadFormFileFailure.className;\r\n  }\r\n\r\n  static copy(other: UploadFormFileFailure) {\r\n    return new UploadFormFileFailure(other.exceptions.slice());\r\n  }\r\n}\r\n\r\nexport class UploadFormFileSuccess implements UploadFormFileResponse {\r\n  constructor(\r\n    readonly fileUri: FileUri,\r\n    readonly materializedFlowId: Option<Typed<AnyFlowId>>) {}\r\n\r\n  static className = \"UploadFormFileSuccess\";\r\n  className() {\r\n    return UploadFormFileSuccess.className;\r\n  }\r\n\r\n  static copy(other: UploadFormFileSuccess): UploadFormFileSuccess {\r\n    return new UploadFormFileSuccess(FileUri.copy(other.fileUri), Option.copy(other.materializedFlowId, AnyFlowIdFactory.copyTyped));\r\n  }\r\n}\r\n","import toastr from \"@libs/components/toastr/toastr\";\r\nimport {i18n} from \"../../shared/internationalization/i18n.service\";\r\nimport {restUrl} from \"../../environment\";\r\nimport {__} from \"../FunctionalExtensions\";\r\nimport {UploadFormFileResponse} from \"@libs/simpleFileUploaderController/Messages\";\r\n\r\ndeclare const qq: any;\r\n\r\nexport class SimpleFileUploaderController {\r\n\r\n  fineUploaderBasicInstance!: any;\r\n\r\n   constructor(\r\n      public uploadFileUrl: string,\r\n      public uploadButtonSelection: HTMLElement,\r\n      public sessionToken: string,\r\n      public allowedExtensions: Array<string>,\r\n      public maxFileSize: number,\r\n      public chunking: boolean,\r\n      public onComplete: (id: number, name: string, responseJSON: UploadFormFileResponse) => void,\r\n      public onUpload: (id: number, name: string, instance: any) => void,\r\n      public onValidate: (file: {name: string, size: number}) => boolean,\r\n      public onError: (id: any, name: any, reason: any, request: any) => void,\r\n      public onProgress: (id: number, name: string, uploadedBytes: number, totalBytes: number) => void\r\n  ){\r\n      //https://fineuploader.com/\r\n     this.init();\r\n   }\r\n\r\n  private init() {\r\n\r\n    setTimeout(() => {\r\n      let input = <HTMLElement>this.uploadButtonSelection.querySelector(\"input\");\r\n      if (input !== null) {\r\n        input.setAttribute(\"title\", \"\");\r\n      }\r\n    }, 100);\r\n\r\n\r\n    this.fineUploaderBasicInstance = new qq.FineUploaderBasic({\r\n      autoUpload: true,\r\n      button: this.uploadButtonSelection,\r\n      debug: false,\r\n\r\n      //folders: false, // TODO NTH\r\n      //multiple: false, //TODO NTH\r\n      chunking: {\r\n        enabled: this.chunking,\r\n        partSize: 1024 * 1024\r\n      },\r\n      messages: {},\r\n      request: {\r\n        endpoint: restUrl(this.uploadFileUrl),\r\n        params: {\r\n        }, // params to send with request\r\n        paramsInBody: false, // otherwise in url\r\n        customHeaders: {\r\n          'Authorization': this.sessionToken\r\n        }, // add authorization headers\r\n      },\r\n      cors: {\r\n        expected: true,\r\n        sendCredentials: true\r\n      },\r\n      validation: {\r\n        allowedExtensions: [],\r\n        allowEmpty: true\r\n      },\r\n      callbacks: {\r\n        onValidate: (file: {name: string, size: number}): boolean => {\r\n\r\n          document.dispatchEvent(new Event('drop')); // so other drop areas can deactivate\r\n\r\n          const extensionIsValid = this.allowedExtensions.length > 0 && !__(this.allowedExtensions).exists(e => file.name.toLocaleLowerCase().indexOf(\".\"+e.toLocaleLowerCase()) + 1 === file.name.length - e.length);\r\n          if(extensionIsValid) {\r\n            if(file.name.indexOf(\".\") > 0) {\r\n              toastr.error(i18n(\"fileuploader_wrong_type_msg\", {filetype: file.name.substring(file.name.lastIndexOf(\".\") + 1), allowedFiles: this.allowedExtensions.join(\", \")}));\r\n            } else {\r\n              toastr.error(i18n(\"fileuploader_unknown_type_msg\", {allowedFiles: this.allowedExtensions.join(\", \")}));\r\n            }\r\n            return false;\r\n          } else if(file.size == 0) {\r\n            toastr.error(i18n(\"fileuploader_empty_file\"));\r\n            return false;\r\n          } else if(file.size > this.maxFileSize) {\r\n            toastr.error(i18n(\"fileuploader_too_large_file\", {size: this.maxFileSize}));// TODO Format formatter.prettySize(appConfig.config.maxFileSize)}));\r\n            return false;\r\n          } else {\r\n            if(this.onValidate) {\r\n              return this.onValidate(file);\r\n            } else {\r\n              return true;\r\n            }\r\n          }\r\n        },\r\n        onUpload: (id: number, fileName: string) => {\r\n          if(this.onUpload){\r\n            this.onUpload(id, fileName, this.fineUploaderBasicInstance)\r\n          }\r\n        },\r\n        onComplete: (id: number, name: string, responseJSON: UploadFormFileResponse) => {\r\n          if(this.onComplete) {\r\n            this.onComplete(id, name, responseJSON)\r\n          }\r\n        },\r\n        onError: (id: number, name: string, reason: string, request: XMLHttpRequest) => {\r\n          if(request.status !== 200 || reason.length > 0) {\r\n            if (this.onError) {\r\n              this.onError(id, name, reason, request)\r\n            } else {\r\n              if(request.status == 401) {\r\n                toastr.error(i18n(\"fileuploader_unauthorized\"));\r\n              } else {\r\n                toastr.error(reason);\r\n              }\r\n            }\r\n          }\r\n        },\r\n        onProgress: (id: number, name: string, uploadedBytes: number, totalBytes: number) => {\r\n          if(this.onProgress) {\r\n            this.onProgress(id, name, uploadedBytes, totalBytes)\r\n          }\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  cancelUpload(uploadId: number) {\r\n    this.fineUploaderBasicInstance.cancel(uploadId);\r\n  }\r\n\r\n}\r\n","\r\n  export function prettySize(value: number) {\r\n    const units = [\"B\", \"KB\", \"MB\"];\r\n    let i = 1;\r\n    let n = value;\r\n    while (i < units.length && n >= 1024) {\r\n      n = n / 1024;\r\n      i++;\r\n    }\r\n\r\n    if(i > 1) {\r\n      return (Math.round(n * 100) / 100).toFixed(2) +\" \"+units[i - 1];\r\n    } else {\r\n      return n +\" \"+units[i - 1];\r\n    }\r\n\r\n\r\n  }\r\n\r\n  export function fromPrettySize(value: string) {\r\n    const i = value.length - 1;\r\n    const last = value.charAt(i);\r\n    if (last == 'B' || last == 'b') {\r\n      let inc = 1;\r\n      let suffix = 2;\r\n      switch(value.charAt(i - 1)) {\r\n        case 'k': inc = 1024;\r\n          break;\r\n        case 'K': inc = 1024;\r\n          break;\r\n        case 'm': inc = 1024 * 1024;\r\n          break;\r\n        case 'M': inc = 1024 * 1024;\r\n          break;\r\n        case 'g': inc = 1024 * 1024 * 1024;\r\n          break;\r\n        case 'G': inc = 1024 * 1024 * 1024;\r\n          break;\r\n        default: suffix = 1;\r\n          break;\r\n      }\r\n      return parseFloat(value.slice(0, -suffix)) * inc;\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n","import {None, Option, Some} from \"@libs/Option\";\r\nimport {EntriesLayoutType, LayoutType, TextAlign, TextVerticalAlign} from \"@screens\";\r\n\r\nexport class CssUtils {\r\n\r\n    static isColor(cssColor: string): boolean {\r\n      return cssColor.match(/^#([a-fA-F0-9]{3,4}){1,2}$/) !== null;\r\n    }\r\n\r\n    private static cssProp(propName: string, propValue: Option<string|number>): string {\r\n      return propValue.map(v => propName + \": \" + v + \";\").getOrElse(\"\");\r\n    }\r\n\r\n    static childrenPlainMinHeight(contentMinHeightValue: Option<string>, headerMinHeightValue: Option<string>, headerEnabled: boolean, childrenPanelDeltaHeight: Option<string>){\r\n      const defaultHeaderHeightValue = headerEnabled ? \"3rem\" : \"0rem\";\r\n      const headerHeightValue = headerEnabled ? headerMinHeightValue.getOrElse(defaultHeaderHeightValue) : defaultHeaderHeightValue;\r\n      const value = contentMinHeightValue.getOrElse(\"3rem\")\r\n        + \" - \" +  headerHeightValue\r\n        + \" + \" + childrenPanelDeltaHeight.getOrElse(\"0rem\");\r\n      return this.cssProp('min-height', Some(value).map(v => `calc(${v})`));\r\n    }\r\n\r\n    static desiredHeightValue(desiredHeight: Option<string>, contentMinHeight: Option<string>, defaultValue: string): number {\r\n      return parseFloat(desiredHeight.orElse(contentMinHeight).getOrElse(defaultValue));\r\n    }\r\n\r\n    static flexGrow(desiredWidth: Option<number>, contentMinWidth: Option<number>): string {\r\n      return this.cssProp(\"flex-grow\", desiredWidth.orElse(contentMinWidth).orElse(Some(1)));\r\n    }\r\n\r\n    static flexBasis(parentLayout: LayoutType, desiredWidth: Option<string>, contentMinWidth: Option<string>, desiredHeight: Option<string>, contentMinHeight: Option<string>) {\r\n      if (parentLayout.isHorizontal()) {\r\n        return this.cssProp(\"flex-basis\", desiredWidth.orElse(contentMinWidth));\r\n      } else if (parentLayout.isVertical()) {\r\n        return this.cssProp(\"flex-basis\", desiredHeight.orElse(contentMinHeight));\r\n      }\r\n      return \"\";\r\n    }\r\n\r\n    static internalMinSizes(parentLayout: LayoutType, desiredWidth: Option<string>, contentMinWidth: Option<string>, desiredHeight: Option<string>, contentMinHeight: Option<string>) {\r\n      let internalMinSizes = \"\";\r\n      if(parentLayout.isStatic()) {\r\n        internalMinSizes += this.cssProp(\"min-width\", desiredWidth.orElse(contentMinWidth));\r\n        internalMinSizes += this.cssProp(\"min-height\", desiredHeight.orElse(contentMinHeight));\r\n      } else if(parentLayout.isHorizontal() || parentLayout.isVertical()) {\r\n        internalMinSizes += this.cssProp(\"min-height\", desiredHeight.orElse(contentMinHeight));\r\n      }\r\n      return internalMinSizes;\r\n    }\r\n\r\n    static maxSizes(maxWidthValue: Option<string|number>, maxHeightValue: Option<string|number>): string {\r\n      const maxWidth = this.cssProp(\"max-width\", maxWidthValue);\r\n      const maxHeight = this.cssProp(\"max-height\", maxHeightValue);\r\n      return maxWidth + maxHeight;\r\n    }\r\n\r\n    static minSizes(minWidthValue: Option<string|number>, minHeightValue: Option<string|number>): string {\r\n      const minWidth = this.cssProp(\"min-width\", minWidthValue);\r\n      const minHeight = this.cssProp(\"min-height\", minHeightValue);\r\n      return minWidth + minHeight;\r\n    }\r\n\r\n    static margins(marginTop: Option<string>, marginRight: Option<string>, marginBottom: Option<string>, marginLeft: Option<string>) {\r\n      let margins = \"\";\r\n      margins +=  this.cssProp(\"margin-top\", marginTop);\r\n      margins += this.cssProp(\"margin-right\", marginRight);\r\n      margins += this.cssProp(\"margin-bottom\", marginBottom);\r\n      margins += this.cssProp(\"margin-left\", marginLeft);\r\n      return margins;\r\n    }\r\n\r\n    static paddings(paddingTop: Option<string>, paddingRight: Option<string>, paddingBottom: Option<string>, paddingLeft: Option<string>) {\r\n      let paddings = \"\";\r\n      paddings += this.cssProp('padding-top', paddingTop);\r\n      paddings += this.cssProp('padding-right', paddingRight);\r\n      paddings += this.cssProp('padding-bottom', paddingBottom);\r\n      paddings += this.cssProp('padding-left', paddingLeft);\r\n      return paddings;\r\n    }\r\n\r\n    static staticPosition(top: Option<string>, right: Option<string>, bottom: Option<string>, left: Option<string>){\r\n      let position = \"\";\r\n      position += this.cssProp(\"top\", top);\r\n      position += this.cssProp(\"right\", right);\r\n      position += this.cssProp(\"bottom\", bottom);\r\n      position += this.cssProp(\"left\", left);\r\n      return position;\r\n    }\r\n\r\n    static gridPosition(gridRowStart: Option<number>, gridRowEnd: number, gridColumnStart: Option<number>, gridColumnEnd:number) {\r\n      let gridPosition = \"\";\r\n      gridPosition += this.cssProp('grid-row-start', gridRowStart.map(toString).orElse(Some('auto')));\r\n      gridPosition += this.cssProp('grid-row-end', Some(gridRowEnd).orElse(Some(1)).map(v => 'span ' + v));\r\n      gridPosition += this.cssProp('grid-column-start', gridColumnStart.map(toString).orElse(Some('auto')));\r\n      gridPosition += this.cssProp('grid-column-end', Some(gridColumnEnd).orElse(Some(1)).map(v => 'span ' + v));\r\n      return gridPosition;\r\n    }\r\n\r\n    static borders(borderTopWidth: Option<string>, borderRightWidth: Option<string>, borderBottomWidth: Option<string>, borderLeftWidth: Option<string>,\r\n                   borderTopColor: Option<string>, borderRightColor: Option<string>, borderBottomColor: Option<string>, borderLeftColor: Option<string>,\r\n                   borderRadius: Option<string>) {\r\n      let widths = \"\";\r\n      widths += this.cssProp('border-top-width', borderTopWidth);\r\n      widths += this.cssProp('border-right-width', borderRightWidth);\r\n      widths += this.cssProp('border-bottom-width', borderBottomWidth);\r\n      widths += this.cssProp('border-left-width', borderLeftWidth);\r\n\r\n      let colors = \"\";\r\n      colors += this.cssProp('border-top-color', borderTopColor);\r\n      colors += this.cssProp('border-right-color', borderRightColor);\r\n      colors += this.cssProp('border-bottom-color', borderBottomColor);\r\n      colors += this.cssProp('border-left-color', borderLeftColor);\r\n\r\n      const borderStyle = (widths.length > 0 || colors.length > 0)? Some('solid'): None();\r\n      const style = this.cssProp('border-style', borderStyle);\r\n\r\n      let radius = this.cssProp('border-radius', borderRadius)\r\n\r\n      return widths + colors + style + radius;\r\n\r\n    }\r\n\r\n    static shadows(outerShadow: Option<string>, innerShadow: Option<string>) {\r\n      innerShadow.map(v => \"inset \" + v);\r\n      if(outerShadow.isDefined() && innerShadow.isDefined()) {\r\n        return this.cssProp('box-shadow', Some(outerShadow.get() + \", \" + innerShadow.get()));\r\n      }\r\n      return this.cssProp('box-shadow', outerShadow.orElse(innerShadow));\r\n    }\r\n\r\n\r\n    static sectionContentOverflow(componentMaxWidth: Option<string>, componentMaxHeight: Option<string>){\r\n      let overflow = \"\";\r\n      // If content there is max size value on axis set overflow to auto on that axis\r\n      overflow += this.cssProp('overflow-x', componentMaxWidth.map(v => 'auto'));\r\n      overflow += this.cssProp('overflow-y', componentMaxHeight.map(v => 'auto'));\r\n      return overflow;\r\n    }\r\n\r\n    static backgroundColor(color: Option<string>) {\r\n      return this.cssProp('background-color', color);\r\n    }\r\n\r\n    static gaps(rowGap:Option<string>, columnGap: Option<any>) {\r\n      let gaps = \"\";\r\n      gaps += this.cssProp('row-gap', rowGap);\r\n      gaps += this.cssProp('column-gap', columnGap);\r\n      return gaps;\r\n    }\r\n\r\n    static font(fontFamily: Option<string>, fontSize: Option<string>, bold: boolean, italic: boolean, underlined: boolean, lineThrough: boolean, color: Option<string>) {\r\n      const fontWeight = bold ? Some(\"bold\") : None();\r\n      const fontStyle = italic ? Some(\"italic\") : None();\r\n      let decoration = \"\";\r\n      if(underlined){ decoration += \"underline \" }\r\n      if(lineThrough){ decoration += \"line-through\" }\r\n      decoration = decoration.trim();\r\n      const textDecoration = decoration.length > 0 ? Some(decoration) : None();\r\n\r\n      let font = \"\";\r\n      font += this.cssProp('font-family', fontFamily);\r\n      font += this.cssProp('font-size', fontSize);\r\n      font += this.cssProp('font-weight', fontWeight);\r\n      font += this.cssProp('font-style', fontStyle);\r\n      font += this.cssProp('text-decoration', textDecoration);\r\n      font += this.cssProp('color', color);\r\n      return font;\r\n    }\r\n\r\n    static childrenPlainMinWidth(contentMinWidth: Option<string>) {\r\n      return this.cssProp('min-width', contentMinWidth);\r\n    }\r\n\r\n\r\n\r\n    static verticalAlign(align: string) {\r\n      switch(align) {\r\n        case TextVerticalAlign.top.name: return \"align-items: start;\";\r\n        case TextVerticalAlign.center.name: return \"align-items: center;\";\r\n        case TextVerticalAlign.bottom.name: return \"align-items: end;\";\r\n        default: throw new Error(\"Unsupported vertical align value [\"+align+\"]\");\r\n      }\r\n    }\r\n\r\n    static horizontalAlign(align: string) {\r\n      switch(align) {\r\n        case \"left\": return \"justify-content: left; text-align: left;\"; // deprecated\r\n        case TextAlign.start.name: return \"justify-content: left; text-align: left;\";\r\n        case TextAlign.center.name: return \"justify-content: center; text-align: center;\";\r\n        case \"right\": return \"justify-content: right; text-align: right;\";  // deprecated\r\n        case TextAlign.end.name: return \"justify-content: right; text-align: right;\";\r\n        case TextAlign.justify.name: return \"justify-content: center; text-align: justify;\";\r\n        default: throw new Error(\"Unsupported align value [\"+align+\"]\");\r\n      }\r\n    }\r\n\r\n    static entriesMaxSizes(maxWidthValue: Option<string>, maxHeightValue: Option<string>, headerHeightValue: Option<string>, headerEnabled: boolean) {\r\n      const headerHeight = headerEnabled ? headerHeightValue : None();\r\n      const maxHeightCalc = maxHeightValue.map(v => v + \" - \" + headerHeight.getOrElse(\"0rem\"));\r\n\r\n      let maxSizes = \"\";\r\n      maxSizes += this.cssProp('max-width', maxWidthValue);\r\n      maxSizes += this.cssProp('max-height', maxHeightCalc.map(v => `calc(${v})`));\r\n      return maxSizes;\r\n    }\r\n\r\n    static repeatableEntryLayout(innerLayout: LayoutType, entryLayout: EntriesLayoutType, minWidthValue: Option<string>, minHeightValue: Option<string>, childrenPanelDeltaHeightValue: Option<string>) {\r\n      const entryWidth = this.cssProp('min-width', minWidthValue);\r\n\r\n      const entryHeight = innerLayout.isStatic() ?\r\n        this.cssProp('min-height', minHeightValue.map(v => `calc(${v} + ${childrenPanelDeltaHeightValue.getOrElse('0rem')})`)) :\r\n        this.cssProp('min-height', minHeightValue);\r\n\r\n      let css = \"\";\r\n      if(entryLayout.isHorizontal()){\r\n        css += entryWidth + entryHeight + 'display: inline-block';\r\n      } else if (entryLayout.isVertical()){\r\n        css += entryHeight + 'display: block';\r\n      }\r\n\r\n      return css;\r\n    }\r\n\r\n    static columnLabelWidth(minWidth:Option<string>, maxWidth: Option<string>) {\r\n      let css = \"\";\r\n      css += this.cssProp('min-width', minWidth.orElse(Some('3rem')));\r\n      css += this.cssProp('max-width', maxWidth);\r\n      return css;\r\n    }\r\n\r\n  }\r\n","import {getREMSize, getSize} from \"@libs/Elements\";\nimport {__} from \"@libs/FunctionalExtensions\";\nimport {ScreenEventBus} from \"@screens\";\nimport {ScreenContainerViewModel} from \"@screens\";\n\nexport class ScreenComponentController {\n\n    private enabled = true;\n\n    constructor(readonly $container: HTMLElement,\n                readonly rootComponent: ScreenContainerViewModel,\n                readonly eventBus: ScreenEventBus) {\n\n      eventBus.on(eventBus.componentHeightChanged, () => {\n        if(this.enabled) {\n          this.adjustComponentsDeltaHeight();\n        }\n      });\n\n    }\n\n\n    private adjustComponentsDeltaHeight() {\n      // this.$container.find(\".ViewComponent\").each((index, element) => {\n      //   this.adjustElement($(element));\n      // });\n    }\n\n    private adjustElement($element: HTMLElement) {\n      // const classes: Array<string> = (<string>$element.attr(\"class\")).split(/\\s+/);\n      //\n      // const id = __(classes).find(c => c.indexOf(\"ViewComponent\") == 0 && c.length > \"ViewComponent\".length).map(c => parseInt(c.substring(\"ViewComponent\".length))).getOrError(\"Component id not found\");\n      //\n      // // const deltaHeight = $element.attr(\"delta-height\");\n      // // let deltaHeightRem = 0;\n      // // if(deltaHeight != null && deltaHeight.length > 0) {\n      // //   deltaHeightRem = parseFloat(deltaHeight);\n      // // }\n      // const deltaHeightRem = 0;\n      // // const minHeightRem = parseFloat($element.css(\"minHeight\")) / elements.getREMSize() - deltaHeightRem;\n      // const component = this.rootComponent.getComponentById(id).getOrError(\"No component found [\"+id+\"]\");\n      // const minHeightRem = component.desiredHeightRem;\n      // // console.log(\"minHeightRem\",minHeightRem,  \"minHeight\", parseFloat($element.css(\"minHeight\")), \"deltaHeightRem\", deltaHeightRem * elements.getREMSize());\n      //\n      // const sizeRem = getSize(<HTMLElement>$element.get(0)).scale(1 / getREMSize());\n      //\n      //\n      // const newDeltaHeightRem = Math.max(0, sizeRem.height - minHeightRem);\n      //\n      // // console.log(\"newDeltaHeightRem\", newDeltaHeightRem, \"size.height\", sizeRem.height, \"minHeightPx\", minHeightRem)\n      //\n      // component.changeDeltaHeightRem(newDeltaHeightRem);\n\n\n    }\n\n    private round(value: number): number {\n      return Math.round(value * 1000) / 1000;\n    }\n\n    destroy() {\n      this.enabled = false;\n    }\n  }\n","import {FileUri} from \"@libs/FileUri\";\r\nimport {ScreenInstanceId} from \"@libs/IdModel\";\r\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {EventBus} from \"@libs/EventBus\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class ScreenExternalEventBus extends EventBus{\r\n\r\n    filesPreviewRequested(files: Array<any>, index: number) {}\r\n    emailPreviewRequested(emailUri: FileUri) {}\r\n\r\n    screenCloseRequested(screenInstanceId: ScreenInstanceId) {}\r\n\r\n    screenTerminated(screenInstanceId: ScreenInstanceId) {}\r\n\r\n    outputParameterChanged(input: boolean, variableName: string, value: Option<BusinessVariable>) {}\r\n\r\n    inputParametersChanged(params: Array<[string, string]>) {}\r\n  }\r\n","\r\n  export class ScreenFormConfig {\r\n    static panelUnitRemSize = 3;\r\n  }\r\n","import {\r\n  ActionAsyncExecutionCompleted,\r\n  ActionAsyncExecutionFailed,\r\n  ActionAsyncExecutionStarted,\r\n  ActionExecutionTriggered,\r\n  ActionSyncExecutionCompleted,\r\n  ActionSyncExecutionFailed,\r\n  ActionValidationFailed,\r\n  ComponentInnerRepeatableContextChanged,\r\n  ComponentModelChange,\r\n  ComponentModelChanged,\r\n  ComponentModelInProgress,\r\n  ComponentPropertyChanged,\r\n  ComponentPropertyErrorOccurred,\r\n  ComponentPropertyInProgress,\r\n  ComponentRefPropertyChanged,\r\n  ComponentRefPropertyErrorOccurred,\r\n  ComponentRefPropertyInProgress,\r\n  ComponentRefValidationChanged,\r\n  ComponentSingleContextChanged,\r\n  ComponentStateCreated,\r\n  ComponentStateDeleted,\r\n  ComponentStatusChanged,\r\n  ComponentValidationChanged,\r\n  ComponentValidationErrorOccurred, FileInfoModel, FilesService,\r\n  NewScreenInstanceEvents,\r\n  OptionalContextComponentState,\r\n  OutputParameterChanged,\r\n  RefIdInContext,\r\n  RefStateCreated,\r\n  RefStateDeleted,\r\n  RepeatableComponentEntryAdded,\r\n  RepeatableComponentEntryDeleted, RepeatableContainerState,\r\n  RepeatableContextComponentState,\r\n  ScreenDebugInfo,\r\n  ScreenEventBus,\r\n  ScreenInstanceService,\r\n  ScreenInstanceState,\r\n  UpdateableState\r\n} from \"@screens\";\r\nimport {BusinessVariable, NumberVariable} from \"@libs/ProcessVariables\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {ScreenId, ScreenInstanceId, VariableId} from \"@libs/IdModel\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {ServerEventsService} from \"../events/ServerEventsService\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {screenInstanceDownloadUrl} from \"@libs/Attachments\";\r\n\r\nexport class ScreenInstanceServerModel {\r\n\r\n    version: number = 0;\r\n    private active = true;\r\n\r\n    private subscriptionId: Option<string> = None();\r\n    private eventsSubscription: Option<number> = None();\r\n\r\n    constructor(\r\n      readonly id: ScreenId,\r\n      readonly eventBus: ScreenEventBus,\r\n      readonly screenInstanceService: ScreenInstanceService,\r\n      readonly instance: ScreenInstanceState,\r\n      readonly serverEventsService: ServerEventsService,\r\n      readonly filesService: FilesService) {\r\n\r\n      if(instance) { //TODO\r\n        this.version = instance.version;\r\n        this.subscribeForNewEvents();\r\n      }\r\n    }\r\n\r\n    subscribeForNewEvents() {\r\n\r\n      this.subscriptionId.forEach(s => this.serverEventsService.unsubscribe(s));\r\n      this.subscriptionId = None();\r\n      this.serverEventsService.subscribeForScreenInstance(this.instance.id, this.version, (consumerSubscriptionId => {\r\n        this.subscriptionId = Some(consumerSubscriptionId);\r\n      }));\r\n\r\n      this.eventsSubscription = Some(this.serverEventsService.serverEventBus.on(this.serverEventsService.serverEventBus.screenInstanceEvent, (newEvents: NewScreenInstanceEvents) => {\r\n        if(this.active && this.getInstanceId().id == newEvents.screenInstanceId.id) {\r\n         // console.log(\"New events\", newEvents.eventsUnwrapped);\r\n\r\n          let statesToUpdate: Array<UpdateableState> = [];\r\n\r\n          if (newEvents.error.isEmpty()) {\r\n\r\n            newEvents.eventsUnwrapped.forEach(event => {\r\n\r\n              // console.log(\"Event handled \"+event.className(), event);\r\n\r\n              switch (event.className()) {\r\n                case ComponentPropertyInProgress.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentPropertyInProgress(<ComponentPropertyInProgress>event));\r\n                  break;\r\n                case ComponentPropertyChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentPropertyChanged(<ComponentPropertyChanged>event));\r\n                  break;\r\n                case ComponentPropertyErrorOccurred.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentPropertyErrorOccurred(<ComponentPropertyErrorOccurred>event));\r\n                  break;\r\n                case ComponentRefPropertyInProgress.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentRefPropertyInProgress(<ComponentRefPropertyInProgress>event));\r\n                  break;\r\n                case ComponentRefPropertyChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentRefPropertyChanged(<ComponentRefPropertyChanged>event));\r\n                  break;\r\n                case ComponentRefPropertyErrorOccurred.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentRefPropertyErrorOccurred(<ComponentRefPropertyErrorOccurred>event));\r\n                  break;\r\n                case ComponentModelInProgress.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentModelInProgress(<ComponentModelInProgress>event));\r\n                  break;\r\n                case ComponentModelChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentModelChanged(<ComponentModelChanged>event));\r\n                  break;\r\n                case ComponentSingleContextChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentSingleContextChanged(<ComponentSingleContextChanged>event));\r\n                  break;\r\n                case ActionExecutionTriggered.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionExecutionTriggered(<ActionExecutionTriggered>event));\r\n                  break;\r\n                case ActionValidationFailed.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionValidationFailed(<ActionValidationFailed>event));\r\n                  break;\r\n                case ActionSyncExecutionFailed.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionSyncExecutionFailed(<ActionSyncExecutionFailed>event));\r\n                  break;\r\n                case ActionSyncExecutionCompleted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleSyncActionExecutionCompleted(<ActionSyncExecutionCompleted>event));\r\n                  break;\r\n                case ActionAsyncExecutionStarted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionAsyncExecutionStarted(<ActionAsyncExecutionStarted>event));\r\n                  break;\r\n                case ActionAsyncExecutionFailed.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionAsyncExecutionFailed(<ActionAsyncExecutionFailed>event));\r\n                  break;\r\n                case ActionAsyncExecutionCompleted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleActionAsyncExecutionCompleted(<ActionAsyncExecutionCompleted>event));\r\n                  break;\r\n                case ComponentValidationChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentValidationChanged(<ComponentValidationChanged>event));\r\n                  break;\r\n                case ComponentValidationErrorOccurred.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentValidationErrorOccurred(<ComponentValidationErrorOccurred>event));\r\n                  break;\r\n                case ComponentRefValidationChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentRefValidationChanged(<ComponentRefValidationChanged>event));\r\n                  break;\r\n                case ComponentInnerRepeatableContextChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentInnerRepeatableContextChanged(<ComponentInnerRepeatableContextChanged>event));\r\n                  break;\r\n                case RefStateCreated.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleRefStateCreated(<RefStateCreated>event));\r\n                  break;\r\n                case RefStateDeleted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleRefStateDeleted(<RefStateDeleted>event));\r\n                  break;\r\n                case ComponentStateCreated.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentStateCreated(<ComponentStateCreated>event));\r\n                  break;\r\n                case ComponentStateDeleted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentStateDeleted(<ComponentStateCreated>event));\r\n                  break;\r\n                case ComponentStatusChanged.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleComponentStatusChanged(<ComponentStatusChanged>event));\r\n                  break;\r\n                case RepeatableComponentEntryAdded.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleRepeatableComponentEntryAdded(<RepeatableComponentEntryAdded>event));\r\n                  break;\r\n                case RepeatableComponentEntryDeleted.className:\r\n                  statesToUpdate = statesToUpdate.concat(this.handleRepeatableComponentEntryDeleted(<RepeatableComponentEntryDeleted>event));\r\n                  break;\r\n                case OutputParameterChanged.className:\r\n                  this.onOutputParameterChanged(<OutputParameterChanged>event);\r\n                  break;\r\n              }\r\n\r\n              this.version = event.version\r\n            });\r\n\r\n            __(statesToUpdate).unique().forEach(state => state.updated());\r\n            this.eventBus.componentsStateUpdated();\r\n\r\n          } else {\r\n            toastr.error(\"Error while getting view events: \" + newEvents.error.get());\r\n          }\r\n        } // otherwise ignore\r\n      }));\r\n\r\n    }\r\n\r\n    handleComponentRefPropertyChanged(event: ComponentRefPropertyChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentRefState(event.contextId, event.componentRefId);\r\n      if(event.value.isDefined()) {\r\n        state.properties.putValue(event.propertyName, event.unwrappedValue.get());\r\n      } else {\r\n        state.properties.clearValue(event.propertyName);\r\n      }\r\n      return [state];\r\n\r\n    }\r\n\r\n    handleComponentRefPropertyInProgress(event: ComponentRefPropertyInProgress): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentRefState(event.contextId, event.componentRefId);\r\n      state.properties.putInProgress(event.propertyName);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentRefPropertyErrorOccurred(event: ComponentRefPropertyErrorOccurred): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentRefState(event.contextId, event.componentRefId);\r\n      state.properties.putError(event.propertyName, event.timestamp, event.message);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentPropertyInProgress(event: ComponentPropertyInProgress): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.putInProgress(event.propertyName);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentPropertyChanged(event: ComponentPropertyChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      if(event.value.isDefined()) {\r\n        state.properties.putValue(event.propertyName, event.unwrappedValue.get());\r\n      } else {\r\n        state.properties.clearValue(event.propertyName);\r\n      }\r\n      return [state];\r\n    }\r\n\r\n    handleComponentPropertyErrorOccurred(event: ComponentPropertyErrorOccurred): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.putError(event.propertyName, event.timestamp, event.message);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentModelChanged(event: ComponentModelChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.updateModel(event.modelName, event.unwrappedValue);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentModelInProgress(event: ComponentModelInProgress): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.setModelInProgress(event.modelName);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentSingleContextChanged(event: ComponentSingleContextChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n\r\n      if(state instanceof OptionalContextComponentState) {\r\n        state.updateInnerContext(event.innerContext);\r\n      } else {\r\n        throw new Error(\"Only single context container supported\")\r\n      }\r\n\r\n      state.properties.putValue(\"$status\", new NumberVariable(event.status));\r\n      return [state];\r\n    }\r\n\r\n\r\n    handleActionExecutionTriggered(event: ActionExecutionTriggered): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionStateInProgress(event.actionName, event.timestamp);\r\n      return [state];\r\n    }\r\n\r\n\r\n    handleActionValidationFailed(event: ActionValidationFailed): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionStateValidationError(event.actionName, event.messages);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentValidationChanged(event: ComponentValidationChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setComponentValidationErrors(event.errors);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentValidationErrorOccurred(event: ComponentValidationErrorOccurred): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setComponentValidationException(event.message, event.timestamp, event.index);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentRefValidationChanged(event: ComponentRefValidationChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentRefState(event.contextId, event.componentRefId);\r\n      state.properties.setComponentValidationErrors(event.errors);\r\n      return [state];\r\n    }\r\n\r\n\r\n\r\n    handleActionSyncExecutionFailed(event: ActionSyncExecutionFailed): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionSyncStateError(event.actionName, event.timestamp, event.index, event.message);\r\n      return [state];\r\n    }\r\n\r\n    handleSyncActionExecutionCompleted(event: ActionSyncExecutionCompleted): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionStateSyncCompleted(event.actionName);\r\n      return [state];\r\n    }\r\n\r\n    handleActionAsyncExecutionStarted(event: ActionAsyncExecutionStarted): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionStateInAsyncStarted(event.actionName, event.asyncActions);\r\n      return [state];\r\n    }\r\n\r\n    handleActionAsyncExecutionFailed(event: ActionAsyncExecutionFailed): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionAsyncStateError(event.actionName, event.timestamp, event.index, event.message);\r\n      return [state];\r\n    }\r\n\r\n    handleActionAsyncExecutionCompleted(event: ActionAsyncExecutionCompleted): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.setActionStateInAsyncCompleted(event.actionName, event.index);\r\n      return [state];\r\n    }\r\n\r\n    handleComponentInnerRepeatableContextChanged(event: ComponentInnerRepeatableContextChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n\r\n      if(state instanceof RepeatableContextComponentState) {\r\n        if(event.innerContext.isDefined()) {\r\n          state.updateInnerContext(event.innerContext.get());\r\n        } else {\r\n          state.clearInnerContext();\r\n        }\r\n      } else {\r\n        throw new Error(\"Only repeatable context container supported\")\r\n      }\r\n\r\n      state.properties.putValue(\"$status\", new NumberVariable(event.status));\r\n      return [state];\r\n    }\r\n\r\n\r\n    handleRefStateCreated(event: RefStateCreated): Array<UpdateableState> {\r\n      this.instance.componentsState.putComponentRefState(event.contextId, event.refId, event.stateUnwrapped);\r\n      return [];\r\n    }\r\n\r\n    handleRefStateDeleted(event: RefStateDeleted): Array<UpdateableState> {\r\n      this.instance.componentsState.deleteComponentRefState(event.contextId, event.refId);\r\n      return [];\r\n    }\r\n\r\n    handleComponentStateCreated(event: ComponentStateCreated): Array<UpdateableState> {\r\n      const state = event.stateUnwrapped;\r\n      state.properties.putValue(\"$status\", new NumberVariable(event.status));\r\n      this.instance.componentsState.putComponentState(event.contextId, event.componentId, state);\r\n      return [];\r\n    }\r\n\r\n    handleComponentStateDeleted(event: ComponentStateDeleted): Array<UpdateableState> {\r\n      this.instance.componentsState.deleteComponentState(event.contextId, event.componentId);\r\n      return [];\r\n    }\r\n\r\n    handleComponentStatusChanged(event: ComponentStatusChanged): Array<UpdateableState> {\r\n      const state = this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.properties.putValue(\"$status\", new NumberVariable(event.status));\r\n      return [state];\r\n    }\r\n\r\n    handleRepeatableComponentEntryAdded(event: RepeatableComponentEntryAdded): Array<UpdateableState> {\r\n      const state = <RepeatableContainerState>this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.pushToInnerContext(event.entryId);\r\n      return [state];\r\n    }\r\n\r\n    handleRepeatableComponentEntryDeleted(event: RepeatableComponentEntryDeleted): Array<UpdateableState> {\r\n      const state = <RepeatableContainerState>this.instance.componentsState.getComponentState(event.contextId, event.componentId);\r\n      state.removeFromModel(event.entryId);\r\n      return [state];\r\n    }\r\n\r\n    changeModel(refsPath: Array<RefIdInContext>, modelName: string, value: BusinessVariable) {\r\n      this.screenInstanceService.changeModel(this.instance.id, refsPath, modelName, value, [], () => {\r\n\r\n      });\r\n    }\r\n\r\n    clearModel(refsPath: Array<RefIdInContext>, modelName: string) {\r\n      this.screenInstanceService.clearModel(this.instance.id, refsPath, modelName, [],() => {\r\n\r\n      });\r\n    }\r\n\r\n    changeMultipleModelsWithAction(refsPath: Array<RefIdInContext>, modelChanges: Array<ComponentModelChange>, actionTriggered: string) {\r\n      this.screenInstanceService.changeMultipleModels(this.instance.id, refsPath, modelChanges, [actionTriggered], () => {\r\n\r\n      });\r\n    }\r\n\r\n    changeMultipleModels(refsPath: Array<RefIdInContext>, modelChanges: Array<ComponentModelChange>) {\r\n      this.screenInstanceService.changeMultipleModels(this.instance.id, refsPath, modelChanges, [], () => {\r\n\r\n      });\r\n    }\r\n\r\n    changeModelWithAction(refsPath: Array<RefIdInContext>, modelName: string, value: BusinessVariable, actionTriggered: string) {\r\n      this.screenInstanceService.changeModel(this.instance.id, refsPath, modelName, value, [actionTriggered], () => {\r\n\r\n      });\r\n    }\r\n\r\n    clearModelWithAction(refsPath: Array<RefIdInContext>, modelName: string, actionTriggered: string) {\r\n      this.screenInstanceService.clearModel(this.instance.id, refsPath, modelName, [actionTriggered], () => {\r\n\r\n      });\r\n    }\r\n\r\n    appendToModel(refsPath: Array<RefIdInContext>, modelName: string, value: BusinessVariable): void {\r\n      this.screenInstanceService.appendToModel(this.instance.id, refsPath, modelName, value, () => {\r\n\r\n      });\r\n    }\r\n\r\n    removeFromModelWithAction(refsPath: Array<RefIdInContext>, modelName: string, valueIndex: number, value: BusinessVariable, actionTriggered: string): void {\r\n      this.screenInstanceService.removeFromModel(this.instance.id, refsPath, modelName, valueIndex, value, [actionTriggered], () => {\r\n\r\n      });\r\n    }\r\n\r\n\r\n\r\n    executeAction(refsPath: Array<RefIdInContext>, actionName: string): void {\r\n      this.screenInstanceService.executeAction(this.instance.id, refsPath, actionName, () => {\r\n\r\n      });\r\n    }\r\n\r\n    executeEntryAction(refsPath: Array<RefIdInContext>, entryContextId: VariableId, actionName: string): void {\r\n      this.screenInstanceService.executeEntryAction(this.instance.id, refsPath, entryContextId, actionName, () => {\r\n\r\n      });\r\n    }\r\n\r\n\r\n    addRepeatableContextEntry(refsPath: Array<RefIdInContext>, onComplete: () => void): void {\r\n      this.screenInstanceService.addRepeatableContextEntry(this.instance.id, refsPath, () => {\r\n\r\n      });\r\n    }\r\n\r\n    deleteRepeatableContextEntry(refsPath: Array<RefIdInContext>, entryId: VariableId, entryIndex: number, onComplete: () => void): void {\r\n      this.screenInstanceService.deleteRepeatableContextEntry(this.instance.id, refsPath, entryId, entryIndex, () => {\r\n\r\n      });\r\n    }\r\n\r\n    moveEntry(refsPath: Array<RefIdInContext>, entryId: VariableId, fromIndex: number, toIndex: number, onComplete: () => void): void {\r\n      this.screenInstanceService.moveEntry(this.instance.id, refsPath, entryId, fromIndex, toIndex, () => {\r\n\r\n      });\r\n    }\r\n\r\n    destroy() {\r\n      this.active = false;\r\n      this.subscriptionId.forEach(s => this.serverEventsService.unsubscribe(s));\r\n      this.eventsSubscription.forEach(s => this.serverEventsService.serverEventBus.unsubscribe(s));\r\n    }\r\n\r\n    terminate(onSuccess: () => void) {\r\n      this.screenInstanceService.terminate(this.instance.id, () => {\r\n        onSuccess();\r\n      });\r\n    }\r\n\r\n    getInstanceId(): ScreenInstanceId {\r\n      return this.instance.id;\r\n    }\r\n\r\n\r\n    loadFilesInfo(files: Array<FileUri>, onSuccess: (filesInfo: Array<FileInfoModel>) => void): void {\r\n      if(files.length == 0) {\r\n        onSuccess([]);\r\n      } else {\r\n        this.filesService.filesInfo(files, files => {\r\n          onSuccess(__(files).map(f => FileInfoModel.ofBasicInfo(f, (uri: any) => screenInstanceDownloadUrl(this.instance.id, uri))));\r\n        });\r\n      }\r\n    }\r\n\r\n    loadFileInfo(file: FileUri, onSuccess: (fileInfo: FileInfoModel) => void): void {\r\n      this.loadFilesInfo([file], (filesInfo) => onSuccess(filesInfo[0]));\r\n    }\r\n\r\n    getFileDownloadUri(fileUri: FileUri): string {\r\n      return screenInstanceDownloadUrl(this.instance.id, fileUri);\r\n    }\r\n\r\n    // loadEmailsInfo(requestNumber: number, emails: Array<FileUri>, onSuccess: (requestNumber: number, emailsInfo: Array<EmailBasicInfo>) => void): void {\r\n    //   if(emails.length == 0) {\r\n    //     onSuccess(requestNumber, []);\r\n    //   } else {\r\n    //     this.incomingEmailsQueryService.loadEmailsSummary(requestNumber, emails, onSuccess);\r\n    //   }\r\n    // }\r\n    //\r\n    // loadEmailInfo(requestNumber: number, email: FileUri, onSuccess: (requestNumber: number, emailsInfo: EmailBasicInfo) => void): void {\r\n    //   this.loadEmailsInfo(requestNumber, [email], (requestNumber: number, emailsInfo: Array<EmailBasicInfo>) => onSuccess(requestNumber, emailsInfo[0]));\r\n    // }\r\n    //\r\n    // loadFlowsInfo(requestNumber: number, flows: Array<AnyFlowId>, onSuccess: (requestNumber: number, flowsInfo: Array<Option<FlowAndTasksInfoForUser>>) => void): void {\r\n    //   if(flows.length == 0) {\r\n    //     onSuccess(requestNumber, []);\r\n    //   } else {\r\n    //     this.processFlowService.loadProcessFlowInfoWithTasksForUserByFlowId(flows.map(Typed.of), (flowsInfo: any[]) => {\r\n    //\r\n    //       const processesIds = ___(flowsInfo).filter(f => f.isDefined() && f.get().processName.isEmpty()).flatMap(f => f.flatMap((ff: { processId: () => any; }) => ff.processId()).toArray()).uniqueBy(v => v.id.id).value();\r\n    //\r\n    //       if(processesIds.length > 0) {\r\n    //         this.processesNamingQueryService.queryForNames([], processesIds.map(p => p.id), [], (names: ProcessesNamingResponseTransformed) => {\r\n    //           onSuccess(requestNumber, flowsInfo.map(f => {\r\n    //             if(f.isDefined()) {\r\n    //               const flow = f.get();\r\n    //               if(flow.processName.isEmpty()) {\r\n    //                 flow.processName = Option.of(names.processes[flow.processId().getOrError(\"No process id\").id.id]);\r\n    //                 return Some(flow);\r\n    //               } else {\r\n    //                 return Some(flow);\r\n    //               }\r\n    //             } else {\r\n    //               return f;\r\n    //             }\r\n    //           }));\r\n    //         });\r\n    //\r\n    //       } else {\r\n    //         onSuccess(requestNumber, flowsInfo);\r\n    //       }\r\n    //     });\r\n    //   }\r\n    // }\r\n\r\n    // loadFlowInfo(requestNumber: number, flow: FlowId, onSuccess: (requestNumber: number, flowsInfo: Option<FlowAndTasksInfoForUser>) => void): void {\r\n    //   this.loadFlowsInfo(requestNumber, [flow], (requestNumber: number, flowsInfo: Array<Option<FlowAndTasksInfoForUser>>) => onSuccess(requestNumber, flowsInfo[0]));\r\n    // }\r\n\r\n    checkDebugInfoAvailable() {\r\n      this.screenInstanceService.getDebugInfoAvailable(this.instance.id, (debugInfoAvailable: boolean) => {\r\n        this.eventBus.debugInfoAvailableLoaded(debugInfoAvailable);\r\n      });\r\n    }\r\n\r\n    loadDebugInfo() {\r\n      this.screenInstanceService.getDebugInfo(this.instance.id, (debugInfo: ScreenDebugInfo) => {\r\n        this.eventBus.debugInfoLoaded(debugInfo);\r\n      });\r\n    }\r\n\r\n    private evaluateExpressionCallNo = 0;\r\n    evaluateExpression(expression: string, contextPath: string): number {\r\n      const callNo = this.evaluateExpressionCallNo++;\r\n      this.screenInstanceService.evaluateExpression(this.instance.id, expression, contextPath, (result: BusinessVariable, durationMillis: number) => {\r\n        this.eventBus.expressionEvaluated(callNo, result, durationMillis);\r\n      }, (error: string, durationMillis: number) => {\r\n        this.eventBus.expressionEvaluatedWithError(callNo, error, durationMillis);\r\n      });\r\n      return callNo;\r\n    }\r\n\r\n    private onOutputParameterChanged(event: OutputParameterChanged) {\r\n      this.eventBus.outputParameterChanged(event.input, event.variableName, event.value.map(v => Typed.value(v)));\r\n    }\r\n\r\n    changeInputParameters(params: Array<[string, string]>) {\r\n      this.screenInstanceService.changeInputParameters(this.instance.id, params, () => {\r\n\r\n      });\r\n    }\r\n\r\n  }\r\n","import {BusinessVariable, ObjectVariable} from \"@libs/ProcessVariables\";\nimport {ApplicationId, ScreenId, ScreenInstanceId} from \"@libs/IdModel\";\nimport {\n  ComponentInternalErrorViewModel,\n  ComponentValidationErrorViewModel,\n  ComponentViewModelFactory, FilesService,\n  ScreenComponentController,\n  ScreenComponentRefIdInScreen,\n  ScreenComponentViewModel,\n  ScreenContainerViewModel,\n  ScreenDebugInfo,\n  ScreenEventBus,\n  ScreenExternalEventBus,\n  ScreenInstanceServerModel,\n  ScreenInstanceService,\n  ScreenInstanceState,\n  ScreenSharedViewModel,\n  SkinPrototype\n} from \"@screens\";\nimport {ServerEventsService} from \"../events/ServerEventsService\";\nimport {Option} from \"@libs/Option\";\n\n\nclass ScreenDebugViewModel {\n\n    public logs: string = \"\";\n    public errors: string = \"\";\n    public debugData: ObjectVariable = new ObjectVariable({});\n    public loaded: boolean = false;\n  }\n\n\n\n  export class ScreenViewModel {\n    notFound: boolean;\n    loading: boolean;\n    screenId: ScreenId = new ScreenId(\"\");\n    applicationId: ApplicationId = new ApplicationId(\"\");\n    mainContainerViewModel: Array<ScreenComponentViewModel> = [];\n\n    controller: ScreenComponentController|null = null;\n    serverModel: ScreenInstanceServerModel|null = null;\n    eventBus = new ScreenEventBus();\n\n    validationErrors: Array<ComponentValidationErrorViewModel> = [];\n\n    internalErrors: Array<ComponentInternalErrorViewModel> = [];\n\n    shared: ScreenSharedViewModel;\n\n\n    debugAvailable: boolean = false;\n    debugInfoVisible: boolean = false;\n    debugInfo: ScreenDebugViewModel|null = null;\n\n    keepAlive: boolean = true;\n\n\n    constructor(readonly $container: HTMLElement,\n                readonly screenInstanceId: ScreenInstanceId,\n                readonly terminateOnDestroy: boolean,\n                readonly externalEventBus: ScreenExternalEventBus,\n                readonly screenInstanceService: ScreenInstanceService,\n                readonly serverEventsService: ServerEventsService,\n                readonly filesService: FilesService,\n                readonly allowDebug: boolean,\n                readonly onNotFound: () => void|null,\n                skins: Array<SkinPrototype>) {\n\n\n      this.shared = new ScreenSharedViewModel(this.eventBus, skins);\n\n      this.notFound = false;\n      this.loading = true;\n\n      screenInstanceService.getInstance(this.screenInstanceId, (instanceOption: Option<ScreenInstanceState>) => {\n        this.loading = false;\n        this.notFound = instanceOption.isEmpty();\n\n        if(instanceOption.isDefined()) {\n          const instance: ScreenInstanceState = instanceOption.get();\n\n\n          if (this.serverModel) {\n            this.serverModel.destroy();\n          }\n          this.serverModel = new ScreenInstanceServerModel(instance.screenId, this.eventBus, screenInstanceService, instance, serverEventsService, filesService);\n\n          this.screenId = instance.screenId;\n          this.applicationId = instance.applicationId;\n          this.mainContainerViewModel = [ComponentViewModelFactory.root(this.shared, this.externalEventBus, instance.contextId, ScreenComponentRefIdInScreen.of(instance.screenId.id, instance.root), instance.componentsAsMap(),\n            instance.componentsState, this.serverModel)];\n\n          this.keepAlive = !instance.lifeMode.isVolatile();\n\n          this.controller = new ScreenComponentController($container, <ScreenContainerViewModel>this.mainContainerViewModel[0], this.eventBus);\n\n          if(this.allowDebug) {\n            this.serverModel.checkDebugInfoAvailable();\n          }\n\n          this.updateAllErrors();\n        } else {\n          if(this.onNotFound != null) {\n            this.onNotFound();\n          }\n        }\n      });\n\n      this.eventBus.on(this.eventBus.debugInfoLoaded, (debugInfo: ScreenDebugInfo) => {\n        this.onDebugInfoLoaded(debugInfo);\n      })\n\n      this.eventBus.on(this.eventBus.debugInfoAvailableLoaded, (debugInfo: boolean) => {\n        this.onDebugInfoAvailableLoaded(debugInfo);\n      })\n\n      this.eventBus.on(this.eventBus.componentsStateUpdated, () => {\n        this.updateAllErrors();\n        console.log(\"Errors updated\");\n      });\n\n      this.eventBus.on(this.eventBus.outputParameterChanged, (input: boolean, variableName: string, value: Option<BusinessVariable>) => {\n        this.externalEventBus.outputParameterChanged(input, variableName, value);\n      })\n\n      this.externalEventBus.on(this.externalEventBus.inputParametersChanged, (params: Array<[string, string]>) => {\nif(this.serverModel) {\n        this.serverModel.changeInputParameters(params)\n}\n      })\n\n      this.externalEventBus.on(this.externalEventBus.screenCloseRequested, (screenInstanceId: ScreenInstanceId) => {\n        if(this.screenInstanceId.id == screenInstanceId.id) {\n         if(this.serverModel) {\n          this.serverModel.terminate(() => {\n            this.externalEventBus.screenTerminated(screenInstanceId);\n          });\n        }\n        }\n      })\n    }\n\n\n    private onDebugInfoAvailableLoaded(debugInfoAvailable: boolean) {\n      this.debugAvailable = debugInfoAvailable;\n    }\n\n    toggleDebugInfo() {\n      this.debugInfoVisible = !this.debugInfoVisible;\n      if(this.debugInfoVisible) {\n        this.debugInfo = new ScreenDebugViewModel();\n        if(this.serverModel) {\n        this.serverModel.loadDebugInfo();\n        }\n      }\n    }\n\n    closeDebugInfo() {\n      this.debugInfoVisible = false;\n      this.debugInfo = null;\n    }\n\n\n    private onDebugInfoLoaded(debugInfo: ScreenDebugInfo) {\n      let logs = \"\";\n      let errors = \"\";\n      debugInfo.logs.forEach(l => {\n        logs += l.level.level+\" \"+l.logType+\" \"+l.timestamp+\" \"+l.message+\"\\n\";\n      });\n\n      debugInfo.errors.forEach(l => {\n        errors += l.timestamp.formattedFromNow()+\" \"+l.variableName+\" \"+l.error+\"\\n\";\n      });\n\n      if(this.debugInfo) {\n      this.debugInfo.logs = logs;\n      this.debugInfo.errors = errors;\n      this.debugInfo.debugData = debugInfo.data;\n      this.debugInfo.loaded = true;\n      }\n    }\n\n    updateAllErrors() {\n      if(this.mainContainerViewModel.length == 1) {\n        this.validationErrors = this.mainContainerViewModel[0].getValidationErrorsRecursive();\n        this.internalErrors = this.mainContainerViewModel[0].getInternalErrorsRecursive();\n      }\n    }\n\n    destroy() {\n      if(this.serverModel) {\n        if(this.terminateOnDestroy || !this.keepAlive) {\n          this.externalEventBus.screenTerminated(this.screenInstanceId);\n          setTimeout(() => { // timeout so we'll prioritize loading of new content, and we don't want to use connection\n            if(this.serverModel) {\n              this.serverModel.terminate(() => {});\n            }\n          }, 200);\n        }\n        this.serverModel.destroy();\n      }\n      if(this.controller) {\n        this.controller.destroy();\n      }\n    }\n\n  }\n","import {PropertyType} from \"@screens\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {\r\n  BooleanProperty, ComponentProperty, NumberProperty,\r\n  OptionalBooleanProperty,\r\n  OptionalNumberProperty,\r\n  OptionalStringProperty,\r\n  StringProperty\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\n\r\nexport class SkinInfo {\r\n  constructor(readonly name: any, readonly identifier: string) {}\r\n\r\n}\r\n\r\nexport class SkinPrototype {\r\n  constructor(readonly name: I18nText,\r\n              readonly identifier: string,\r\n              readonly skin: { [componentName: string]: {[componentClass: string]: {[property: string]: string}} }) {\r\n  }\r\n}\r\n\r\nexport class SkinName {\r\n    constructor(readonly name: I18nText, readonly identifier: string) {}\r\n  }\r\n\r\n  export class ComponentClassName {\r\n    constructor(readonly name: string, readonly identifier: string,\r\n                readonly skinName: string, readonly skinIdentifier: string) {}\r\n  }\r\n\r\n  export class Skin {\r\n    constructor(readonly name: string,\r\n                readonly identifier: string,\r\n                readonly skin: { [componentName: string]: {[componentClass: string]: {[property: string]: string}} }) {\r\n    }\r\n\r\n    static ofPrototype(prototype: SkinPrototype): Skin {\r\n      return new Skin(prototype.name.getCurrentWithFallback(), prototype.identifier, Skin.toSkin(prototype.skin));\r\n    }\r\n\r\n    private static toSkin(prototype: {[componentName: string]: { [componentClass: string]: { [property: string]: string } } }) {\r\n      const newSkin: {[s: string]: {[key: string]:{[name: string]: string}}} = {};\r\n      Object.keys(prototype).forEach(componentName => {\r\n        const newComponentsClasses: {[key: string]:{[name: string]: string}} = {};\r\n        const componentsClasses = prototype[componentName];\r\n        Object.keys(componentsClasses).forEach(componentClass => {\r\n          const properties = componentsClasses[componentClass];\r\n          const newProperties:{[name: string]: string} = {};\r\n          Object.keys(properties).forEach(propertyName => {\r\n            newProperties[propertyName] = properties[propertyName];\r\n          });\r\n          newComponentsClasses[componentClass] = newProperties;\r\n        });\r\n        newSkin[componentName] = newComponentsClasses;\r\n      });\r\n      return newSkin;\r\n    }\r\n\r\n  }\r\n\r\n  export class SkinsPropertiesProvider {\r\n\r\n    private skins: Array<Skin> = [];\r\n\r\n    constructor(\r\n      readonly skinInfo: () => {skinName: Option<string>, componentTypeName: string, componentClass: string},\r\n      skinsPrototypes: Array<SkinPrototype>) {\r\n      this.skins = skinsPrototypes.map(Skin.ofPrototype);\r\n    }\r\n\r\n\r\n    // get(propertyName: string): ComponentProperty<any> {\r\n    //\r\n    //   const {skinName, componentTypeName, componentClass} = this.skinInfo();\r\n    //\r\n    //   const skinProperty = this.skinPropertyFor(skinName, componentTypeName, componentClass, propertyName);\r\n    //   if(skinProperty != null) {\r\n    //     return skinProperty;\r\n    //   } else {\r\n    //     throw new Error(\"Skin Provider: property '\"+propertyName+\"' not found\");\r\n    //   }\r\n    // }\r\n    //\r\n    // getIfExistsOrNull(propertyName: string): ComponentProperty<any>|null {\r\n    //\r\n    //\r\n    //   const {skinName, componentTypeName, componentClass} = this.skinInfo();\r\n    //\r\n    //   const skinProperty = this.skinPropertyFor(skinName, componentTypeName, componentClass, propertyName);\r\n    //   if(skinProperty != null) {\r\n    //     return skinProperty;\r\n    //   } else {\r\n    //     return null;\r\n    //   }\r\n    // }\r\n\r\n    getIfExists(propertyName: string, propertyType: PropertyType): Option<ComponentProperty<any>> {\r\n\r\n      const {skinName, componentTypeName, componentClass} = this.skinInfo();\r\n\r\n      const skinProperty = this.skinPropertyFor(skinName, componentTypeName, componentClass, propertyName, propertyType);\r\n      if(skinProperty != null) {\r\n        return Some(skinProperty);\r\n      } else {\r\n        return None();\r\n      }\r\n    }\r\n\r\n    private skinPropertyFor(skinIdentifierOption: Option<string>, componentTypeName: string, componentClass: string, propertyName: string, propertyType: PropertyType): ComponentProperty<any>|null {\r\n      const skinIdentifier = skinIdentifierOption.getOrElse(\"$default\");\r\n      const skin = __(this.skins).find(s => s.identifier == skinIdentifier).map(s => s.skin).getOrNull();\r\n      if(skin == null) {\r\n        if(componentTypeName == \"$any\") {\r\n          return null;\r\n        } else {\r\n          return this.skinPropertyFor(skinIdentifierOption, \"$any\", componentClass, propertyName, propertyType);\r\n        }\r\n      } else {\r\n        const component = skin[componentTypeName];\r\n        if(component == null) {\r\n          if(componentTypeName == \"$any\") {\r\n            return null;\r\n          } else {\r\n            return this.skinPropertyFor(skinIdentifierOption, \"$any\", componentClass, propertyName, propertyType);\r\n          }\r\n        } else {\r\n          let properties = component[componentClass];\r\n          if (properties == null) {\r\n            properties = component[\"$default\"];\r\n          }\r\n          if (properties != null) {\r\n            const property = properties[propertyName];\r\n            if (property != null) {\r\n              return this.parseProperty(propertyName, property, propertyType);\r\n            } else {\r\n              if(componentTypeName == \"$any\") {\r\n                return null;\r\n              } else {\r\n                return this.skinPropertyFor(skinIdentifierOption, \"$any\", componentClass, propertyName, propertyType);\r\n              }\r\n            }\r\n          } else {\r\n            if(componentTypeName == \"$any\") {\r\n              return null;\r\n            } else {\r\n              return this.skinPropertyFor(skinIdentifierOption, \"$any\", componentClass, propertyName, propertyType);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    private parseProperty(propertyName: string, value: string, propertyType: PropertyType): ComponentProperty<any> {\r\n      switch (propertyType) {\r\n        case PropertyType.None: throw new Error(\"Converting \"+propertyName+\" to disabled\");\r\n        case PropertyType.String: return StringProperty.of(value);\r\n        case PropertyType.OptionalString: if(value.trim().length == 0) {\r\n          return OptionalStringProperty.disabled(\"\");\r\n        } else {\r\n          return OptionalStringProperty.of(value);\r\n        }\r\n        case PropertyType.Number: return NumberProperty.of(parseFloat(value));\r\n        case PropertyType.OptionalNumber:  if(value.trim().length == 0) {\r\n          return OptionalNumberProperty.disabled(0);\r\n        } else {\r\n          return  OptionalNumberProperty.of(parseFloat(value));\r\n        }\r\n        case PropertyType.Boolean: switch (value.toLowerCase()) {\r\n          case \"true\": return BooleanProperty.ofTrue();\r\n          case \"false\": return BooleanProperty.ofFalse();\r\n          default: throw new Error(\"Incorrect boolean property value: '\"+value+\"'\");\r\n        }\r\n        case PropertyType.OptionalBoolean: switch (value.toLowerCase()) {\r\n          case \"true\": return OptionalBooleanProperty.ofTrue();\r\n          case \"false\": return OptionalBooleanProperty.ofFalse();\r\n          case \"\": return OptionalBooleanProperty.disabled(false);\r\n          default: throw new Error(\"Incorrect optional boolean property value: '\"+value+\"'\");\r\n        }\r\n        case PropertyType.Trilean: throw new Error(\"Converting \"+propertyName+\" to Trilean not Supported\");\r\n        case PropertyType.I18nText: throw new Error(\"Converting \"+propertyName+\" to I18nText not Supported\");\r\n        case PropertyType.OptionalI18nText: throw new Error(\"Converting \"+propertyName+\" to OptionalI18nText not Supported\");\r\n        case PropertyType.Date: throw new Error(\"Converting \"+propertyName+\" to Date not Supported\");\r\n        case PropertyType.OptionalDate: throw new Error(\"Converting \"+propertyName+\" to OptionalDate not Supported\");\r\n        case PropertyType.Time: throw new Error(\"Converting \"+propertyName+\" to Time not Supported\");\r\n        case PropertyType.OptionalTime: throw new Error(\"Converting \"+propertyName+\" to OptionalTime not Supported\");\r\n        case PropertyType.DateTime: throw new Error(\"Converting \"+propertyName+\" to DateTime not Supported\");\r\n        case PropertyType.OptionalDateTime: throw new Error(\"Converting \"+propertyName+\" to OptionalDateTime not Supported\");\r\n        case PropertyType.OptionalDuration: throw new Error(\"Converting \"+propertyName+\" to OptionalDuration not Supported\");\r\n        case PropertyType.File: throw new Error(\"Converting \"+propertyName+\" to File not Supported\");\r\n        case PropertyType.OptionalFile: throw new Error(\"Converting \"+propertyName+\" to OptionalFile not Supported\");\r\n        case PropertyType.Model: throw new Error(\"Converting \"+propertyName+\" to Model not Supported\");\r\n        case PropertyType.OptionalModel: throw new Error(\"Converting \"+propertyName+\" to OptionalModel not Supported\");\r\n        case PropertyType.LabeledValues: throw new Error(\"Converting \"+propertyName+\" to LabeledValues not Supported\");\r\n        case PropertyType.OptionalOrganizationNodes: throw new Error(\"Converting \"+propertyName+\" to OptionalOrganizationNodes not Supported\");\r\n        case PropertyType.OptionalStringArray: throw new Error(\"Converting \"+propertyName+\" to OptionalStringArray not Supported\");\r\n        default: throw new Error(\"Unknown property type '\"+propertyType+\"'\");\r\n      }\r\n    }\r\n\r\n\r\n    allSkins(): Array<SkinName> {\r\n      return this.skins.filter(s => s.identifier.indexOf(\"$\") !== 0).map(s => new SkinName(I18nText.ofCurrent(s.name), s.identifier));\r\n    }\r\n\r\n    allClasses(skin: string, componentTypeName: string): Array<ComponentClassName> {\r\n\r\n      const allSkinsWithDefault = this.skins.map(s => new SkinName(I18nText.ofCurrent(s.name), s.identifier));\r\n\r\n      return __(allSkinsWithDefault).flatMap((skinName: SkinName) => {\r\n        const skin = __(this.skins).find(s => s.identifier == skinName.identifier).map(s => s.skin).getOrElse({});\r\n        const componentClasses = skin[componentTypeName];\r\n        if(componentClasses == null) {\r\n          return [];\r\n        } else {\r\n          return ___(Object.keys(componentClasses)).filter(k => k.indexOf(\"$\") !== 0).sortBy(c => c).map(c => new ComponentClassName(c, c, skinName.name.getCurrentWithFallback(), skinName.identifier)).value();\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n","import {ComponentViewModelUtils, ScreenComponentViewModel} from \"@screens\";\r\nimport {LabelPosition} from \"@screens\";\r\nimport {LabelProperties, LabelPropertiesState} from \"@screens\";\r\nimport {None} from \"@libs/Option\";\r\n\r\nexport class ComponentLabelViewModel {\r\n\r\n    public visible: boolean = false;\r\n    public label: string = \"\";\r\n    public positionClass: string = \"\";\r\n    public css: string = \"\";\r\n    public requiredVisible: boolean = false;\r\n    public tooltip: string|null = null;\r\n    public previewMode = false;\r\n    public forceHide = false;\r\n\r\n    public validationError: boolean = false;\r\n\r\n    constructor(\r\n      readonly parentComponent: ScreenComponentViewModel\r\n    ) {}\r\n\r\n\r\n    update(properties: LabelProperties, state: LabelPropertiesState, required: boolean, editable: boolean, preview: boolean, tooltip: string|null,\r\n           validationError: boolean) {\r\n\r\n      const optionalLabel = properties.label(this.parentComponent.definition.defaultPropertiesProvider).currentValue(() => state.label).valueOrDefault(None()).map(l => l.getCurrentWithFallback());\r\n      this.label = optionalLabel.getOrElse(\"\");\r\n\r\n      this.visible = optionalLabel.isDefined() && !this.forceHide;\r\n\r\n      this.requiredVisible = required && editable;\r\n\r\n      this.positionClass = LabelPosition.byName(properties.labelPosition(this.parentComponent.skinName, this.parentComponent.typeName, this.parentComponent.componentClass, this.parentComponent.defaultPropertyProvider).currentValue(() => state.labelPosition).valueOrDefault(\"\")).name;\r\n\r\n      this.css = ComponentViewModelUtils.toLabelCss(this.parentComponent.skinName, this.parentComponent.typeName, this.parentComponent.componentClass, this.parentComponent.defaultPropertyProvider, properties, state);\r\n\r\n      this.tooltip = tooltip;\r\n\r\n      this.previewMode = preview;\r\n      this.validationError = validationError;\r\n    }\r\n\r\n    updateStateFlags(required: boolean, editable: boolean, preview: boolean) {\r\n\r\n      this.requiredVisible = required && editable;\r\n      this.previewMode = preview;\r\n    }\r\n\r\n    forceHideLabel(forceHide: boolean) {\r\n      this.forceHide = forceHide;\r\n\r\n      this.visible = this.label.length > 0 && !this.forceHide;\r\n\r\n    }\r\n  }\r\n\r\n","import {Typed} from \"@libs/Typed\";\r\nimport {\r\n  ButtonComponentRefState,\r\n  DateInputComponentRefState,\r\n  DateInputComponentState,\r\n  ButtonComponentState, DropListComponentRefState,\r\n  DropListComponentState,\r\n  HtmlComponentRefState,\r\n  HtmlComponentState,\r\n  ImageComponentRefState,\r\n  ImageComponentState,\r\n  LabelComponentRefState,\r\n  LabelComponentState,\r\n  LinkComponentRefState,\r\n  LinkComponentState,\r\n  MapComponentRefState,\r\n  MapComponentState,\r\n  MultiAttachmentInputComponentRefState,\r\n  MultiAttachmentInputComponentState,\r\n  NumberInputComponentRefState,\r\n  NumberInputComponentState,\r\n  PasswordInputComponentRefState,\r\n  PasswordInputComponentState,\r\n  PropertiesStateHolder,\r\n  RepeatableContainerRefState,\r\n  RepeatableContainerState,\r\n  ScreenComponentRefState,\r\n  ScreenComponentState,\r\n  SectionContainerRefState,\r\n  SectionContainerState,\r\n  SingleAttachmentInputComponentRefState,\r\n  SingleAttachmentInputComponentState,\r\n  SwitchComponentRefState, SwitchComponentState, TabsContainerRefState, TabsContainerState,\r\n  TextInputComponentRefState,\r\n  TextInputComponentState\r\n} from \"@screens\";\r\nimport {None} from \"@libs/Option\";\r\nimport {SingleCheckboxComponentRefState, SingleCheckboxComponentState} from \"./select/SingleCheckboxComponentState\";\r\nimport {RadioButtonComponentRefState, RadioButtonComponentState} from \"./select/RadioButtonComponentState\";\r\nimport {MultiCheckboxComponentRefState, MultiCheckboxComponentState} from \"./select/MultiCheckboxComponentState\";\r\nimport {TableContainerRefState, TableContainerState} from \"./table/TableContainerState\";\r\n\r\nexport class ScreenComponentRefStateFactory {\r\n  static copy(other: ScreenComponentRefState): ScreenComponentRefState {\r\n    return ScreenComponentRefStateFactory.copyByType(other, other.className());\r\n  }\r\n\r\n  static copyTyped(variable: Typed<ScreenComponentRefState>): Typed<ScreenComponentRefState> {\r\n    return Typed.of(ScreenComponentRefStateFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n  }\r\n\r\n  static copyByType(other: ScreenComponentRefState, className: string): ScreenComponentRefState {\r\n    switch (className) {\r\n      // case BarChartComponentRefState.className: return BarChartComponentRefState.copy(<BarChartComponentRefState>other);\r\n      case ButtonComponentRefState.className: return ButtonComponentRefState.copy(<ButtonComponentRefState>other);\r\n      // case DataTableComponentRefState.className: return DataTableComponentRefState.copy(<DataTableComponentRefState>other);\r\n      case LabelComponentRefState.className: return LabelComponentRefState.copy(<LabelComponentRefState>other);\r\n      case LinkComponentRefState.className: return LinkComponentRefState.copy(<LinkComponentRefState>other);\r\n      case ImageComponentRefState.className: return ImageComponentRefState.copy(<ImageComponentRefState>other);\r\n      case HtmlComponentRefState.className: return HtmlComponentRefState.copy(<HtmlComponentRefState>other);\r\n      case MapComponentRefState.className: return MapComponentRefState.copy(<MapComponentRefState>other);\r\n      // case CalendarComponentRefState.className: return CalendarComponentRefState.copy(<CalendarComponentRefState>other);\r\n      case NumberInputComponentRefState.className: return NumberInputComponentRefState.copy(<NumberInputComponentRefState>other);\r\n      case SectionContainerRefState.className: return SectionContainerRefState.copy(<SectionContainerRefState>other);\r\n      // case PopupContainerRefState.className: return PopupContainerRefState.copy(<PopupContainerRefState>other);\r\n      case RepeatableContainerRefState.className: return RepeatableContainerRefState.copy(<RepeatableContainerRefState>other);\r\n      case TableContainerRefState.className: return TableContainerRefState.copy(<TableContainerRefState>other);\r\n      case SwitchComponentRefState.className: return SwitchComponentRefState.copy(<SwitchComponentRefState>other);\r\n      case TabsContainerRefState.className: return TabsContainerRefState.copy(<TabsContainerRefState>other);\r\n      case TextInputComponentRefState.className: return TextInputComponentRefState.copy(<TextInputComponentRefState>other);\r\n      case PasswordInputComponentRefState.className: return PasswordInputComponentRefState.copy(<PasswordInputComponentRefState>other);\r\n      case DateInputComponentRefState.className: return DateInputComponentRefState.copy(<DateInputComponentRefState>other);\r\n      // case DateTimeInputComponentRefState.className: return DateTimeInputComponentRefState.copy(<DateTimeInputComponentRefState>other);\r\n      // case TimeInputComponentRefState.className: return TimeInputComponentRefState.copy(<TimeInputComponentRefState>other);\r\n      // case DurationInputComponentRefState.className: return DurationInputComponentRefState.copy(<DurationInputComponentRefState>other);\r\n      case DropListComponentRefState.className: return DropListComponentRefState.copy(<DropListComponentRefState>other);\r\n      case RadioButtonComponentRefState.className: return RadioButtonComponentRefState.copy(<RadioButtonComponentRefState>other);\r\n      case MultiCheckboxComponentRefState.className: return MultiCheckboxComponentRefState.copy(<MultiCheckboxComponentRefState>other);\r\n      case SingleCheckboxComponentRefState.className: return SingleCheckboxComponentRefState.copy(<SingleCheckboxComponentRefState>other);\r\n      case MultiAttachmentInputComponentRefState.className: return MultiAttachmentInputComponentRefState.copy(<MultiAttachmentInputComponentRefState>other);\r\n      case SingleAttachmentInputComponentRefState.className: return SingleAttachmentInputComponentRefState.copy(<SingleAttachmentInputComponentRefState>other);\r\n      // case PersonSelectComponentRefState.className: return PersonSelectComponentRefState.copy(<PersonSelectComponentRefState>other);\r\n      // case WidgetComponentRefState.className: return WidgetComponentRefState.copy(<WidgetComponentRefState>other);\r\n      default:\r\n        console.log(\"Mocking '\" + className+\"'\");\r\n        return new LabelComponentRefState(new PropertiesStateHolder([], None(), [], []));\r\n        // throw new Error(\"Unsupported ScreenComponentRefState [\"+className+\"]\");\r\n    }\r\n  }\r\n}\r\n\r\nexport class ScreenComponentStateFactory {\r\n  static copy(other: ScreenComponentState): ScreenComponentState {\r\n    return ScreenComponentStateFactory.copyByType(other, other.className());\r\n  }\r\n\r\n  static copyTyped(variable: Typed<ScreenComponentState>): Typed<ScreenComponentState> {\r\n    return Typed.of(ScreenComponentStateFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n  }\r\n\r\n  static copyByType(other: ScreenComponentState, className: string): ScreenComponentState {\r\n    switch (className) {\r\n      // case BarChartComponentState.className: return BarChartComponentState.copy(<BarChartComponentState>other);\r\n      case ButtonComponentState.className: return ButtonComponentState.copy(<ButtonComponentState>other);\r\n      // case DataTableComponentState.className: return DataTableComponentState.copy(<DataTableComponentState>other);\r\n      case LabelComponentState.className: return LabelComponentState.copy(<LabelComponentState>other);\r\n      case LinkComponentState.className: return LinkComponentState.copy(<LinkComponentState>other);\r\n      case ImageComponentState.className: return ImageComponentState.copy(<ImageComponentState>other);\r\n      case HtmlComponentState.className: return HtmlComponentState.copy(<HtmlComponentState>other);\r\n      case MapComponentState.className: return MapComponentState.copy(<MapComponentState>other);\r\n      // case CalendarComponentState.className: return CalendarComponentState.copy(<CalendarComponentState>other);\r\n      case NumberInputComponentState.className: return NumberInputComponentState.copy(<NumberInputComponentState>other);\r\n      case SectionContainerState.className: return SectionContainerState.copy(<SectionContainerState>other);\r\n      // case PopupContainerState.className: return PopupContainerState.copy(<PopupContainerState>other);\r\n      case RepeatableContainerState.className: return RepeatableContainerState.copy(<RepeatableContainerState>other);\r\n      case TableContainerState.className: return TableContainerState.copy(<TableContainerState>other);\r\n      case SwitchComponentState.className: return SwitchComponentState.copy(<SwitchComponentState>other);\r\n      case TabsContainerState.className: return TabsContainerState.copy(<TabsContainerState>other);\r\n      case TextInputComponentState.className: return TextInputComponentState.copy(<TextInputComponentState>other);\r\n      case PasswordInputComponentState.className: return PasswordInputComponentState.copy(<PasswordInputComponentState>other);\r\n      case DateInputComponentState.className: return DateInputComponentState.copy(<DateInputComponentState>other);\r\n      // case DateTimeInputComponentState.className: return DateTimeInputComponentState.copy(<DateTimeInputComponentState>other);\r\n      // case TimeInputComponentState.className: return TimeInputComponentState.copy(<TimeInputComponentState>other);\r\n      // case DurationInputComponentState.className: return DurationInputComponentState.copy(<DurationInputComponentState>other);\r\n      case DropListComponentState.className: return DropListComponentState.copy(<DropListComponentState>other);\r\n      case MultiCheckboxComponentState.className: return MultiCheckboxComponentState.copy(<MultiCheckboxComponentState>other);\r\n      case SingleCheckboxComponentState.className: return SingleCheckboxComponentState.copy(<SingleCheckboxComponentState>other);\r\n      case MultiAttachmentInputComponentState.className: return MultiAttachmentInputComponentState.copy(<MultiAttachmentInputComponentState>other);\r\n      case SingleAttachmentInputComponentState.className: return SingleAttachmentInputComponentState.copy(<SingleAttachmentInputComponentState>other);\r\n      // case PersonSelectComponentState.className: return PersonSelectComponentState.copy(<PersonSelectComponentState>other);\r\n      case RadioButtonComponentState.className: return RadioButtonComponentState.copy(<RadioButtonComponentState>other);\r\n      // case WidgetComponentState.className: return WidgetComponentState.copy(<WidgetComponentState>other);\r\n      default: return new LabelComponentState(new PropertiesStateHolder([], None(), [], []))\r\n        // throw new Error(\"Unsupported ScreenComponentState [\"+className+\"]\");\r\n    }\r\n  }\r\n}\r\n","import {None, Option, Some} from \"@libs/Option\";\r\nimport {CssUtils} from \"@screens\";\r\n\r\nexport class ComponentsCommon {\r\n  static shadowCss(innerShadow: Option<boolean>, outerShadowCss: string) {\r\n    const innerShadowValue = innerShadow.map(v => v ? \"0 0.1rem 0.3rem rgba(0, 0, 0, 0.05)\" : \"0 0 0 black\");\r\n    const outerShadowValue = outerShadowCss.length > 0 ? Some(outerShadowCss) : None();\r\n    return CssUtils.shadows(innerShadowValue, outerShadowValue);\r\n  }\r\n\r\n  static innerShadowCss(innerShadow: Option<boolean>) {\r\n    const innerShadowValue = innerShadow.map(v => v ? \"inset 0 0.1rem 0.3rem rgba(0, 0, 0, 0.05)\" : \"inset 0 0 0 black\");\r\n    return CssUtils.shadows(None(), innerShadowValue);\r\n  }\r\n}\r\n\r\nexport class HorizontalAlign {\r\n  constructor(readonly name: string) {}\r\n\r\n  static left = new HorizontalAlign(\"left\");\r\n  static center = new HorizontalAlign(\"center\");\r\n  static right = new HorizontalAlign(\"right\");\r\n  static justify = new HorizontalAlign(\"justify\");\r\n\r\n  static byName(name: string) {\r\n    switch (name) {\r\n      case HorizontalAlign.left.name: return HorizontalAlign.left;\r\n      case HorizontalAlign.center.name: return HorizontalAlign.center;\r\n      case HorizontalAlign.right.name: return HorizontalAlign.right;\r\n      case HorizontalAlign.justify.name: return HorizontalAlign.justify;\r\n      default: throw new Error(\"Unsupported value [\"+name+\"]\");\r\n    }\r\n  }\r\n\r\n  static copy(other: HorizontalAlign) {\r\n    return HorizontalAlign.byName(other.name);\r\n  }\r\n}\r\n\r\n","import {\r\n  BackgroundsProperties,\r\n  BackgroundsPropertiesState,\r\n  BordersProperties,\r\n  BordersPropertiesState,\r\n  BoxPropertiesState,\r\n  ButtonComponentDefinition,\r\n  ButtonComponentRef,\r\n  ButtonComponentRefState,\r\n  ButtonComponentState,\r\n  ButtonComponentViewModel,\r\n  ComponentLabelViewModel,\r\n  CssUtils,\r\n  DefaultPropertyProvider,\r\n  DropListComponentDefinition,\r\n  DropListComponentRef,\r\n  DropListComponentRefState,\r\n  DropListComponentState,\r\n  DropListComponentViewModel,\r\n  HeaderProperties,\r\n  HeaderPropertiesState,\r\n  HtmlComponentDefinition,\r\n  HtmlComponentRef,\r\n  HtmlComponentRefState,\r\n  HtmlComponentState,\r\n  HtmlComponentViewModel,\r\n  ImageComponentDefinition,\r\n  ImageComponentRef,\r\n  ImageComponentRefState,\r\n  ImageComponentState,\r\n  ImageComponentViewModel,\r\n  LabelComponentDefinition,\r\n  LabelComponentRef,\r\n  LabelComponentRefState,\r\n  LabelComponentState,\r\n  LabelComponentViewModel,\r\n  LabeledScreenComponentState,\r\n  LabelProperties,\r\n  LabelPropertiesState,\r\n  LinkComponentDefinition,\r\n  LinkComponentRef,\r\n  LinkComponentRefState,\r\n  LinkComponentState,\r\n  LinkComponentViewModel,\r\n  MapComponentDefinition,\r\n  MapComponentRef,\r\n  MapComponentRefState,\r\n  MapComponentState,\r\n  MapComponentViewModel,\r\n  MultiAttachmentInputComponentDefinition,\r\n  MultiAttachmentInputComponentRef,\r\n  MultiAttachmentInputComponentRefState,\r\n  MultiAttachmentInputComponentState,\r\n  MultiAttachmentInputComponentViewModel,\r\n  NumberInputComponentDefinition,\r\n  NumberInputComponentRef,\r\n  NumberInputComponentRefState,\r\n  NumberInputComponentState,\r\n  NumberInputComponentViewModel,\r\n  PaddingsProperties,\r\n  PaddingsPropertiesState,\r\n  PasswordInputComponentDefinition,\r\n  PasswordInputComponentRef,\r\n  PasswordInputComponentRefState,\r\n  PasswordInputComponentState,\r\n  PasswordInputComponentViewModel,\r\n  PositionProperties,\r\n  RefPositionPropertiesState,\r\n  RepeatableContainerDefinition,\r\n  RepeatableContainerRef,\r\n  RepeatableContainerRefState,\r\n  RepeatableContainerState,\r\n  RepeatableContainerViewModel,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefState,\r\n  ScreenComponents,\r\n  ScreenComponentsState,\r\n  ScreenComponentState,\r\n  ScreenFormConfig,\r\n  ScreenSharedViewModel,\r\n  SectionContainerDefinition,\r\n  SectionContainerRef,\r\n  SectionContainerViewModel,\r\n  SingleAttachmentInputComponentDefinition,\r\n  SingleAttachmentInputComponentRef,\r\n  SingleAttachmentInputComponentRefState,\r\n  SingleAttachmentInputComponentState,\r\n  SingleAttachmentInputComponentViewModel,\r\n  SingleCheckboxComponentDefinition,\r\n  SingleCheckboxComponentRef,\r\n  SingleCheckboxComponentRefState,\r\n  SingleCheckboxComponentState,\r\n  SingleCheckboxComponentViewModel,\r\n  SizeProperties,\r\n  SkinsPropertiesProvider,\r\n  SwitchComponentDefinition,\r\n  SwitchComponentRef,\r\n  SwitchComponentRefState,\r\n  SwitchComponentState,\r\n  SwitchComponentViewModel,\r\n  TableContainerDefinition,\r\n  TableContainerRefState,\r\n  TableContainerState,\r\n  TableContainerViewModel,\r\n  TabsContainerDefinition,\r\n  TabsContainerRef,\r\n  TabsContainerRefState,\r\n  TabsContainerState,\r\n  TabsContainerViewModel,\r\n  TextInputComponentDefinition,\r\n  TextInputComponentRef,\r\n  TextInputComponentRefState,\r\n  TextInputComponentState,\r\n  TextInputComponentViewModel,\r\n  TextPropertiesState,\r\n  TextsProperties,\r\n  ScreenExternalEventBus,\r\n  ScreenInstanceServerModel,\r\n  ComponentErrorInfo,\r\n  LayoutType,\r\n  ScreenComponentIdInScreen,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen,\r\n  TextAlign,\r\n  TextFont,\r\n  TextVerticalAlign,\r\n  SectionContainerRefState, SectionContainerState,\r\n  RefIdInContext,\r\n  RadioButtonComponentDefinition, RadioButtonComponentRef,\r\n  MultiCheckboxComponentDefinition, MultiCheckboxComponentRef,\r\n  MultiCheckboxComponentRefState, MultiCheckboxComponentState,\r\n  MultiCheckboxComponentViewModel,\r\n  RadioButtonComponentRefState, RadioButtonComponentState,\r\n  RadioButtonComponentViewModel,\r\n  DateInputComponentDefinition, DateInputComponentRef,\r\n  DateInputComponentRefState, DateInputComponentState,\r\n  DateInputComponentViewModel,\r\n  TableContainerRef\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {getREMSize} from \"@libs/Elements\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\n\r\n\r\nexport class SizeProperty {\r\n  static sizeToCss(unitSize: number, size: string): string {\r\n\r\n    if (size.indexOf(\"%\") > 0) {\r\n      return parseFloat(size) + \"%\";\r\n    } else if (size.indexOf(\"px\") > 0) {\r\n      return parseFloat(size) / 13 + \"rem\";\r\n    } else if (size.indexOf(\"cm\") > 0) {\r\n      return (unitSize * parseFloat(size)) + \"rem\";\r\n    } else {\r\n      throw new Error(\"Missing unit\");\r\n    }\r\n\r\n  }\r\n\r\n  static sizeToCssPx(unitSize: number, size: string) {\r\n    if (size.indexOf(\"%\") > 0) {\r\n      return parseFloat(size) + \"%\";\r\n    } else if (size.indexOf(\"px\") > 0) {\r\n      return parseFloat(size) + \"px\";\r\n    } else if (size.indexOf(\"cm\") > 0) {\r\n      return (unitSize * parseFloat(size)) * getREMSize() + \"px\";\r\n    } else {\r\n      throw new Error(\"Missing unit\");\r\n    }\r\n  }\r\n\r\n  static cmToNumberOnly(size: string, defaultValue: number): number {\r\n    if (size.indexOf(\"cm\") > 0) {\r\n      return parseFloat(size);\r\n    } else {\r\n      return defaultValue;\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport class GridSizeProperty {\r\n  static sizeToCss(unitSize: number, size: string): string {\r\n\r\n    if (size.trim() == \"auto\") {\r\n      return \"auto\";\r\n    }\r\n    if (size.indexOf(\"%\") > 0) {\r\n      return parseFloat(size) + \"%\";\r\n    } else {\r\n      return (unitSize * parseFloat(size)) + \"rem\";\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class ComponentViewModelUtils {\r\n\r\n  static toSizeCss(sizeProperties: SizeProperties, boxState: BoxPropertiesState): string {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const maxWidth = sizeProperties.maxWidth.currentValue(() => boxState.maxWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const maxHeight = sizeProperties.maxHeight.currentValue(() => boxState.maxHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.maxSizes(maxWidth, maxHeight);\r\n  }\r\n\r\n  static toPaddingsCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                       paddingsProperties: PaddingsProperties, state: PaddingsPropertiesState): string {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n    const paddingTop = paddingsProperties.paddingTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.paddingTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingLeft = paddingsProperties.paddingLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.paddingLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingBottom = paddingsProperties.paddingBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.paddingBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingRight = paddingsProperties.paddingRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.paddingRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    return CssUtils.paddings(paddingTop, paddingRight, paddingBottom, paddingLeft);\r\n\r\n  }\r\n\r\n  static toBackgroundCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                         backgroundsProperties: BackgroundsProperties, state: BackgroundsPropertiesState): string {\r\n\r\n    const backgroundColor = backgroundsProperties.backgroundColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.backgroundColor).valueOrDefault(None());\r\n\r\n    return CssUtils.backgroundColor(backgroundColor);\r\n\r\n  }\r\n\r\n  static toBorderCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                     bordersProperties: BordersProperties, state: BordersPropertiesState): string {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const borderTop = bordersProperties.borderTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderLeft = bordersProperties.borderLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderBottom = bordersProperties.borderBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderRight = bordersProperties.borderRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    const borderColorTop = bordersProperties.borderColorTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderColorTop).valueOrDefault(None());\r\n    const borderColorLeft = bordersProperties.borderColorLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderColorLeft).valueOrDefault(None())\r\n    const borderColorBottom = bordersProperties.borderColorBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderColorBottom).valueOrDefault(None())\r\n    const borderColorRight = bordersProperties.borderColorRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderColorRight).valueOrDefault(None())\r\n\r\n    const borderRadius = bordersProperties.borderRadius(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.borderRadius).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    return CssUtils.borders(borderTop, borderRight, borderBottom, borderLeft, borderColorTop, borderColorRight, borderColorBottom, borderColorLeft, borderRadius);\r\n  }\r\n\r\n  static toOuterShadowCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                          bordersProperties: BordersProperties, state: BordersPropertiesState) {\r\n    const outerShadow = bordersProperties.outerShadow(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => state.outerShadow).valueOrDefault(false);\r\n    const shadowValue = outerShadow ? Some(\"0 0 1rem rgba(0,0,0,0.15)\") : None();\r\n    // return outerShadow ? \"box-shadow: 0 0 1rem rgba(0,0,0,0.15);\": \"\";\r\n    return CssUtils.shadows(shadowValue, None());\r\n  }\r\n\r\n  // used by link\r\n  static toTextColorCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                        textProperties: TextsProperties, textState: TextPropertiesState): string {\r\n    return textProperties.textColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textColor).valueOrDefault(None()).map(v => \"color: \" + v + \";\").getOrElse(\"\");\r\n  }\r\n\r\n  static toTextCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                   textProperties: TextsProperties, textState: TextPropertiesState): string {\r\n\r\n    const textSize = textProperties.textSize(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const textColor = textProperties.textColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textColor).valueOrDefault(None());\r\n\r\n    //QUESTION which properties should be inherited?\r\n\r\n    const bold = textProperties.bold(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.bold).valueOrDefault(false);\r\n    const italic = textProperties.italic(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.italic).valueOrDefault(false);\r\n    const underline = textProperties.underline(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.underline).valueOrDefault(false);\r\n    const lineThrough = textProperties.lineThrough(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.lineThrough).valueOrDefault(false);\r\n    const textFont = textProperties.textFont(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n    const fontCss = CssUtils.font(textFont, textSize, bold, italic, underline, lineThrough, textColor);\r\n\r\n\r\n    const textAlign = textProperties.textAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textAlign).valueOrDefault(TextAlign.DEFAULT.name);\r\n\r\n    const textAlignItemsCss = CssUtils.horizontalAlign(textAlign);\r\n\r\n    const textVerticalAlign = textProperties.textVerticalAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => textState.textVerticalAlign).valueOrDefault(TextVerticalAlign.DEFAULT.name);\r\n\r\n    const textVerticalAlignContentCss = CssUtils.verticalAlign(textVerticalAlign);\r\n\r\n    return fontCss + textAlignItemsCss + textVerticalAlignContentCss;\r\n  }\r\n\r\n\r\n  static toHeaderCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                     headerProperties: HeaderProperties, headerState: HeaderPropertiesState): string {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n\r\n    //QUESTION which properties should be inherited?\r\n\r\n    const fontFamily = headerProperties.headerTextFont(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n    const fontSize = headerProperties.headerTextSize(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const bold = headerProperties.headerTextBold(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextBold).valueOrDefault(false);\r\n    const italic = headerProperties.headerTextItalic(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextItalic).valueOrDefault(false);\r\n    const underlined = headerProperties.headerTextUnderline(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextUnderline).valueOrDefault(false);\r\n    const lineThrough = headerProperties.headerTextLineThrough(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextLineThrough).valueOrDefault(false);\r\n    const fontColor = headerProperties.headerTextColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextColor).valueOrDefault(None());\r\n\r\n    const fontCss = CssUtils.font(fontFamily, fontSize, bold, italic, underlined, lineThrough, fontColor);\r\n\r\n\r\n    const textAlign = headerProperties.headerTextAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextAlign).valueOrDefault(None()).getOrElse(TextAlign.DEFAULT.name);\r\n\r\n    const textAlignItemsCss = CssUtils.horizontalAlign(textAlign);\r\n\r\n    const textVerticalAlign = headerProperties.headerTextVerticalAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerTextVerticalAlign).valueOrDefault(None());\r\n\r\n    const textVerticalAlignContentCss = CssUtils.verticalAlign(textVerticalAlign.getOrElse(TextVerticalAlign.center.name));\r\n\r\n    const backgroundColorValue = headerProperties.headerBackgroundColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerBackgroundColor).valueOrDefault(None());\r\n    const backgroundColor = CssUtils.backgroundColor(backgroundColorValue);\r\n\r\n    const minHeightValue = headerProperties.headerMinHeight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.headerMinHeight).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const minHeight = CssUtils.minSizes(None(), minHeightValue)\r\n\r\n    // Header borders\r\n\r\n    const borderTop = headerProperties.borderTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderLeft = headerProperties.borderLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderBottom = headerProperties.borderBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const borderRight = headerProperties.borderRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    const borderColorTop = headerProperties.borderColorTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderColorTop).valueOrDefault(None());\r\n    const borderColorLeft = headerProperties.borderColorLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderColorLeft).valueOrDefault(None());\r\n    const borderColorBottom = headerProperties.borderColorBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderColorBottom).valueOrDefault(None());\r\n    const borderColorRight = headerProperties.borderColorRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderColorRight).valueOrDefault(None());\r\n\r\n    const borderRadius = headerProperties.borderRadius(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.borderRadius).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    const borders = CssUtils.borders(borderTop, borderRight, borderBottom, borderLeft, borderColorTop, borderColorRight, borderColorBottom, borderColorLeft, borderRadius);\r\n\r\n    // Header paddings\r\n\r\n    const paddingTop = headerProperties.paddingTop(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.paddingTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingLeft = headerProperties.paddingLeft(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.paddingLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingBottom = headerProperties.paddingBottom(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.paddingBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingRight = headerProperties.paddingRight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => headerState.paddingRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    const paddingCss = CssUtils.paddings(paddingTop, paddingRight, paddingBottom, paddingLeft);\r\n\r\n    return fontCss + textAlignItemsCss + textVerticalAlignContentCss + backgroundColor + minHeight + borders + paddingCss;\r\n  }\r\n\r\n\r\n  static toLabelCss(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultPropertyProvider: DefaultPropertyProvider,\r\n                    labelProperties: LabelProperties, labelState: LabelPropertiesState): string {\r\n\r\n    const textSize = labelProperties.labelSize(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const textColor = labelProperties.labelColor(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelColor).valueOrDefault(None());\r\n\r\n    //QUESTION which properties should be inherited?\r\n\r\n    const bold = labelProperties.labelBold(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelBold).valueOrDefault(false);\r\n    const italic = labelProperties.labelItalic(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelItalic).valueOrDefault(false);\r\n    const underline = labelProperties.labelUnderline(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelUnderline).valueOrDefault(false);\r\n    const lineThrough = labelProperties.labelLineThrough(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelLineThrough).valueOrDefault(false);\r\n    const textFont = labelProperties.labelFont(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n    const font = CssUtils.font(textFont, textSize, bold, italic, underline, lineThrough, textColor);\r\n\r\n    let textAlignItemsCss = \"\";\r\n    const textAlignOption = labelProperties.labelAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelAlign).valueOrDefault(None());\r\n    textAlignOption.forEach(textAlign => {\r\n      textAlignItemsCss = CssUtils.horizontalAlign(textAlign);\r\n    });\r\n\r\n    let textVerticalAlignContentCss = \"\";\r\n    const labelVerticalAlignOption = labelProperties.labelVerticalAlign(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => labelState.labelVerticalAlign).valueOrDefault(None());\r\n    labelVerticalAlignOption.forEach(labelVerticalAlign => {\r\n      textVerticalAlignContentCss = CssUtils.verticalAlign(labelVerticalAlign);\r\n    });\r\n\r\n\r\n    return font + textAlignItemsCss + textVerticalAlignContentCss;\r\n  }\r\n\r\n\r\n  static toFlexGrowCss(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, defSizeProperties: SizeProperties, defBoxState: BoxPropertiesState): string {\r\n    const desiredWidthValue = refPositionProperties.desiredWidth.currentValue(() => refPositionState.desiredWidth).valueOrDefault(None()).map(v => SizeProperty.cmToNumberOnly(v, 1));\r\n    const contentMinWidthValue = defSizeProperties.contentMinWidth.currentValue(() => defBoxState.contentMinWidth).valueOrDefault(None()).map(v => SizeProperty.cmToNumberOnly(v, 1));\r\n    return CssUtils.flexGrow(desiredWidthValue, contentMinWidthValue);\r\n  }\r\n\r\n\r\n  static toFlexBasisCss(parentLayout: LayoutType, refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, defSizeProperties: SizeProperties, defBoxState: BoxPropertiesState, unit: number): string {\r\n    const desiredWidthValue = refPositionProperties.desiredWidth.currentValue(() => refPositionState.desiredWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const contentMinWidthValue = defSizeProperties.contentMinWidth.currentValue(() => defBoxState.contentMinWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const desiredHeightValue = refPositionProperties.desiredHeight.currentValue(() => refPositionState.desiredHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const contentMinHeightValue = defSizeProperties.contentMinHeight.currentValue(() => defBoxState.contentMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.flexBasis(parentLayout, desiredWidthValue, contentMinWidthValue, desiredHeightValue, contentMinHeightValue);\r\n  }\r\n\r\n\r\n  static toMinSizesCss(parentLayout: LayoutType, refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, defSizeProperties: SizeProperties, defBoxState: BoxPropertiesState, unit: number): string {\r\n    const desiredWidthValue = refPositionProperties.desiredWidth.currentValue(() => refPositionState.desiredWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const desiredHeightValue = refPositionProperties.desiredHeight.currentValue(() => refPositionState.desiredHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const contentMinWidthValue = defSizeProperties.contentMinWidth.currentValue(() => defBoxState.contentMinWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const contentMinHeightValue = defSizeProperties.contentMinHeight.currentValue(() => defBoxState.contentMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.internalMinSizes(parentLayout, desiredWidthValue, contentMinWidthValue, desiredHeightValue, contentMinHeightValue);\r\n  }\r\n\r\n\r\n  static toMaxSizesCss(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, defSizeProperties: SizeProperties, defBoxState: BoxPropertiesState, unit: number): string {\r\n    const maxWidthValue = defSizeProperties.maxWidth.currentValue(() => defBoxState.maxWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const maxHeightValue = defSizeProperties.maxHeight.currentValue(() => defBoxState.maxHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.maxSizes(maxWidthValue, maxHeightValue);\r\n  }\r\n\r\n\r\n  static toMarginsCss(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, unit: number): string {\r\n    const marginTopValue = refPositionProperties.marginTop.currentValue(() => refPositionState.marginTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const marginRightValue = refPositionProperties.marginRight.currentValue(() => refPositionState.marginRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const marginBottomValue = refPositionProperties.marginBottom.currentValue(() => refPositionState.marginBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const marginLeftValue = refPositionProperties.marginLeft.currentValue(() => refPositionState.marginLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.margins(marginTopValue, marginRightValue, marginBottomValue, marginLeftValue);\r\n  }\r\n\r\n\r\n  static toStaticPosition(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, deltaTopRem: number, unit: number): string {\r\n    const topValue = refPositionProperties.top.currentValue(() => refPositionState.top).valueOrDefault(None()).map(v => \"calc(\" + SizeProperty.sizeToCss(unit, v) + \" + \" + deltaTopRem + \"rem)\");\r\n    const rightValue = refPositionProperties.right.currentValue(() => refPositionState.right).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v))\r\n    const bottomValue = refPositionProperties.bottom.currentValue(() => refPositionState.bottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const leftValue = refPositionProperties.left.currentValue(() => refPositionState.left).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    return CssUtils.staticPosition(topValue, rightValue, bottomValue, leftValue);\r\n  }\r\n\r\n\r\n  static toGridPosition(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState): string {\r\n    const gridRowStart = refPositionProperties.row.currentValue(() => refPositionState.row).valueOrDefault(None());\r\n    const gridRowEnd = refPositionProperties.rowSpan.currentValue(() => refPositionState.rowSpan).valueOrDefault(1);\r\n    const gridColumnStart = refPositionProperties.column.currentValue(() => refPositionState.column).valueOrDefault(None());\r\n    const gridColumnEnd = refPositionProperties.columnSpan.currentValue(() => refPositionState.columnSpan).valueOrDefault(1);\r\n    return CssUtils.gridPosition(gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd);\r\n  }\r\n\r\n\r\n  static toDesiredHeightRem(refPositionProperties: PositionProperties, refPositionState: RefPositionPropertiesState, defSizeProperties: SizeProperties, defBoxState: BoxPropertiesState, unit: number): number {\r\n    const desiredHeightValue = refPositionProperties.desiredHeight.currentValue(() => refPositionState.desiredHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const contentMinHeightValue = defSizeProperties.contentMinHeight.currentValue(() => defBoxState.contentMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const defaultValue = SizeProperty.sizeToCss(unit, \"1cm\");\r\n    return CssUtils.desiredHeightValue(desiredHeightValue, contentMinHeightValue, defaultValue);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class ComponentStatus {\r\n  static preDefaultValue = 1\r\n  static initialized = 2\r\n  static destroyed = 3\r\n}\r\n\r\nexport class ComponentValidationErrorViewModel {\r\n  constructor(readonly errors: Array<string>,\r\n              readonly componentId: number,\r\n              readonly componentName: string) {\r\n  }\r\n}\r\n\r\nexport class ComponentInternalErrorViewModel {\r\n  constructor(readonly errors: Array<ComponentErrorInfo>,\r\n              readonly componentId: number,\r\n              readonly definitionId: number,\r\n              readonly refId: number,\r\n              readonly componentName: string) {\r\n  }\r\n}\r\n\r\nexport class ComponentViewModelFactory {\r\n\r\n  static root(shared: ScreenSharedViewModel, externalEventBus: ScreenExternalEventBus, context: VariableId, componentRefId: ScreenComponentRefIdInScreen,\r\n              screensComponents: { [screenId: string]: ScreenComponents },\r\n              componentsState: ScreenComponentsState, serverModel: ScreenInstanceServerModel): ScreenComponentViewModel {\r\n    return ComponentViewModelFactory.of(shared, externalEventBus, null, context, componentRefId, screensComponents, componentsState, serverModel);\r\n  }\r\n\r\n  static of(shared: ScreenSharedViewModel, externalEventBus: ScreenExternalEventBus, parent: ScreenContainerViewModel | null, context: VariableId,\r\n            componentRefId: ScreenComponentRefIdInScreen, screensComponents: { [screenId: string]: ScreenComponents },\r\n            componentsState: ScreenComponentsState, serverModel: ScreenInstanceServerModel): ScreenComponentViewModel {\r\n\r\n    const componentRef: ScreenComponentRef = screensComponents[componentRefId.screenId].getRef(componentRefId.toComponentRefId());\r\n\r\n    const componentScreenId = componentRef.applicationScreen.map(s => s.id).getOrElse(componentRefId.screenId);\r\n    const componentId = new ScreenComponentIdInScreen(componentScreenId, componentRef.componentId.id);\r\n    const definition: ScreenComponentDefinition = screensComponents[componentScreenId].getDefinition(componentRef.componentId);\r\n\r\n    const componentState = componentsState.getComponentState(context, componentId);\r\n    const refState = componentsState.getComponentRefState(context, componentRefId);\r\n\r\n    switch (componentRef.className()) {\r\n      case ButtonComponentRef.className: return new ButtonComponentViewModel(shared, parent, context, <ButtonComponentDefinition>definition, componentScreenId, <ButtonComponentRef>componentRef, componentRefId.screenId, <ButtonComponentState>componentState, <ButtonComponentRefState>refState, serverModel);\r\n      // case BarChartComponentRef.className: return new BarChartComponentViewModel(shared, parent, context, <BarChartComponentDefinition>definition, componentScreenId, <BarChartComponentRef>componentRef, componentRefId.screenId, <BarChartComponentState>componentState, <BarChartComponentRefState>refState, serverModel);\r\n      // case DataTableComponentRef.className: return new DataTableComponentViewModel(shared, parent, context, <DataTableComponentDefinition>definition, componentScreenId, <DataTableComponentRef>componentRef, componentRefId.screenId, <DataTableComponentState>componentState, <DataTableComponentRefState>refState, serverModel);\r\n      case NumberInputComponentRef.className: return new NumberInputComponentViewModel(shared, parent, context, <NumberInputComponentDefinition>definition, componentScreenId, <NumberInputComponentRef>componentRef, componentRefId.screenId, <NumberInputComponentState>componentState, <NumberInputComponentRefState>refState, serverModel);\r\n      case TextInputComponentRef.className: return new TextInputComponentViewModel(shared, parent, context, <TextInputComponentDefinition>definition, componentScreenId, <TextInputComponentRef>componentRef, componentRefId.screenId, <TextInputComponentState>componentState, <TextInputComponentRefState>refState, serverModel);\r\n      case PasswordInputComponentRef.className: return new PasswordInputComponentViewModel(shared, parent, context, <PasswordInputComponentDefinition>definition, componentScreenId, <PasswordInputComponentRef>componentRef, componentRefId.screenId, <PasswordInputComponentState>componentState, <PasswordInputComponentRefState>refState, serverModel);\r\n      case DateInputComponentRef.className: return new DateInputComponentViewModel(shared, parent, context, <DateInputComponentDefinition>definition, componentScreenId, <DateInputComponentRef>componentRef, componentRefId.screenId, <DateInputComponentState>componentState, <DateInputComponentRefState>refState, serverModel);\r\n      // case DateTimeInputComponentRef.className: return new DateTimeInputComponentViewModel(shared, parent, context, <DateTimeInputComponentDefinition>definition, componentScreenId, <DateTimeInputComponentRef>componentRef, componentRefId.screenId, <DateTimeInputComponentState>componentState, <DateTimeInputComponentRefState>refState, serverModel);\r\n      // case TimeInputComponentRef.className: return new TimeInputComponentViewModel(shared, parent, context, <TimeInputComponentDefinition>definition, componentScreenId, <TimeInputComponentRef>componentRef, componentRefId.screenId, <TimeInputComponentState>componentState, <TimeInputComponentRefState>refState, serverModel);\r\n      // case DurationInputComponentRef.className: return new DurationInputComponentViewModel(shared, parent, context, <DurationInputComponentDefinition>definition, componentScreenId, <DurationInputComponentRef>componentRef, componentRefId.screenId, <DurationInputComponentState>componentState, <DurationInputComponentRefState>refState, serverModel);\r\n      case DropListComponentRef.className: return new DropListComponentViewModel(shared, parent, context, <DropListComponentDefinition>definition, componentScreenId, <DropListComponentRef>componentRef, componentRefId.screenId, <DropListComponentState>componentState, <DropListComponentRefState>refState, serverModel);\r\n      case RadioButtonComponentRef.className: return new RadioButtonComponentViewModel(shared, parent, context, <RadioButtonComponentDefinition>definition, componentScreenId, <RadioButtonComponentRef>componentRef, componentRefId.screenId, <RadioButtonComponentState>componentState, <RadioButtonComponentRefState>refState, serverModel);\r\n      case MultiCheckboxComponentRef.className: return new MultiCheckboxComponentViewModel(shared, parent, context, <MultiCheckboxComponentDefinition>definition, componentScreenId, <MultiCheckboxComponentRef>componentRef, componentRefId.screenId, <MultiCheckboxComponentState>componentState, <MultiCheckboxComponentRefState>refState, serverModel);\r\n      case SingleCheckboxComponentRef.className: return new SingleCheckboxComponentViewModel(shared, parent, context, <SingleCheckboxComponentDefinition>definition, componentScreenId, <SingleCheckboxComponentRef>componentRef, componentRefId.screenId, <SingleCheckboxComponentState>componentState, <SingleCheckboxComponentRefState>refState, serverModel);\r\n      case LabelComponentRef.className: return new LabelComponentViewModel(shared, parent, context, <LabelComponentDefinition>definition, componentScreenId, <LabelComponentRef>componentRef, componentRefId.screenId, <LabelComponentState>componentState, <LabelComponentRefState>refState, serverModel);\r\n      case LinkComponentRef.className: return new LinkComponentViewModel(shared, parent, context, <LinkComponentDefinition>definition, componentScreenId, <LinkComponentRef>componentRef, componentRefId.screenId, <LinkComponentState>componentState, <LinkComponentRefState>refState, serverModel);\r\n      case ImageComponentRef.className: return new ImageComponentViewModel(shared, parent, context, <ImageComponentDefinition>definition, componentScreenId, <ImageComponentRef>componentRef, componentRefId.screenId, <ImageComponentState>componentState, <ImageComponentRefState>refState, serverModel);\r\n      case HtmlComponentRef.className: return new HtmlComponentViewModel(shared, parent, context, <HtmlComponentDefinition>definition, componentScreenId, <HtmlComponentRef>componentRef, componentRefId.screenId, <HtmlComponentState>componentState, <HtmlComponentRefState>refState, serverModel);\r\n      case MapComponentRef.className: return new MapComponentViewModel(shared, parent, context, <MapComponentDefinition>definition, componentScreenId, <MapComponentRef>componentRef, componentRefId.screenId, <MapComponentState>componentState, <MapComponentRefState>refState, serverModel);\r\n      // case CalendarComponentRef.className: return CalendarComponentViewModel.create(shared, parent, context, <CalendarComponentDefinition>definition, componentScreenId, <CalendarComponentRef>componentRef, componentRefId.screenId, <CalendarComponentState>componentState, <CalendarComponentRefState>refState, serverModel, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      case SectionContainerRef.className:\r\n        return SectionContainerViewModel.create(shared, externalEventBus, parent, context, <SectionContainerDefinition>definition, componentScreenId, <SectionContainerRef>componentRef, componentRefId.screenId, <SectionContainerState>componentState, <SectionContainerRefState>refState, serverModel, componentsState, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      // case PopupContainerRef.className: return PopupContainerViewModel.create(shared, parent, context, <PopupContainerDefinition>definition, componentScreenId, <PopupContainerRef>componentRef, componentRefId.screenId, <PopupContainerState>componentState, <PopupContainerRefState> refState, serverModel, componentsState, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      case RepeatableContainerRef.className:\r\n        return RepeatableContainerViewModel.create(shared, parent, context, <RepeatableContainerDefinition>definition, componentScreenId, <RepeatableContainerRef>componentRef, componentRefId.screenId, <RepeatableContainerState>componentState, <RepeatableContainerRefState> refState, serverModel, componentsState, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      case TabsContainerRef.className:\r\n        return TabsContainerViewModel.create(shared, parent, context, <TabsContainerDefinition>definition, componentScreenId, <TabsContainerRef>componentRef, componentRefId.screenId, <TabsContainerState>componentState, <TabsContainerRefState> refState, serverModel, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      case TableContainerRef.className: return TableContainerViewModel.create(shared, parent, context, <TableContainerDefinition>definition, componentScreenId, <TableContainerRef>componentRef, componentRefId.screenId, <TableContainerState>componentState, <TableContainerRefState> refState, serverModel, screensComponents, componentsState, (parent: ScreenContainerViewModel, cr: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ComponentViewModelFactory.of(shared, externalEventBus, parent, childContext.getOrElse(context), cr, screensComponents, componentsState, serverModel));\r\n      case SwitchComponentRef.className: return new SwitchComponentViewModel(shared, parent, context, <SwitchComponentDefinition>definition, componentScreenId, <SwitchComponentRef>componentRef, componentRefId.screenId, <SwitchComponentState>componentState, <SwitchComponentRefState>refState, serverModel);\r\n      case MultiAttachmentInputComponentRef.className: return new MultiAttachmentInputComponentViewModel(shared, externalEventBus, parent, context, <MultiAttachmentInputComponentDefinition>definition, componentScreenId, <MultiAttachmentInputComponentRef>componentRef, componentRefId.screenId, <MultiAttachmentInputComponentState>componentState, <MultiAttachmentInputComponentRefState>refState, serverModel);\r\n      case SingleAttachmentInputComponentRef.className: return new SingleAttachmentInputComponentViewModel(shared, externalEventBus, parent, context, <SingleAttachmentInputComponentDefinition>definition, componentScreenId, <SingleAttachmentInputComponentRef>componentRef, componentRefId.screenId, <SingleAttachmentInputComponentState>componentState, <SingleAttachmentInputComponentRefState>refState, serverModel);\r\n      // case PersonSelectComponentRef.className: return new PersonSelectComponentViewModel(shared, parent, context, <PersonSelectComponentDefinition>definition, componentScreenId, <PersonSelectComponentRef>componentRef, componentRefId.screenId, <PersonSelectComponentState>componentState, <DropListComponentRefState>refState, serverModel);\r\n      // case WidgetComponentRef.className: return new WidgetComponentViewModel(shared, parent, context, <WidgetComponentDefinition>definition, componentScreenId, <WidgetComponentRef>componentRef, componentRefId.screenId, <WidgetComponentState>componentState, <DropListComponentRefState>refState, serverModel);\r\n      default:\r\n        throw new Error(\"Component not yet supported [\" + componentRef.className() + \"]\")\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\nexport abstract class ScreenComponentViewModel {\r\n\r\n  static idGenerator = 0;\r\n\r\n  // Optional\r\n  layoutClass: string|undefined;\r\n  label: ComponentLabelViewModel|undefined;\r\n\r\n  typeName: string = \"\";\r\n  uncovered: boolean = false;\r\n  visible: boolean = false;\r\n  uncoveredAndVisible: boolean = true;\r\n  status: number = 0;\r\n  componentClass: string = \"\";\r\n  skinName: Option<string> = None();\r\n  cssClass: string = \"\";\r\n  positionCss: string = \"\";\r\n  sizeCss: string = \"\";\r\n  desiredHeightRem: number = 0;\r\n\r\n  abstract updateComponent(deep: boolean): void;\r\n\r\n  abstract componentState: ScreenComponentState;\r\n  componentScreenId: string = \"\";\r\n  abstract refState: ScreenComponentRefState;\r\n  abstract ref: ScreenComponentRef;\r\n  refScreenId: string = \"\";\r\n  validationErrors: Array<string> = [];\r\n  validationError: boolean = false;\r\n  errors: Array<ComponentErrorInfo> = [];\r\n  error: boolean = false;\r\n  errorText: string = \"\";\r\n  errorClass: string = \"\";\r\n  inProgress: boolean = false;\r\n\r\n  id = ScreenComponentViewModel.idGenerator++;\r\n\r\n  deltaTopRem = 0;\r\n  deltaHeightRem = 0; // component sel delta height\r\n\r\n  selfEditable: boolean = false;\r\n  editable: boolean = false;\r\n  editableStatic: boolean = false; // used to determine if preview mode should be used by default\r\n\r\n  inheritedOrSelfPreview: Option<boolean> = None();\r\n  selfPreview: Option<boolean> = None();\r\n  preview: boolean = false;\r\n\r\n  abstract context: VariableId;\r\n\r\n  readonly defaultPropertyProvider: DefaultPropertyProvider;\r\n\r\n  tableCellMode: boolean;\r\n  nonTableCellMode: boolean;\r\n\r\n  protected constructor(readonly parent: ScreenContainerViewModel | null,\r\n                        componentState: ScreenComponentState,\r\n                        refState: ScreenComponentRefState,\r\n                        readonly definition: ScreenComponentDefinition,\r\n                        readonly shared: ScreenSharedViewModel) {\r\n\r\n    componentState.onUpdate(() => this.update());\r\n    refState.onUpdate(() => this.update());\r\n\r\n    const skinsPropertyProvider = new SkinsPropertiesProvider(() => ({\r\n      skinName: this.skinName,\r\n      componentTypeName: this.typeName,\r\n      componentClass: this.componentClass,\r\n    }), this.shared.skins);\r\n\r\n    this.defaultPropertyProvider = DefaultPropertyProvider.ofSkins(skinsPropertyProvider, this.definition.defaultPropertiesProvider);\r\n\r\n    this.tableCellMode = this.parent != null && this.parent.isTable();\r\n    this.nonTableCellMode = !this.tableCellMode\r\n  }\r\n\r\n\r\n  update() {\r\n    this.uncovered = this.ref.uncovered.currentValue(() => this.refState.uncovered).valueOrDefault(true) && this.definition.uncovered.currentValue(() => this.componentState.uncovered).valueOrDefault(true);\r\n    this.visible = this.ref.visible.currentValue(() => this.refState.visible).valueOrDefault(true) && this.definition.visible.currentValue(() => this.componentState.visible).valueOrDefault(true);\r\n    this.uncoveredAndVisible = this.uncovered && this.visible;\r\n    this.status = this.componentState.status.valueOrDefault(ComponentStatus.destroyed);\r\n    this.componentClass = this.definition.sizeProperties.componentClass.currentValue(() => this.componentState.boxState.componentClass).valueOrDefault(\"$default\");\r\n\r\n\r\n    this.cssClass = this.definition.sizeProperties.cssClass.currentValue(() => this.componentState.boxState.cssClass).valueOrDefault(None()).getOrElse(\"\");\r\n    this.errors = this.componentState.properties.errors().concat(this.refState.properties.errors());\r\n    this.error = this.errors.length > 0;\r\n    this.errorText = this.errors.map(e => this.componentName()+\" - \"+e.name+\": \"+e.message).join(\", \");\r\n    this.validationErrors = this.componentState.properties.allValidationErrors();\r\n    this.validationError = this.validationErrors.length > 0;\r\n    this.errorClass = this.error ? \"error\" : (this.validationError ? \"validationError\" : \"\");\r\n    this.inProgress = this.componentState.properties.anyInProgress() || this.refState.properties.anyInProgress();\r\n    this.updateEditableAndPreview();\r\n    const skinNameChanged = this.updateSkinName();\r\n    this.updateComponent(skinNameChanged);\r\n  }\r\n\r\n  private updateSkinName(): boolean {\r\n    const currentSkinName = this.skinName;\r\n    this.skinName = this.definition.sizeProperties.componentSkin.currentValue(() => this.componentState.boxState.componentSkin).valueOrDefault(None());\r\n    if (this.skinName.isEmpty() && this.parent != null) {\r\n      this.parent.updateSkinName();\r\n      this.skinName = this.parent.skinName;\r\n    }\r\n    return currentSkinName != null && !currentSkinName.equals(this.skinName);\r\n  }\r\n\r\n  updateEditableAndPreview() {\r\n    this.updateEditable();\r\n    this.updatePreview();\r\n  }\r\n\r\n  private updatePreview() {\r\n\r\n    if (this.editable) {\r\n      this.inheritedOrSelfPreview = None();\r\n      this.selfPreview = None();\r\n      this.preview = false;\r\n    } else {\r\n      // By default component is in preview mode if editable is static false, otherwise it's based on a preview setting\r\n      this.selfPreview = this.ref.preview.currentValue(() => this.refState.preview).valueOrDefault(None())\r\n\r\n      if (this.selfPreview.isEmpty()) { // use default behavior if 'editable' is static\r\n        if (this.parent != null) {\r\n          this.parent.updatePreview();\r\n          this.inheritedOrSelfPreview = this.parent.inheritedOrSelfPreview.orElse(this.selfPreview);\r\n          if (this.parent.preview) {\r\n            this.preview = true;\r\n          } else {\r\n            if (this.inheritedOrSelfPreview.isEmpty()) {\r\n              this.preview = this.editableStatic;\r\n            } else {\r\n              this.preview = this.inheritedOrSelfPreview.get();\r\n            }\r\n          }\r\n        } else {\r\n          this.inheritedOrSelfPreview = this.selfPreview;\r\n          this.preview = this.editableStatic; // if dynamic it should be only read only mode, not preview\r\n        }\r\n\r\n      } else {\r\n        this.inheritedOrSelfPreview = this.selfPreview;\r\n        this.preview = this.selfPreview.get();\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  componentRefPath(): Array<RefIdInContext> {\r\n    const currentId = [new RefIdInContext(ScreenComponentRefIdInScreen.of(this.refScreenId, this.ref.id), this.context)];\r\n    if (this.parent == null) {\r\n      return currentId;\r\n    } else {\r\n      return this.parent.componentRefPath().concat(currentId);\r\n    }\r\n  }\r\n\r\n  private updateEditable() {\r\n\r\n    this.editableStatic = this.ref.editable.settingsUnwrapped().toSettingsType().isStaticValue() && this.definition.editable.settingsUnwrapped().toSettingsType().isStaticValue() || this.definition.modelIsReadOnly();\r\n    this.selfEditable = this.ref.editable.currentValue(() => this.refState.editable).valueOrDefault(false) &&\r\n      this.definition.editable.currentValue(() => this.componentState.editable).valueOrDefault(false) &&\r\n      !this.definition.modelIsReadOnly();\r\n    if (this.parent != null) {\r\n      this.parent.updateEditable();\r\n    }\r\n    if (this.selfEditable && this.parent != null) {\r\n      this.editable = this.parent.editable;\r\n    } else {\r\n      this.editable = this.selfEditable;\r\n    }\r\n  }\r\n\r\n  protected updatePosition() {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const parentLayout = this.parent == null ? LayoutType.vertical : this.parent.getLayoutForComponent(this.ref.id);\r\n\r\n    const margins = ComponentViewModelUtils.toMarginsCss(this.ref.positionProperties, this.refState.positionState, unit);\r\n    const staticPosition = ComponentViewModelUtils.toStaticPosition(this.ref.positionProperties, this.refState.positionState, this.deltaTopRem, unit);\r\n    const gridPosition = ComponentViewModelUtils.toGridPosition(this.ref.positionProperties, this.refState.positionState);\r\n    const flexBasis = ComponentViewModelUtils.toFlexBasisCss(parentLayout, this.ref.positionProperties, this.refState.positionState, this.definition.sizeProperties, this.componentState.boxState, unit);\r\n    const flexGrow = ComponentViewModelUtils.toFlexGrowCss(this.ref.positionProperties, this.refState.positionState, this.definition.sizeProperties, this.componentState.boxState);\r\n    const maxSizes = ComponentViewModelUtils.toMaxSizesCss(this.ref.positionProperties, this.refState.positionState, this.definition.sizeProperties, this.componentState.boxState, unit);\r\n\r\n    this.positionCss = flexBasis + flexGrow + margins + staticPosition + gridPosition + maxSizes;\r\n\r\n    const internalMinSizes = ComponentViewModelUtils.toMinSizesCss(parentLayout, this.ref.positionProperties, this.refState.positionState, this.definition.sizeProperties, this.componentState.boxState, unit);\r\n\r\n    this.sizeCss = internalMinSizes;\r\n\r\n    this.desiredHeightRem = ComponentViewModelUtils.toDesiredHeightRem(this.ref.positionProperties, this.refState.positionState, this.definition.sizeProperties, this.componentState.boxState, unit)\r\n\r\n  }\r\n\r\n  getDefaultStaticTop() {\r\n    return this.ref.positionProperties.top.currentValue(() => this.refState.positionState.top).valueOrDefault(None()).filter(h => h.indexOf(\"%\") == -1).map(parseFloat);\r\n  }\r\n\r\n  getDefaultStaticBottom() {\r\n    const top = this.ref.positionProperties.top.currentValue(() => this.refState.positionState.top).valueOrDefault(None()).filter(h => h.indexOf(\"%\") == -1).map(parseFloat);\r\n    const desiredHeight = this.ref.positionProperties.desiredHeight.currentValue(() => this.refState.positionState.desiredHeight).valueOrDefault(None());\r\n    const minContentHeight = this.definition.sizeProperties.contentMinHeight.currentValue(() => this.componentState.boxState.contentMinHeight).valueOrDefault(None());\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    if (top.isDefined()) {\r\n      return Some(top.get() + parseFloat(desiredHeight.orElse(minContentHeight).getOrElse(\"1cm\")));\r\n    } else {\r\n      console.log(\"No static bottom\");\r\n      return None();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  changeDeltaTopRem(deltaTopRem: number) {\r\n    if (this.deltaTopRem != deltaTopRem) {\r\n      console.log(\"Delta top changed \" + this.id + \" \" + (Math.round(deltaTopRem * 100) / 100));\r\n      this.deltaTopRem = deltaTopRem;\r\n      this.updatePosition();\r\n    }\r\n  }\r\n\r\n  changeDeltaHeightRem(deltaHeightRem: number) {\r\n    const deltaChanged = Math.abs(this.deltaHeightRem - deltaHeightRem) > 0.001;\r\n    if (deltaChanged) {\r\n      this.deltaHeightRem = deltaHeightRem;\r\n      if (this.parent != null) { // if not root\r\n        this.parent.childDeltaHeightChanged();\r\n      }\r\n      this.updatePosition();\r\n    }\r\n  }\r\n\r\n  isContainer() {\r\n    return false;\r\n  }\r\n\r\n  componentName(): string {\r\n    return this.typeName;\r\n  }\r\n\r\n  getValidationErrorsRecursive(): Array<ComponentValidationErrorViewModel> {\r\n    const errors = this.componentState.properties.allValidationErrors();\r\n    if (errors.length > 0) {\r\n      return [new ComponentValidationErrorViewModel(errors, this.id, this.componentName())];\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  getInternalErrorsRecursive(): Array<ComponentInternalErrorViewModel> {\r\n    const errors = this.componentState.properties.errors();\r\n    if (errors.length > 0) {\r\n      return [new ComponentInternalErrorViewModel(errors, this.id, this.definition.id.id, this.ref.id.id, this.componentName())];\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n}\r\n\r\nexport abstract class ComponentViewModelWithLabel extends ScreenComponentViewModel {\r\n\r\n  public override label: ComponentLabelViewModel;\r\n\r\n\r\n  abstract required: boolean;\r\n\r\n  labelSizeCss: string = \"\";\r\n\r\n  constructor(override readonly parent: ScreenContainerViewModel|null,\r\n              override readonly definition: ScreenComponentDefinitionWithLabel,\r\n              readonly componentState: LabeledScreenComponentState,\r\n              refState: ScreenComponentRefState,\r\n              override readonly shared: ScreenSharedViewModel) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.label = new ComponentLabelViewModel(this);\r\n  }\r\n\r\n  // used to hide header in table\r\n  forceHideLabel(forceHide: boolean) {\r\n    this.label.forceHideLabel(forceHide);\r\n  }\r\n\r\n  override update(): void {\r\n    super.update();\r\n\r\n\r\n    const tooltipText: I18nText | null = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).getOrNull();\r\n\r\n    this.label.update(this.definition.labelProperties, this.componentState.labelState, this.required, this.editable, this.preview, tooltipText != null ? tooltipText.getCurrentWithFallback() : null,\r\n      this.validationError);\r\n  }\r\n\r\n\r\n  override updateEditableAndPreview() {\r\n    super.updateEditableAndPreview();\r\n    this.label.updateStateFlags(this.required, this.editable, this.preview);\r\n  }\r\n\r\n  override componentName(): string {\r\n    if (this.label.visible && this.label.label.trim().length > 0) {\r\n      return this.label.label.trim();\r\n    } else {\r\n      return super.componentName();\r\n    }\r\n  }\r\n\r\n\r\n  protected override updatePosition() {\r\n    super.updatePosition();\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const skinName = this.skinName;\r\n    const componentTypeName = this.typeName;\r\n    const componentClass = this.componentClass;\r\n    const defaultPropertyProvider = this.defaultPropertyProvider;\r\n\r\n    const labelWidthValue = this.definition.labelProperties.labelWidth(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => this.componentState.labelState.labelWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const labelHeightValue = this.definition.labelProperties.labelHeight(skinName, componentTypeName, componentClass, defaultPropertyProvider).currentValue(() => this.componentState.labelState.labelHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    this.labelSizeCss = \"\";\r\n\r\n    this.labelSizeCss = CssUtils.minSizes(labelWidthValue, labelHeightValue);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class SizeUtils {\r\n  static sizeToCss(size: string) {\r\n    if (size.indexOf(\"%\") > 0) {\r\n      return size;\r\n    } else if (size.indexOf(\"px\") > 0) {\r\n      return (parseFloat(size.substring(0, size.indexOf(\"px\"))) / 13) + \"rem\";\r\n    } else if (size.indexOf(\"cm\") > 0) {\r\n      return (parseFloat(size.substring(0, size.indexOf(\"cm\"))) * ScreenFormConfig.panelUnitRemSize) + \"rem\";\r\n    } else {\r\n      throw new Error(\"No unit defined\");\r\n    }\r\n  }\r\n}\r\n\r\nexport abstract class ScreenContainerViewModel extends ScreenComponentViewModel {\r\n  protected constructor(override readonly parent: ScreenContainerViewModel | null,\r\n                        componentState: ScreenComponentState, refState: ScreenComponentRefState, definition: ScreenComponentDefinition, shared: ScreenSharedViewModel) {\r\n    super(parent, componentState, refState, definition, shared);\r\n  }\r\n\r\n  // Triggered by child that might have changed size\r\n  updateTop() {\r\n    this.updatePosition();\r\n    if (this.parent != null) {\r\n      this.parent.updateTop();\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean) {\r\n    this.updateContainer(deep);\r\n    if (deep) {\r\n      this.getAllChildren().forEach(c => {\r\n        c.update();\r\n      });\r\n    }\r\n  }\r\n\r\n  abstract updateContainer(deep: boolean): void;\r\n\r\n  abstract childDeltaHeightChanged(): void;\r\n\r\n\r\n  abstract getComponentById(id: number): Option<ScreenComponentViewModel>;\r\n\r\n  override updateEditableAndPreview() {\r\n    super.updateEditableAndPreview();\r\n    this.getAllChildren().forEach(child => child.updateEditableAndPreview());\r\n  }\r\n\r\n  override isContainer() {\r\n    return true;\r\n  }\r\n\r\n  abstract getAllChildren(): Array<ScreenComponentViewModel>;\r\n\r\n  override getValidationErrorsRecursive(): Array<ComponentValidationErrorViewModel> {\r\n    const selfErrors = super.getValidationErrorsRecursive();\r\n    const childrenErrors = __(this.getAllChildren()).flatMap(ch => ch.getValidationErrorsRecursive());\r\n    return childrenErrors.concat(selfErrors); // child errors before selft, although self should not be validated if there are children errors\r\n  }\r\n\r\n  override getInternalErrorsRecursive(): Array<ComponentInternalErrorViewModel> {\r\n    const selfErrors = super.getInternalErrorsRecursive();\r\n    const childrenErrors = __(this.getAllChildren()).flatMap(ch => ch.getInternalErrorsRecursive());\r\n    return childrenErrors.concat(selfErrors); // child errors before selft, although self should not be validated if there are children errors\r\n  }\r\n\r\n  abstract getLayoutForComponent(componentRefId: ScreenComponentRefId): LayoutType;\r\n\r\n  isTable() {\r\n    return false;\r\n  }\r\n\r\n  isTabs() {\r\n    return false;\r\n  }\r\n}\r\n\r\n","import {BusinessEntityVariable, BusinessVariable, FileVariableV2} from \"@libs/ProcessVariables\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {None, Option} from \"@libs/Option\";\r\nimport {FileProtocol, FileUri} from \"@libs/FileUri\";\r\nimport {BusinessEntityId} from \"@libs/IdModel\";\r\nimport {FileInfoModel} from \"@screens\";\r\n\r\nexport interface AttachmentEntry {\r\n    value: BusinessVariable|null; // null is for uploaded file\r\n    placeholder: boolean;\r\n    isProcessed(): boolean;\r\n    entryType: string;\r\n  }\r\n\r\n  export class BusinessEntityInfoViewModel implements AttachmentEntry {\r\n    readonly entryType = \"businessEntity\"\r\n\r\n    public summary = \"\";\r\n\r\n    constructor(\r\n        readonly value: BusinessEntityVariable,\r\n        public id: BusinessEntityId,\r\n        public placeholder: boolean) {\r\n\r\n    }\r\n\r\n    isProcessed(): boolean {\r\n      return false;\r\n    }\r\n\r\n    static placeholder(entity: BusinessEntityVariable) {\r\n      return new BusinessEntityInfoViewModel(entity, entity.value, true);\r\n    }\r\n\r\n    updateInfo() {\r\n      this.summary = \"Business Entity: \" + this.value.value.id;\r\n      this.placeholder = false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class UnknownInfoViewModel implements AttachmentEntry {\r\n    readonly entryType = \"unknown\";\r\n    readonly variableTypeName: string;\r\n    readonly placeholder: boolean = false;\r\n\r\n    constructor(readonly value: BusinessVariable) {\r\n      this.variableTypeName = value.simpleValueType()\r\n    }\r\n\r\n    static placeholder(value: BusinessVariable) {\r\n      return new UnknownInfoViewModel(value);\r\n    }\r\n\r\n    updateInfo(info: any) {\r\n      throw new Error(\"Updating unkown not supported\");\r\n    }\r\n\r\n    isProcessed(): boolean {\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  export class DirectoryInfoViewModel implements AttachmentEntry {\r\n    readonly entryType = \"directory\";\r\n    constructor(\r\n      readonly value: FileVariableV2,\r\n      public uri: FileUri,\r\n      public browseUrl: string,\r\n      readonly exists: boolean,\r\n      readonly name: string,\r\n      readonly repositoryPath: Option<string>,\r\n      public placeholder: boolean) {}\r\n\r\n    static placeholder(directory: FileVariableV2) {\r\n      return new DirectoryInfoViewModel(directory, directory.value, \"\", true, \"\", None(), true);\r\n    }\r\n\r\n    isProcessed(): boolean {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  export class FileInfoViewModel implements AttachmentEntry {\r\n\r\n    readonly entryType = \"file\";\r\n\r\n    public visibleName = \"\";\r\n    public tooltipName = \"\";\r\n\r\n    constructor(\r\n      readonly value: FileVariableV2|null, // null is for uploaded file\r\n      public uri: FileUri,\r\n      public exists: boolean,\r\n      public name: string,\r\n      public size: number,\r\n      public version: number,\r\n      public modified: LocalDateTime,\r\n      public downloadUrl: string,\r\n      public uploadId: number,\r\n      public uploadedSize: number,\r\n      public uploadInProgress: boolean,\r\n      public uploadProgressPercentage: string,\r\n      public placeholder: boolean\r\n    ) {\r\n\r\n\r\n\r\n    }\r\n\r\n    isProcessed(): boolean {\r\n      return this.uploadInProgress;\r\n    }\r\n\r\n    static placeholder(file: FileVariableV2) {\r\n      return new FileInfoViewModel(file, file.value, true, \"\", 0, 0, LocalDateTime.now(), \"\", -1, 0, false, \"\", true);\r\n    }\r\n\r\n    static newUpload(fileName: string, uploadId: number) {\r\n      return new FileInfoViewModel(\r\n        null,\r\n        new FileUri(FileProtocol.InternalFile, \"\"),\r\n        true,\r\n        fileName,\r\n        0,\r\n        0,\r\n        LocalDateTime.now(),\r\n        \"\",\r\n        uploadId,\r\n        0,\r\n        true,\r\n        \"0%\",\r\n        false\r\n      );\r\n    }\r\n\r\n    updateInfo(info: FileInfoModel) {\r\n      this.exists = info.exists;\r\n      this.name = info.name;\r\n      this.size = info.size;\r\n      this.version = info.version;\r\n      this.modified = LocalDateTime.copy(info.modified);\r\n      this.downloadUrl = info.downloadUrl;\r\n      this.uploadId = -1;\r\n      this.uploadedSize = 0;\r\n      this.uploadInProgress = false;\r\n      this.uploadProgressPercentage = \"\";\r\n      this.placeholder = false\r\n\r\n      if(info.repositoryPath.isDefined() && info.repositoryPath.get().indexOf(\"/\") >= 0) {\r\n        this.visibleName = \"/../\" + info.name;\r\n        this.tooltipName = info.repositoryPath.getOrElse(info.name);\r\n      } else {\r\n        this.visibleName = info.repositoryPath.getOrElse(info.name);\r\n        this.tooltipName = \"\";\r\n      }\r\n\r\n    }\r\n\r\n    completeFileUpload(fileUri: FileUri, downloadUrl: string) {\r\n      this.uri = fileUri;\r\n      this.downloadUrl = downloadUrl;\r\n      this.uploadId = -1;\r\n      this.uploadInProgress = false;\r\n      this.uploadProgressPercentage = \"\";\r\n      this.uploadedSize = 0;\r\n    }\r\n\r\n    updateFileUpload(uploadedBytes: number, totalBytes: number) {\r\n      this.uploadInProgress = true;\r\n      this.uploadProgressPercentage = (uploadedBytes / totalBytes) * 100 + \"%\";\r\n      this.uploadedSize = uploadedBytes;\r\n      this.size = totalBytes;\r\n    }\r\n  }\r\n","import {\r\n  BackgroundsProperties,\r\n  BooleanProperty,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  OptionalBooleanProperty,\r\n  OptionalI18nTextProperty,\r\n  OptionalNumberProperty,\r\n  OptionalStringArrayProperty,\r\n  OptionalStringProperty,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {Optional} from \"@angular/core\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class MultiAttachmentDisplayMode {\r\n  constructor(readonly name: string) {}\r\n  static full = new MultiAttachmentDisplayMode(\"full\");\r\n  static minimal = new MultiAttachmentDisplayMode(\"minimal\");\r\n\r\n  static of(name: string) {\r\n    switch (name) {\r\n      case MultiAttachmentDisplayMode.full.name: return MultiAttachmentDisplayMode.full;\r\n      case MultiAttachmentDisplayMode.minimal.name: return MultiAttachmentDisplayMode.minimal;\r\n      default: throw new Error(\"Unsupported name '\"+name+\"'\");\r\n    }\r\n  }\r\n}\r\n\r\nexport class MultiAttachmentInputComponentRef extends InputComponentRef {\r\n  static className = \"MultiAttachmentInputComponentRef\";\r\n  className() {\r\n    return MultiAttachmentInputComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  get addRemoveEnabled(): BooleanProperty {return this.properties.getBooleanProperty(\"addRemoveEnabled\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: MultiAttachmentInputComponentRef): MultiAttachmentInputComponentRef {\r\n    return new MultiAttachmentInputComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"MultiAttachmentInputComponentRef\",\r\n    (name: string) => {switch (name) {\r\n      case \"addRemoveEnabled\": return BooleanProperty.ofTrue();\r\n      default: return null;\r\n    }}, DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = MultiAttachmentInputComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class MultiAttachmentInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"MultiAttachmentInputComponentDefinition\";\r\n  className() {\r\n    return MultiAttachmentInputComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"MultiAttachmentInput\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,MultiAttachmentInputComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get displayMode(): StringProperty {return this.properties.getStringProperty(\"displayMode\", this.defaultPropertiesProvider)};\r\n\r\n  get anchorVisible(): BooleanProperty {return this.properties.getBooleanProperty(\"anchorVisible\", this.defaultPropertiesProvider)};\r\n  override get tooltip(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"tooltip\", this.defaultPropertiesProvider)};\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)};\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n  get allowedExtensions(): OptionalStringArrayProperty {return this.properties.getOptionalStringArrayProperty(\"allowedExtensions\", this.defaultPropertiesProvider)};\r\n\r\n  get maxFileSize(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxFileSize\", this.defaultPropertiesProvider)};\r\n\r\n  get maxAttachments(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxAttachments\", this.defaultPropertiesProvider)};\r\n  get minAttachments(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"minAttachments\", this.defaultPropertiesProvider)};\r\n\r\n  get addRemoveEnabled(): BooleanProperty {return this.properties.getBooleanProperty(\"addRemoveEnabled\", this.defaultPropertiesProvider)}\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  static copy(other: MultiAttachmentInputComponentDefinition): MultiAttachmentInputComponentDefinition {\r\n    return new MultiAttachmentInputComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [MultiAttachmentInputComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"MultiAttachmentInputComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"displayMode\": return StringProperty.of(MultiAttachmentDisplayMode.full.name);\r\n      case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n      case \"maxAttachments\": return OptionalNumberProperty.disabled(10);\r\n      case \"minAttachments\": return OptionalNumberProperty.disabled(1);\r\n      case \"maxFileSize\": return OptionalNumberProperty.disabled(10485760); // 10MB\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      case \"anchorVisible\": return BooleanProperty.ofTrue();\r\n      case \"allowedExtensions\": return OptionalStringProperty.disabled(\"\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n}\r\n","import {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {ArrayVariable, BusinessVariable, CaseVariable, EmailVariable, FileVariableV2} from \"@libs/ProcessVariables\";\r\nimport {\r\n  BackgroundsPropertiesState, BordersPropertiesState,\r\n  LabelPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {Optional} from \"@angular/core\";\r\nimport {MultiAttachmentInputComponentDefinition} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class MultiAttachmentInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"MultiAttachmentInputComponentState\";\r\n  className() {\r\n    return MultiAttachmentInputComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalArrayProperty(MultiAttachmentInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get maxFileSize() {\r\n    return this.properties.optionalNumberProperty(\"maxFileSize\");\r\n  }\r\n\r\n  get minAttachments() {\r\n    return this.properties.optionalNumberProperty(\"minAttachments\");\r\n  }\r\n\r\n  get maxAttachments() {\r\n    return this.properties.optionalNumberProperty(\"maxAttachments\");\r\n  }\r\n\r\n  get allowedExtensions() {\r\n    return this.properties.optionalStringArrayProperty(\"allowedExtensions\");\r\n  }\r\n\r\n  get displayMode() {\r\n    return this.properties.stringProperty(\"displayMode\");\r\n  }\r\n\r\n  get anchorVisible() {\r\n    return this.properties.booleanProperty(\"anchorVisible\");\r\n  }\r\n\r\n  get allowDir() {\r\n    return this.properties.booleanProperty(\"allowDir\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case MultiAttachmentInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get().className() === ArrayVariable.className && (<ArrayVariable<BusinessVariable>>value.get()).isEmpty() || __((<ArrayVariable<BusinessVariable>>value.get()).unwrappedValue()).all(e => {\r\n          return e instanceof FileVariableV2 || e instanceof CaseVariable || e instanceof EmailVariable\r\n        })) {\r\n          this.properties.putValue(MultiAttachmentInputComponentDefinition.MODEL, value.get());\r\n        } else if(value.isDefined() && value.get().className() === ArrayVariable.className) {\r\n          this.properties.putError(MultiAttachmentInputComponentDefinition.MODEL, LocalDateTime.now(), \"Unable to set value, expected Array of (File, Directory, Case or Email) but was [\"+(<ArrayVariable<BusinessVariable>>value.get()).unwrappedValue().map(v => v.simpleValueType()).join(\", \")+\"]\");\r\n        } else if(value.isDefined()) {\r\n          this.properties.putError(MultiAttachmentInputComponentDefinition.MODEL, LocalDateTime.now(), \"Unable to set value, expected Array of (File, Directory, Case or Email) but was [\"+value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(MultiAttachmentInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: MultiAttachmentInputComponentState) {\r\n    return new MultiAttachmentInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class MultiAttachmentInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"MultiAttachmentInputComponentRefState\";\r\n  className() {\r\n    return MultiAttachmentInputComponentRefState.className;\r\n  }\r\n\r\n  get addRemoveEnabled() {\r\n    return this.properties.booleanProperty(\"addRemoveEnabled\");\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: MultiAttachmentInputComponentRefState) {\r\n    return new MultiAttachmentInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  AttachmentEntry,\r\n  BusinessEntityInfoViewModel,\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  DirectoryInfoViewModel,\r\n  FileInfoViewModel,\r\n  MultiAttachmentDisplayMode,\r\n  MultiAttachmentInputComponentDefinition,\r\n  MultiAttachmentInputComponentRef,\r\n  MultiAttachmentInputComponentRefState,\r\n  MultiAttachmentInputComponentState,\r\n  ScreenContainerViewModel,\r\n  ScreenExternalEventBus,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel,\r\n  UnknownInfoViewModel\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {\r\n  BusinessEntityVariable,\r\n  BusinessVariable,\r\n  CaseVariable,\r\n  EmailVariable,\r\n  FileVariableV2\r\n} from \"@libs/ProcessVariables\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenInstanceId, VariableId} from \"@libs/IdModel\";\r\nimport {ViewableFile, ViewableFileUrl} from \"../../services/files/FileViewerModel\";\r\n\r\nexport class MultiAttachmentInputComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"MultiAttachmentInput\";\r\n\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public css: string = \"\";\r\n  public required: boolean = false;\r\n  public invalid: boolean = false; //TODO\r\n\r\n  public addRemoveEnabled: boolean = false;\r\n\r\n\r\n  public allowedExtensions: Array<string> = [];\r\n  public allowedExtensionsDefined: boolean = false;\r\n  readonly instanceId: ScreenInstanceId;\r\n\r\n  public entriesDefined: boolean = false;\r\n  public entries: Array<AttachmentEntry> = [];\r\n\r\n  public uploadAllowed: boolean = true;\r\n  public anchorVisible: boolean = true;\r\n\r\n  public detailed: boolean = false;\r\n  public minimal: boolean = false;\r\n  public combinedCss = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              readonly externalEventBus: ScreenExternalEventBus,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: MultiAttachmentInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: MultiAttachmentInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: MultiAttachmentInputComponentState,\r\n              readonly refState: MultiAttachmentInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.instanceId = this.serverModel.getInstanceId();\r\n    this.update();\r\n  }\r\n\r\n  private updateEntriesDefined() {\r\n    this.entriesDefined = this.entries.length > 0;\r\n  }\r\n\r\n  onDelete(entry: AttachmentEntry) {\r\n    const entryIndex = this.entries.indexOf(entry);\r\n    this.serverModel.removeFromModelWithAction(this.componentRefPath(), MultiAttachmentInputComponentDefinition.MODEL, entryIndex, entry.value!, MultiAttachmentInputComponentDefinition.ON_CHANGE);\r\n    this.entries.splice(entryIndex, 1);\r\n    this.updateEntriesDefined();\r\n  }\r\n\r\n  onCancel(entry: FileInfoViewModel) {\r\n    this.entries.splice(this.entries.indexOf(entry), 1);\r\n    this.updateEntriesDefined();\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.css = ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState);\r\n\r\n    this.css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n    this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).getOrElse(I18nText.of(Some(\"-- wybierz --\"), Some(\"-- select -- \"))).getCurrentWithFallback();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.addRemoveEnabled = this.ref.addRemoveEnabled.currentValue(() => this.refState.addRemoveEnabled).valueOrDefault(false);\r\n\r\n    const modelAllowedExtensions = this.definition.allowedExtensions.currentValue(() => this.componentState.allowedExtensions).valueOrDefault(None());\r\n    this.allowedExtensions = modelAllowedExtensions.getOrElse([]);\r\n    this.allowedExtensionsDefined = modelAllowedExtensions.isDefined();\r\n\r\n    const displayMode = MultiAttachmentDisplayMode.of(this.definition.displayMode.currentValue(() => this.componentState.displayMode).valueOrDefault(MultiAttachmentDisplayMode.full.name));\r\n\r\n    this.anchorVisible = this.definition.anchorVisible.currentValue(() => this.componentState.anchorVisible).valueOrDefault(true);\r\n\r\n    this.detailed = displayMode.name == MultiAttachmentDisplayMode.full.name;\r\n    this.minimal = displayMode.name == MultiAttachmentDisplayMode.minimal.name;\r\n\r\n\r\n    const entriesOption = this.componentState.model.valueOrDefault(None());\r\n\r\n    if(entriesOption.isDefined()) {\r\n      const newEntries = entriesOption.get().unwrappedValue();\r\n\r\n      let oldEntries = this.entries;\r\n      this.entries = [];\r\n\r\n      const entriesToKeep: Array<AttachmentEntry> = [];\r\n\r\n      const entriesToAdd: Array<BusinessVariable> = [];\r\n\r\n      newEntries.forEach(e => {\r\n        const found = __(oldEntries).findIndexOf(ee => ee.value !== null && ee.value.isEqual(e));\r\n        if(found.isDefined()) {\r\n          entriesToKeep.push(oldEntries[found.get()]);\r\n          oldEntries.splice(found.get(), 1);\r\n        } else {\r\n          entriesToAdd.push(e);\r\n        }\r\n      });\r\n\r\n      const addedEntries: Array<AttachmentEntry> = entriesToAdd.map(entry => {\r\n        if(entry instanceof FileVariableV2 && entry.value.isAnyFile()) {\r\n          return FileInfoViewModel.placeholder(entry);\r\n        } else if (entry instanceof FileVariableV2 && entry.value.isAnyDir()) {\r\n          return DirectoryInfoViewModel.placeholder(entry);\r\n        } else if (entry instanceof FileVariableV2) {\r\n          throw new Error(\"Unsupported file type '\" + entry.value.serialize()+\"'\");\r\n        } else if (entry instanceof BusinessEntityVariable) {\r\n          return BusinessEntityInfoViewModel.placeholder(entry);\r\n        } else {\r\n          return UnknownInfoViewModel.placeholder(entry);\r\n        }\r\n      });\r\n\r\n      this.entries = entriesToKeep.concat(addedEntries);\r\n\r\n      const files: Array<FileVariableV2> = entriesToAdd.filter(e => e instanceof FileVariableV2);\r\n      const emails: Array<EmailVariable> = entriesToAdd.filter(e => e instanceof EmailVariable);\r\n      const cases: Array<CaseVariable> = entriesToAdd.filter(e => e instanceof CaseVariable);\r\n\r\n      this.serverModel.loadFilesInfo(files.map(f => f.value), (filesInfo) => {\r\n        const __filesInfo = __(filesInfo);\r\n        this.entries.forEach(entry => {\r\n          if(entry instanceof FileInfoViewModel) {\r\n            __filesInfo.find(e => e.uri.isEqual(entry.uri)).forEach(info => {\r\n              entry.updateInfo(info);\r\n            });\r\n          }\r\n        });\r\n      });\r\n\r\n      // this.serverModel.loadEmailsInfo(0, emails.map(e => e.value), (requestNumber, emailsInfo) => {\r\n      //   const __emailsInfo = __(emailsInfo);\r\n      //   this.entries.forEach(entry => {\r\n      //     if(entry instanceof EmailInfoViewModel) {\r\n      //       __emailsInfo.find(e => e.uri.isEqual(entry.uri)).forEach(info => {\r\n      //         entry.updateInfo(info);\r\n      //       });\r\n      //     }\r\n      //   });\r\n      // });\r\n\r\n      // this.serverModel.loadFlowsInfo(0, cases.map(e => e.value), (requestNumber: number, flowsInfo: Array<Option<FlowAndTasksInfoForUser>> ) => {\r\n      //   const __flowsInfo = __(flowsInfo);\r\n      //   this.entries.forEach(entry => {\r\n      //     if(entry instanceof FlowInfoViewModel) {\r\n      //       __flowsInfo.find(info => info.isDefined() && info.get().flowIdUnwrapped().id == entry.id.id).forEach(info => {\r\n      //         entry.updateInfo(info.get());\r\n      //       });\r\n      //     }\r\n      //   });\r\n      // });\r\n\r\n\r\n      // Business entities\r\n      this.entries.forEach(entry => {\r\n        if (entry instanceof BusinessEntityInfoViewModel) {\r\n          entry.updateInfo();\r\n        }\r\n      });\r\n\r\n    } else {\r\n      this.entries = [];\r\n    }\r\n\r\n    this.updateEntriesDefined();\r\n\r\n    super.updatePosition();\r\n\r\n    this.combinedCss = this.css+this.sizeCss;\r\n  }\r\n\r\n\r\n  fileUploadCompleted(uploadId: number, fileUri: FileUri) {\r\n    const downloadUrl = this.serverModel.getFileDownloadUri(fileUri);\r\n    this.entries.filter(f => f instanceof FileInfoViewModel && f.uploadId == uploadId).forEach((file) => {\r\n      (<FileInfoViewModel>file).completeFileUpload(fileUri, downloadUrl);\r\n    });\r\n    this.updateEntriesDefined();\r\n  }\r\n\r\n  fileUploadProgress(uploadId: number, uploadedBytes: number, totalBytes: number) {\r\n    this.entries.filter(f => f instanceof FileInfoViewModel && f.uploadId == uploadId).forEach(file => {\r\n      (<FileInfoViewModel>file).updateFileUpload(uploadedBytes, totalBytes);\r\n    })\r\n    this.updateEntriesDefined();\r\n  }\r\n\r\n  extensionValid(fileName: string) {\r\n    return true;\r\n  }\r\n\r\n  fileUploadError(uploadId: string) {\r\n    toastr.error(\"File upload error\");\r\n  }\r\n\r\n  newFileUploadStarted(uploadId: number, fileName: any) {\r\n    this.entries.push(FileInfoViewModel.newUpload(fileName, uploadId));\r\n    this.updateEntriesDefined();\r\n  }\r\n\r\n  toggleFileViewerVisibility(entry: FileInfoViewModel) {\r\n    const files: Array<FileInfoViewModel> = this.entries\r\n      .filter(f => f instanceof FileInfoViewModel).map(f => <FileInfoViewModel>f);\r\n    const viewableFiles = files\r\n      .map((file: FileInfoViewModel) => new ViewableFile(file.name, file.size, file.version > 1 ? Some(file.version) : None(), new ViewableFileUrl(file.downloadUrl), false, file.modified, file.uri, false, None(), None(), None(), None(), !file.exists));\r\n    this.externalEventBus.filesPreviewRequested(viewableFiles, files.indexOf(entry));\r\n  };\r\n\r\n}\r\n","import {\r\n  BackgroundsProperties,\r\n  BooleanProperty,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  MultiAttachmentDisplayMode,\r\n  OptionalBooleanProperty,\r\n  OptionalI18nTextProperty,\r\n  OptionalNumberProperty,\r\n  OptionalStringArrayProperty,\r\n  OptionalStringProperty,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SingleAttachmentDisplayMode {\r\n  constructor(readonly name: string) {}\r\n  static full = new SingleAttachmentDisplayMode(\"full\");\r\n  static minimal = new SingleAttachmentDisplayMode(\"minimal\");\r\n\r\n  static of(name: string) {\r\n    switch (name) {\r\n      case SingleAttachmentDisplayMode.full.name: return SingleAttachmentDisplayMode.full;\r\n      case SingleAttachmentDisplayMode.minimal.name: return SingleAttachmentDisplayMode.minimal;\r\n      default: throw new Error(\"Unsupported name '\"+name+\"'\");\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class SingleAttachmentInputComponentRef extends InputComponentRef {\r\n  static className = \"SingleAttachmentInputComponentRef\";\r\n  className() {\r\n    return SingleAttachmentInputComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  get addRemoveEnabled(): BooleanProperty {return this.properties.getBooleanProperty(\"addRemoveEnabled\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: SingleAttachmentInputComponentRef): SingleAttachmentInputComponentRef {\r\n    return new SingleAttachmentInputComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"SingleAttachmentInputComponentRef\",\r\n    (name: string) => {switch (name) {\r\n    case \"addRemoveEnabled\": return BooleanProperty.ofTrue();\r\n    default: return null;\r\n  }},\r\n    DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = SingleAttachmentInputComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class SingleAttachmentInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"SingleAttachmentInputComponentDefinition\";\r\n  className() {\r\n    return SingleAttachmentInputComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"SingleAttachmentInput\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,SingleAttachmentInputComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get displayMode(): StringProperty {return this.properties.getStringProperty(\"displayMode\", this.defaultPropertiesProvider)};\r\n\r\n  get anchorVisible(): BooleanProperty {return this.properties.getBooleanProperty(\"anchorVisible\", this.defaultPropertiesProvider)};\r\n\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)}\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  get allowedExtensions(): OptionalStringArrayProperty {return this.properties.getOptionalStringArrayProperty(\"allowedExtensions\", this.defaultPropertiesProvider)}\r\n\r\n  get maxFileSize(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxFileSize\", this.defaultPropertiesProvider)}\r\n\r\n  get addRemoveEnabled(): BooleanProperty {return this.properties.getBooleanProperty(\"addRemoveEnabled\", this.defaultPropertiesProvider)}\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  static copy(other: SingleAttachmentInputComponentDefinition): SingleAttachmentInputComponentDefinition {\r\n    return new SingleAttachmentInputComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [SingleAttachmentInputComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"SingleAttachmentInputComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"displayMode\": return StringProperty.of(MultiAttachmentDisplayMode.full.name);\r\n      case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n      case \"maxFileSize\": return OptionalNumberProperty.disabled(10485760); // 10MB\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      case \"anchorVisible\": return BooleanProperty.ofTrue();\r\n      case \"allowedExtensions\": return OptionalStringProperty.disabled(\"\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  LabeledScreenComponentState,\r\n  LabelPropertiesState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState,\r\n  SingleAttachmentInputComponentDefinition,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {BusinessVariable, CaseVariable, EmailVariable, FileVariableV2} from \"@libs/ProcessVariables\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SingleAttachmentInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"SingleAttachmentInputComponentState\";\r\n  className() {\r\n    return SingleAttachmentInputComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalBusinessVariableProperty(SingleAttachmentInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get allowedExtensions() {\r\n    return this.properties.optionalStringArrayProperty(\"allowedExtensions\");\r\n  }\r\n\r\n  get maxFileSize() {\r\n    return this.properties.optionalNumberProperty(\"maxFileSize\");\r\n  }\r\n\r\n  get displayMode() {\r\n    return this.properties.stringProperty(\"displayMode\");\r\n  }\r\n\r\n  get anchorVisible() {\r\n    return this.properties.booleanProperty(\"anchorVisible\");\r\n  }\r\n\r\n  get allowDir() {\r\n    return this.properties.booleanProperty(\"allowDir\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case SingleAttachmentInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && (\r\n          value.get().className() === FileVariableV2.className ||\r\n          value.get().className() === CaseVariable.className ||\r\n          value.get().className() === EmailVariable.className)) {\r\n          this.properties.putValue(SingleAttachmentInputComponentDefinition.MODEL, value.get());\r\n        } else if(value.isDefined()) {\r\n          throw Error(\"Unable to set value, expected File, Email or Case but was [\"+value.get().className()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(SingleAttachmentInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: SingleAttachmentInputComponentState) {\r\n    return new SingleAttachmentInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class SingleAttachmentInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"SingleAttachmentInputComponentRefState\";\r\n  className() {\r\n    return SingleAttachmentInputComponentRefState.className;\r\n  }\r\n\r\n  get addRemoveEnabled() {\r\n    return this.properties.booleanProperty(\"addRemoveEnabled\");\r\n  }\r\n\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: SingleAttachmentInputComponentRefState) {\r\n    return new SingleAttachmentInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  AttachmentEntry,\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  FileInfoViewModel,\r\n  MultiAttachmentDisplayMode,\r\n  ScreenContainerViewModel,\r\n  ScreenExternalEventBus,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel,\r\n  SingleAttachmentDisplayMode,\r\n  SingleAttachmentInputComponentDefinition,\r\n  SingleAttachmentInputComponentRef,\r\n  SingleAttachmentInputComponentRefState,\r\n  SingleAttachmentInputComponentState,\r\n  UnknownInfoViewModel\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {BusinessEntityVariable, FileVariableV2} from \"@libs/ProcessVariables\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenInstanceId, VariableId} from \"@libs/IdModel\";\r\nimport {ViewableFile, ViewableFileUrl} from \"../../services/files/FileViewerModel\";\r\n\r\nexport class SingleAttachmentInputComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"SingleAttachmentInput\";\r\n\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public css: string = \"\";\r\n  public addRemoveEnabled: boolean = false;\r\n  public required: boolean = false;\r\n  public invalid: boolean = false; //TODO\r\n\r\n  public allowedExtensions: Array<string> = [];\r\n  public allowedExtensionsDefined: boolean = false;\r\n  readonly instanceId: ScreenInstanceId;\r\n\r\n  public attachmentDefined: boolean = false;\r\n  public attachmentInfo: AttachmentEntry|null = null;\r\n\r\n  public uploadAllowed: boolean = true;\r\n  public anchorVisible: boolean = false;\r\n  public detailed: boolean = false;\r\n  public minimal: boolean = false;\r\n  public combinedCss = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              readonly externalEventBus: ScreenExternalEventBus,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: SingleAttachmentInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: SingleAttachmentInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: SingleAttachmentInputComponentState,\r\n              readonly refState: SingleAttachmentInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.instanceId = this.serverModel.getInstanceId();\r\n    this.update();\r\n  }\r\n\r\n  onClear() {\r\n    if(this.attachmentInfo != null) {\r\n      this.serverModel.clearModelWithAction(this.componentRefPath(), SingleAttachmentInputComponentDefinition.MODEL, \"onChange\");\r\n    }\r\n    this.attachmentDefined = false;\r\n  }\r\n\r\n  onCancel() {\r\n    this.attachmentInfo = null;\r\n    this.attachmentDefined = false;\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.css = ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState);\r\n\r\n    this.css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n    this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).getOrElse(I18nText.of(Some(\"-- wybierz --\"), Some(\"-- select -- \"))).getCurrentWithFallback();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.addRemoveEnabled = this.ref.addRemoveEnabled.currentValue(() => this.refState.addRemoveEnabled).valueOrDefault(false);\r\n\r\n    const modelAllowedExtensions = this.definition.allowedExtensions.currentValue(() => this.componentState.allowedExtensions).valueOrDefault(None());\r\n    this.allowedExtensions = modelAllowedExtensions.getOrElse([]);\r\n    this.allowedExtensionsDefined = modelAllowedExtensions.isDefined();\r\n\r\n    const displayMode = SingleAttachmentDisplayMode.of(this.definition.displayMode.currentValue(() => this.componentState.displayMode).valueOrDefault(MultiAttachmentDisplayMode.full.name));\r\n\r\n    this.anchorVisible = this.definition.anchorVisible.currentValue(() => this.componentState.anchorVisible).valueOrDefault(true);\r\n\r\n    this.detailed = displayMode.name == MultiAttachmentDisplayMode.full.name;\r\n    this.minimal = displayMode.name == MultiAttachmentDisplayMode.minimal.name;\r\n\r\n    const attachment = this.componentState.model.valueOrDefault(None());\r\n\r\n    if(attachment.isDefined()) {\r\n      this.attachmentDefined = true;\r\n      // this.attachmentInfo = None();\r\n\r\n      const value = attachment.get();\r\n\r\n      if(value instanceof FileVariableV2) {\r\n        this.serverModel.loadFileInfo(value.value, (fileInfo) => {\r\n          const info = FileInfoViewModel.placeholder(value);\r\n          info.updateInfo(fileInfo);\r\n          this.attachmentInfo = info;\r\n        });\r\n      } else {\r\n        this.attachmentInfo = UnknownInfoViewModel.placeholder(value);\r\n      }\r\n\r\n      if(value instanceof BusinessEntityVariable) {\r\n\r\n        toastr.warning(\"Loading business entity info not yet implemented\");\r\n      }\r\n\r\n    } else {\r\n      this.attachmentDefined = false;\r\n      this.attachmentInfo = null;\r\n    }\r\n    super.updatePosition();\r\n\r\n    this.combinedCss = this.css+this.sizeCss;\r\n  }\r\n\r\n\r\n  fileUploadCompleted(uploadId: number, fileUri: FileUri) {\r\n    const downloadUrl = this.serverModel.getFileDownloadUri(fileUri);\r\n    if(this.attachmentInfo instanceof FileInfoViewModel && this.attachmentInfo.uploadId === uploadId) {\r\n      this.attachmentInfo.completeFileUpload(fileUri, downloadUrl);\r\n    }\r\n  }\r\n\r\n  fileUploadProgress(uploadId: number, uploadedBytes: number, totalBytes: number) {\r\n    if(this.attachmentInfo instanceof FileInfoViewModel && this.attachmentInfo.uploadId === uploadId) {\r\n      this.attachmentInfo.updateFileUpload(uploadedBytes, totalBytes);\r\n    }\r\n  }\r\n\r\n  extensionValid(fileName: string) {\r\n    return true;\r\n  }\r\n\r\n  fileUploadError(uploadId: number) {\r\n    toastr.error(\"File upload error\");\r\n  }\r\n\r\n  newFileUploadStarted(uploadId: number, fileName: any) {\r\n    this.attachmentDefined = true;\r\n    this.attachmentInfo = FileInfoViewModel.newUpload(fileName, uploadId);\r\n  }\r\n\r\n  toggleFileViewerVisibility() {\r\n    let viewableFiles: Array<ViewableFile> = [];\r\n    if(this.attachmentInfo instanceof FileInfoViewModel) {\r\n      const file = this.attachmentInfo;\r\n      viewableFiles = [new ViewableFile(file.name, file.size, file.version > 1 ? Some(file.version) : None(), new ViewableFileUrl(file.downloadUrl), false, file.modified, file.uri, false, None(), None(), None(), None(), !file.exists)];\r\n    } else {\r\n      throw new Error(\"Not a file\");\r\n    }\r\n    this.externalEventBus.filesPreviewRequested(viewableFiles, 0);\r\n  };\r\n\r\n}\r\n","import {Component, Input, OnDestroy, OnInit, ViewContainerRef} from \"@angular/core\";\r\nimport {\r\n  FileInfoViewModel,\r\n  MultiAttachmentInputComponentDefinition,\r\n  MultiAttachmentInputComponentViewModel, RefIdInContext\r\n} from \"@screens\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {SimpleFileUploaderController} from \"@libs/simpleFileUploaderController/SimpleFileUploaderController\";\r\nimport {UploadFormFileResponse, UploadFormFileSuccess} from \"@libs/simpleFileUploaderController/Messages\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {htmlEscape} from \"@libs/Html\";\r\nimport {LibrariesService} from \"../../../shared/libraries/libraries.service\";\r\nimport {prettySize} from \"@libs/time/Size\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\n\r\ndeclare const qq: any;\r\n\r\n@Component({\r\n  selector: 'my-multi-attachment-input-component[viewModel]',\r\n  templateUrl: './multi-attachment-input-component.component.html',\r\n  // styleUrls: ['./button-component.component.scss']\r\n})\r\nexport class MultiAttachmentInputComponentComponent implements OnInit, OnDestroy {\r\n  @Input() viewModel!: MultiAttachmentInputComponentViewModel;\r\n\r\n  maxFileSize = 10 * 1024 * 1024; // TODO Parametrize\r\n\r\n  uploadHandlerInitialized: boolean = false;\r\n  dropAreaInitialized = false;\r\n  fileUploadController: Option<SimpleFileUploaderController> = None();\r\n  dragAndDropModule: Option<any> = None();\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef,\r\n              private readonly librariesService: LibrariesService) {}\r\n\r\n  cancelUpload = (entry: FileInfoViewModel) => {\r\n    this.hideDropZone();\r\n    this.fileUploadController.forEach(c => c.cancelUpload(entry.uploadId));\r\n    this.viewModel.onCancel(entry);\r\n  };\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.librariesService.loadFineUploader(() => {\r\n      setTimeout(() => {\r\n        this.initUploadHandler();\r\n\r\n        if(!this.dropAreaInitialized) {\r\n          const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n          const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n          this.dragAndDropModule.forEach(d => d.setupExtraDropzone(uploadDisplay));\r\n          this.dropAreaInitialized = true;\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n\r\n  initUploadHandler() {\r\n\r\n    this.uploadHandlerInitialized = true;\r\n\r\n    const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n    const uploadButtonSelector: HTMLElement = <HTMLElement>(element.querySelector(\".uploadButton\"));\r\n\r\n    if(uploadButtonSelector === null) {\r\n      throw new Error(\"No uploadButton\")\r\n    } else {\r\n\r\n      this.fileUploadController = Some(new SimpleFileUploaderController(\r\n        'screen/add-file-to-model',\r\n        uploadButtonSelector,\r\n        \"\" /*organizationSessionInfo.sessionToken*/, this.viewModel.allowedExtensions, this.maxFileSize,\r\n        true,\r\n        (id: number, name: string, responseJSON: UploadFormFileResponse) => this.onFileUploadComplete(id, name, UploadFormFileSuccess.copy(<UploadFormFileSuccess>responseJSON)),\r\n        (id, fileName, instance) => this.onFileUpload(id, fileName, instance),\r\n        (file: { name: string, size: number }): boolean => this.onFileUploadValidate(file),\r\n        (id: any, name: any, reason: any, request: any) => this.onFileUploadError(id, name, reason, request),\r\n        (id: number, name: string, uploadedBytes: number, totalBytes: number) => this.onFileUploadProgress(id, name, uploadedBytes, totalBytes)));\r\n\r\n\r\n      this.dragAndDropModule = Some(new qq.DragAndDrop({\r\n        allowMultipleItems: true,\r\n        dropZoneElements: [],\r\n        classes: {\r\n          dropActive: \"fileDragged\"\r\n        },\r\n        callbacks: {\r\n          processingDroppedFiles: () => {\r\n            this.hideDropZone();\r\n          },\r\n          processingDroppedFilesComplete: (files: string | any[], dropTarget: any) => {\r\n            // 0 elements can appear for files with strange names on Chrome - dnd module of fine uploader uses\r\n            // webkitGetAsEntry method which does not work for strange file names\r\n            this.hideDropZone();\r\n            if (this.viewModel.editable && this.viewModel.uploadAllowed) {\r\n              if (files.length > 0) {\r\n                this.fileUploadController.forEach(c => c.fineUploaderBasicInstance.addFiles(files)); //this submits the dropped files to Fine Uploader\r\n              } else {\r\n                toastr.error(\"File name not allowed\");\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }));\r\n      this.initListeners();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  private initListeners() {\r\n    document.addEventListener(\"dragover\", this.onDragOver);\r\n    document.addEventListener(\"dragleave\", this.onDragLeave);\r\n    document.addEventListener(\"drop\", this.onDrop);\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    document.removeEventListener(\"dragover\", this.onDragOver);\r\n    document.removeEventListener(\"dragleave\", this.onDragLeave);\r\n    document.removeEventListener(\"drop\", this.onDrop);\r\n  }\r\n\r\n  onDragOver = (e: Event) => {\r\n    if (this.viewModel.editable) {\r\n      const dt = (<DragEvent>e).dataTransfer;\r\n      if (dt !== null && dt.types && (dt.types.indexOf ? dt.types.indexOf('Files') != -1 : __(<Array<string>>dt.types).contains('Files'))) {\r\n        this.showDropZone()\r\n      }\r\n    }\r\n  };\r\n\r\n  onDragLeave = (e: Event) => {\r\n    if ((<DragEvent>e).relatedTarget == null) { //moves outside window, otherwise it's other elementthat can handle drop\r\n      this.hideDropZone();\r\n    }\r\n  };\r\n\r\n\r\n  onDrop = (e: Event) => {\r\n    this.hideDropZone();\r\n  };\r\n\r\n  showDropZone() {\r\n    const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n    const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n\r\n    if(uploadDisplay !== null) {\r\n      uploadDisplay.classList.add(\"fileDropZone\");\r\n    }\r\n  }\r\n\r\n  hideDropZone() {\r\n    const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n    const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n    if(uploadDisplay !== null) {\r\n      uploadDisplay.classList.remove(\"fileDropZone\");\r\n      uploadDisplay.classList.remove(\"fileDragged\");\r\n    }\r\n  }\r\n\r\n\r\n  onFileUploadComplete(uploadId: number, name: string, responseJSON: UploadFormFileSuccess){\r\n    this.hideDropZone();\r\n    this.viewModel.fileUploadCompleted(uploadId, responseJSON.fileUri);\r\n    // scope.$apply();\r\n  }\r\n\r\n  onFileUploadProgress(upladId: number, name: string, uploadedBytes: number, totalBytes: number){\r\n    this.hideDropZone();\r\n    this.viewModel.fileUploadProgress(upladId, uploadedBytes, totalBytes);\r\n    // scope.$apply();\r\n  }\r\n\r\n  onFileUploadError(uploadId: number, name: string, reason: string, request: any){\r\n    this.hideDropZone();\r\n    toastr.error(reason);\r\n    this.viewModel.fileUploadError(uploadId+\"\");\r\n    console.log(reason); // seems to be called for correct upload\r\n  }\r\n\r\n  onFileUpload(id: number, fileName: string, fineUploaderBasicInstance: any){\r\n\r\n    this.hideDropZone();\r\n\r\n    // TODO for now versioning is disabled\r\n    // if(previousFile.isDefined()) {\r\n    //   fineUploaderBasicInstance.setParams({\r\n    //     aggregateId: taskInfo .flowId.id,\r\n    //     taskId: taskInfo.taskId.id,\r\n    //     flowCursorVersion: taskInfo.cursorVersion,\r\n    //     sectionId: scope.viewModel.sectionId.id,\r\n    //     fieldId: scope.viewModel.elementId.id,\r\n    //     fileUri: previousFile.get().uri.serialize(),\r\n    //     version: previousFile.get().version\r\n    //   });\r\n    // } else {\r\n    fineUploaderBasicInstance.setParams({\r\n      mode: \"append\",\r\n      instanceId: this.viewModel.instanceId.id,\r\n      refsPath: this.serializeRefsPath(this.viewModel.componentRefPath()),\r\n      modelName: MultiAttachmentInputComponentDefinition.MODEL,\r\n    });\r\n    // }\r\n\r\n    this.viewModel.newFileUploadStarted(id, fileName);\r\n    // scope.$apply();\r\n  }\r\n\r\n  serializeRefsPath(path: Array<RefIdInContext>): string {\r\n    return path.map(r => r.refId.screenId+\"_\"+r.refId.id+\"_\"+r.contextId.id).join(\";\");\r\n  }\r\n\r\n  onFileUploadValidate(file: {name: string, size: number}){\r\n    this.hideDropZone();\r\n\r\n    if(!this.viewModel.editable) {\r\n      toastr.error(\"You are not allowed to upload to read only field\");\r\n      return false;\r\n    } else if(file.size == 0) {\r\n      toastr.error(\"You are not allowed to upload empty file\");\r\n      return false;\r\n    } else if(file.size > this.maxFileSize) {\r\n      toastr.error(\"File is too large, max allowed file size is \"+prettySize(this.maxFileSize));\r\n      return false;\r\n    } else if(!this.viewModel.extensionValid(file.name)){\r\n      toastr.error(\"File type not allowed for file \"+htmlEscape(file.name)+\", allowed: \"+htmlEscape(this.viewModel.allowedExtensions.join(\", \")));\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" style=\"{{viewModel.labelSizeCss}}\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody MultiAttachmentInputComponent {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\" style=\"{{viewModel.combinedCss}}\"\r\n      [ngClass]=\"{minimal: viewModel.minimal, disabled: !viewModel.editable, preview: viewModel.preview, validationError: viewModel.validationError}\">\r\n  <div class=\"dragArea\">\r\n    <div class=\"inputHeader\" *ngIf=\"viewModel.anchorVisible\"><i class=\"ss-attach\"></i></div>\r\n    <div class=\"fileUploadDisplay\">\r\n      <div class=\"filesContainer\">\r\n        <div class=\"singleAttachment\" *ngFor=\"let entry of $any(viewModel.entries)\">\r\n\r\n          <div class=\"entryPlaceholder\" *ngIf=\"entry.placeholder\"></div>\r\n\r\n          <div class=\"fileInfo\" *ngIf=\"!entry.placeholder && entry.entryType == 'file'\">\r\n\r\n            <div class=\"uploadProgress\" *ngIf=\"entry.uploadInProgress\" [ngStyle]=\"{width: entry.uploadProgressPercentage}\"></div>\r\n\r\n            <div *ngIf=\"!entry.uploadInProgress\">\r\n\r\n              <a *ngIf=\"entry.exists\" onclick=\"return false;\" href=\"{{entry.downloadUrl}}\"\r\n                 (click)=\"viewModel.toggleFileViewerVisibility(entry)\" class=\"fileName\">\r\n                <i class=\"ss-file fileIcon\"></i><span class=\"nameOnly\" my-tooltip=\"{position: 'top', text: entry.tooltipName}\">{{entry.visibleName}}</span>\r\n              </a>\r\n\r\n              <span *ngIf=\"!entry.exists\" class=\"fileName\">\r\n                <i class=\"ss-file fileIcon\"></i><span class=\"nameOnly\" my-tooltip=\"{position: 'top', text: entry.tooltipName}\">{{entry.visibleName}}</span>\r\n              </span>\r\n\r\n              <span *ngIf=\"entry.exists && viewModel.detailed\" class=\"details\">\r\n                <a class=\"fileDownload\" href=\"{{entry.downloadUrl}}\" onclick=\"event.stopPropagation()\"><i class=\"ss-download\"></i></a>\r\n                <span>{{entry.size | myFileSizeFormat}}</span>\r\n                <span class=\"separator\">|</span>\r\n                <span *ngIf=\"entry.version > 1\">{{'screen_file_version' | i18n}} {{entry.version}}</span>\r\n                <span *ngIf=\"entry.version > 1\" class=\"separator\">|</span>\r\n                <my-time-summary [time]=\"entry.modified\"></my-time-summary>\r\n              </span>\r\n\r\n              <button class=\"deleteButton\" *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" (click)=\"viewModel.onDelete(entry)\"><i class=\"ss-trash\"></i></button>\r\n\r\n            </div>\r\n\r\n            <div class=\"uploadInfo\" *ngIf=\"entry.uploadInProgress\">\r\n\r\n              <span *ngIf=\"entry.exists\" class=\"fileName\">\r\n                <i class=\"ss-file fileIcon\"></i>{{entry.name}}\r\n              </span>\r\n\r\n              <span *ngIf=\"entry.exists\" class=\"entry\">\r\n                <span *ngIf=\"entry.size > 0\">\r\n                  <span class=\"uploadedSize\">{{entry.uploadedSize | myFileSizeFormat}}</span> / {{entry.size | myFileSizeFormat}}\r\n                </span>\r\n              </span>\r\n\r\n              <button class=\"cancelButton\" (click)=\"cancelUpload(entry)\"><i class=\"ss-delete\"></i></button>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class=\"directoryInfo\" *ngIf=\"!entry.placeholder && entry.entryType == 'directory'\">\r\n            <i class=\"ss-directory\"></i>\r\n            Directory\r\n            <span>{{entry.name}}</span>\r\n          </div>\r\n\r\n          <div class=\"businessEntityInfo\" *ngIf=\"!entry.placeholder && entry.entryType == 'businessEntity'\">\r\n            <button class=\"namePart\" (click)=\"entry.toggleNavigationVisibility()\">\r\n              <div class=\"entitySummary\">{{entry.summary}}</div>\r\n            </button>\r\n\r\n            <button class=\"deleteEntity deleteButton\" *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" (click)=\"viewModel.onDelete(entry)\"><i class=\"ss-trash\"></i></button>\r\n          </div>\r\n\r\n          <div class=\"flowInfo\" *ngIf=\"!entry.placeholder && entry.entryType == 'flow'\">\r\n            <button class=\"namePart\" (click)=\"entry.toggleNavigationVisibility()\">\r\n              <span class=\"flowCode\" my-tooltip=\"{text: entry.processName + ' ' +entry.caseName, enabled: viewModel.minimal}\">\r\n                <i class=\"ss-fork flowIcon\"></i>\r\n                <span class=\"code\">{{entry.code}}</span>\r\n              </span>\r\n              <span class=\"processName\" *ngIf=\"viewModel.detailed\">{{entry.processName}}</span>\r\n              <span class=\"caseName\" *ngIf=\"viewModel.detailed\">{{entry.caseName}}</span>\r\n            </button>\r\n            <span class=\"details\" *ngIf=\"viewModel.detailed\">\r\n                <span class=\"processStatus\" *ngIf=\"entry.inProgress\">{{'screen_flow_in_progress' | i18n}}</span>\r\n                <span class=\"processStatus\" *ngIf=\"entry.completed\">{{'screen_flow_completed' | i18n}}</span>\r\n                <span class=\"processStatus\" *ngIf=\"entry.terminated\">{{'screen_flow_terminated' | i18n}}</span>\r\n              </span>\r\n\r\n            <button class=\"deleteButton\" *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" (click)=\"viewModel.onDelete(entry)\"><i class=\"ss-trash\"></i></button>\r\n          </div>\r\n<!--TODO FLOW NAVIGATION -->\r\n<!--          <my-flow-navigation-popup *ngIf=\"!entry.placeholder && entry.entryType == 'flow' && entry.navigationVisible\" view-model='entry.navigation'></my-flow-navigation-popup>-->\r\n\r\n          <div class=\"emailInfo\" *ngIf=\"!entry.placeholder && entry.entryType == 'email'\">\r\n            <span *ngIf=\"!entry.exists\" class=\"emailData\">\r\n              <span class=\"emailIcon\">\r\n                <i class=\"ss-mail mainEmailIcon\"></i>\r\n              </span>\r\n              <span class=\"subject\">Email deleted</span>\r\n            </span>\r\n            <span *ngIf=\"entry.exists\" class=\"emailData\">\r\n              <button class=\"namePart\" (click)=\"$any(viewModel).toggleEmailViewerVisibility(entry)\">\r\n                <span class=\"emailIcon\">\r\n                <i class=\"ss-mail mainEmailIcon\"></i>\r\n                <i class=\"ss-up emailDirectionIcon\" *ngIf=\"!entry.received\"></i>\r\n                <i class=\"ss-down emailDirectionIcon\" *ngIf=\"entry.received\"></i>\r\n              </span>\r\n                <span class=\"subject\">{{entry.subject}}</span>\r\n              </button>\r\n              <span *ngIf=\"viewModel.detailed\" class=\"details\">\r\n                <span class=\"senderReceiver\" my-tooltip=\"{text: entry.senderReceiverAddress, position: 'top'}\">{{entry.senderReceiverName}}</span><!--\r\n             --><span class=\"separator\">|</span><!--\r\n             --><span class=\"created\"><my-time-summary [time]=\"entry.created\"></my-time-summary></span>\r\n              </span>\r\n            </span>\r\n            <button class=\"deleteButton\" *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" (click)=\"viewModel.onDelete(entry)\"><i class=\"ss-trash\"></i></button>\r\n          </div>\r\n\r\n          <div class=\"unknownInfo\" *ngIf=\"entry.entryType == 'unknown'\">\r\n            <i class=\"ss-help\"></i>\r\n            <span>{{entry.variableTypeName}}</span>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div ng-hide=\"!viewModel.editable || !viewModel.addRemoveEnabled\" class=\"uploadSection\">\r\n        <div class=\"dropAreaGlass\"></div>\r\n\r\n        <button class=\"uploadButton\" tabindex=\"0\"\r\n                my-tooltip=\"{position: 'top', i18n: 'screen_attachment_select_or_drop', enabled: !viewModel.detailed}\">\r\n          <i class=\"ss-upload\"></i><span class=\"uploadLabel\"\r\n                                         *ngIf=\"viewModel.detailed\">{{'screen_attachment_select_or_drop' | i18n}}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import {Component, Input, OnDestroy, OnInit, ViewContainerRef} from \"@angular/core\";\r\nimport {\r\n  FileInfoViewModel, RefIdInContext,\r\n  SingleAttachmentInputComponentDefinition,\r\n  SingleAttachmentInputComponentViewModel\r\n} from \"@screens\";\r\nimport {LibrariesService} from \"../../../shared/libraries/libraries.service\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {SimpleFileUploaderController} from \"@libs/simpleFileUploaderController/SimpleFileUploaderController\";\r\nimport {UploadFormFileResponse, UploadFormFileSuccess} from \"@libs/simpleFileUploaderController/Messages\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\nimport {prettySize} from \"@libs/time/Size\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\n\r\ndeclare const qq: any;\r\n@Component({\r\n  selector: 'my-single-attachment-input-component[viewModel]',\r\n  templateUrl: './single-attachment-input-component.component.html',\r\n  // styleUrls: ['./button-component.component.scss']\r\n})\r\nexport class SingleAttachmentInputComponentComponent implements OnInit, OnDestroy {\r\n  @Input() viewModel!: SingleAttachmentInputComponentViewModel;\r\n\r\n  maxFileSize = 10 * 1024 * 1024; // TODO Parametrize\r\n\r\n  uploadHandlerInitialized: boolean = false;\r\n  dropAreaInitialized = false;\r\n  fileUploadController: Option<SimpleFileUploaderController> = None();\r\n  dragAndDropModule: Option<any> = None();\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef,\r\n              private readonly librariesService: LibrariesService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.librariesService.loadFineUploader(() => {\r\n      setTimeout(() => {\r\n        this.initUploadHandler();\r\n\r\n        if(!this.dropAreaInitialized) {\r\n          const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n          const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n          this.dragAndDropModule.forEach(d => d.setupExtraDropzone(uploadDisplay));\r\n          this.dropAreaInitialized = true;\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n\r\n  initUploadHandler() {\r\n\r\n    this.uploadHandlerInitialized = true;\r\n\r\n    const uploadButtonSelector: HTMLElement = <HTMLElement>(<HTMLElement>this.viewContainerRef.element.nativeElement).querySelector(\".uploadButton\");\r\n\r\n    if(uploadButtonSelector === null) {\r\n      throw new Error(\"No uploadButton\")\r\n    } else {\r\n\r\n      this.fileUploadController = Some(new SimpleFileUploaderController(\r\n        'screen/add-file-to-model',\r\n              uploadButtonSelector,\r\n        \"\" /*organizationSessionInfo.sessionToken*/, this.viewModel.allowedExtensions, this.maxFileSize,\r\n              true,\r\n              (id: number, name: string, responseJSON: UploadFormFileResponse) => this.onFileUploadComplete(id, name, UploadFormFileSuccess.copy(<UploadFormFileSuccess>responseJSON)),\r\n              (id, fileName, instance) => this.onFileUpload(id, fileName, instance),\r\n              (file: {name: string, size: number}): boolean => this.onFileUploadValidate(file),\r\n              (id: any, name: any, reason: any, request: any) => this.onFileUploadError(id, name, reason, request),\r\n              (id: number, name: string, uploadedBytes: number, totalBytes: number) => this.onFileUploadProgress(id, name, uploadedBytes, totalBytes)));\r\n\r\n\r\n      this.dragAndDropModule = Some(new qq.DragAndDrop({\r\n        allowMultipleItems: true,\r\n        dropZoneElements: [],\r\n        classes: {\r\n          dropActive: \"fileDragged\"\r\n        },\r\n        callbacks: {\r\n          processingDroppedFiles: () => {\r\n            this.hideDropZone();\r\n          },\r\n          processingDroppedFilesComplete: (files: string | any[], dropTarget: any) => {\r\n            // 0 elements can appear for files with strange names on Chrome - dnd module of fine uploader uses\r\n            // webkitGetAsEntry method which does not work for strange file names\r\n            this.hideDropZone();\r\n            if(this.viewModel.editable && !this.viewModel.attachmentDefined) {\r\n              if (files.length == 1) {\r\n                this.fileUploadController.forEach(c => c.fineUploaderBasicInstance.addFiles(files)); //this submits the dropped files to Fine Uploader\r\n              } else if(files.length > 1) {\r\n                toastr.error(\"Multiple files not allowed\");\r\n              } else {\r\n                toastr.error(\"File name not allowed\");\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }));\r\n\r\n    }\r\n\r\n\r\n    this.initListeners();\r\n  }\r\n\r\n    private initListeners() {\r\n      document.addEventListener(\"dragover\", this.onDragOver);\r\n      document.addEventListener(\"dragleave\", this.onDragLeave);\r\n      document.addEventListener(\"drop\", this.onDrop);\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void {\r\n      document.removeEventListener(\"dragover\", this.onDragOver);\r\n      document.removeEventListener(\"dragleave\", this.onDragLeave);\r\n      document.removeEventListener(\"drop\", this.onDrop);\r\n    }\r\n\r\n    onDragOver = (e: Event) => {\r\n      if (this.viewModel.editable) {\r\n        const dt = (<DragEvent>e).dataTransfer;\r\n        if (dt !== null && dt.types && (dt.types.indexOf ? dt.types.indexOf('Files') != -1 : __(<Array<string>>dt.types).contains('Files'))) {\r\n          this.showDropZone()\r\n        }\r\n      }\r\n    };\r\n\r\n    onDragLeave = (e: Event) => {\r\n      if ((<DragEvent>e).relatedTarget == null) { //moves outside window, otherwise it's other elementthat can handle drop\r\n        this.hideDropZone();\r\n      }\r\n    };\r\n\r\n\r\n    onDrop = (e: Event) => {\r\n      this.hideDropZone();\r\n    };\r\n\r\n    showDropZone() {\r\n      const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n      const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n\r\n      if(uploadDisplay !== null) {\r\n        uploadDisplay.classList.add(\"fileDropZone\");\r\n      }\r\n    }\r\n\r\n    hideDropZone() {\r\n      const element = <HTMLElement>this.viewContainerRef.element.nativeElement;\r\n      const uploadDisplay = element.querySelector(\".fileUploadDisplay\")\r\n      if(uploadDisplay !== null) {\r\n        uploadDisplay.classList.remove(\"fileDropZone\");\r\n        uploadDisplay.classList.remove(\"fileDragged\");\r\n      }\r\n    }\r\n\r\n      onFileUploadComplete(uploadId: number, name: string, responseJSON: UploadFormFileSuccess){\r\n        this.hideDropZone();\r\n        this.viewModel.fileUploadCompleted(uploadId, responseJSON.fileUri);\r\n      }\r\n\r\n      onFileUploadProgress(uploadId: number, name: string, uploadedBytes: number, totalBytes: number){\r\n        this.hideDropZone();\r\n        this.viewModel.fileUploadProgress(uploadId, uploadedBytes, totalBytes);\r\n      }\r\n\r\n      onFileUploadError(uploadId: number, name: string, reason: string, request: any){\r\n        this.hideDropZone();\r\n        toastr.error(reason);\r\n        this.viewModel.fileUploadError(uploadId);\r\n        console.log(reason); // seems to be called for correct upload\r\n      }\r\n\r\n      onFileUploadValidate(file: {name: string, size: number}){\r\n        this.hideDropZone();\r\n\r\n        if(!this.viewModel.editable) {\r\n          toastr.error(\"You are not allowed to upload to read only field\");\r\n          return false;\r\n        } else if(file.size == 0) {\r\n          toastr.error(\"You are not allowed to upload empty file\");\r\n          return false;\r\n        } else if(file.size > this.maxFileSize) {\r\n          toastr.error(\"File is too large, max allowed file size is \"+prettySize(this.maxFileSize));\r\n          return false;\r\n        } else if(!this.viewModel.extensionValid(file.name)){\r\n          toastr.error(\"File type not allowed for file \"+file.name+\", allowed: \"+this.viewModel.allowedExtensions.join(\", \"));\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n\r\n\r\n      onFileUpload(id: number, fileName: string, fineUploaderBasicInstance: any){\r\n\r\n        this.hideDropZone();\r\n\r\n        // TODO for now versioning is disabled\r\n        // if(previousFile.isDefined()) {\r\n        //   fineUploaderBasicInstance.setParams({\r\n        //     aggregateId: taskInfo .flowId.id,\r\n        //     taskId: taskInfo.taskId.id,\r\n        //     flowCursorVersion: taskInfo.cursorVersion,\r\n        //     sectionId: scope.viewModel.sectionId.id,\r\n        //     fieldId: scope.viewModel.elementId.id,\r\n        //     fileUri: previousFile.get().uri.serialize(),\r\n        //     version: previousFile.get().version\r\n        //   });\r\n        // } else {\r\n        fineUploaderBasicInstance.setParams({\r\n          mode: \"put\",\r\n          instanceId: this.viewModel.instanceId.id,\r\n          refsPath: this.serializeRefsPath(this.viewModel.componentRefPath()),\r\n          modelName: SingleAttachmentInputComponentDefinition.MODEL,\r\n        });\r\n        // }\r\n\r\n        this.viewModel.newFileUploadStarted(id, fileName);\r\n      }\r\n\r\n      serializeRefsPath(path: Array<RefIdInContext>): string {\r\n        return path.map(r => r.refId.screenId+\"_\"+r.refId.id+\"_\"+r.contextId.id).join(\";\");\r\n      }\r\n\r\n      cancelUpload = (fileInfo: FileInfoViewModel) => {\r\n        this.hideDropZone();\r\n        this.fileUploadController.forEach(c => c.cancelUpload(fileInfo.uploadId));\r\n        this.viewModel.onCancel();\r\n      };\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody SingleAttachmentInputComponent {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\" [style]=\"viewModel.combinedCss\"\r\n     [ngClass]=\"{minimal: viewModel.minimal, disabled: !viewModel.editable, preview: viewModel.preview, validationError: viewModel.validationError}\">\r\n  <div class=\"dragArea\">\r\n    <div class=\"inputHeader\" *ngIf=\"viewModel.anchorVisible\"><i class=\"ss-attach\"></i></div>\r\n    <div class=\"fileUploadDisplay\">\r\n\r\n      <div class=\"filesContainer\">\r\n\r\n        <div class=\"singleAttachment\" *ngIf=\"viewModel.attachmentDefined\">\r\n\r\n          <div *ngIf=\"$any(viewModel.attachmentInfo) != null\">\r\n\r\n            <div class=\"directoryInfo\" *ngIf=\"$any(viewModel.attachmentInfo).entryType == 'directory'\">\r\n              Directory\r\n              <span>{{$any(viewModel.attachmentInfo).name}}</span>\r\n            </div>\r\n\r\n            <div class=\"fileInfo\" *ngIf=\"$any(viewModel.attachmentInfo).entryType == 'file'\">\r\n\r\n              <div class=\"uploadProgress\" *ngIf=\"$any(viewModel.attachmentInfo).uploadInProgress\" ng-style=\"{width: $any(viewModel.attachmentInfo).uploadProgressPercentage}\"></div>\r\n\r\n              <div *ngIf=\"!$any(viewModel.attachmentInfo).uploadInProgress\">\r\n\r\n                <a *ngIf=\"$any(viewModel.attachmentInfo).exists\" onclick=\"return false;\" href=\"{{$any(viewModel.attachmentInfo).downloadUrl}}\"\r\n                   (click)=\"viewModel.toggleFileViewerVisibility()\" class=\"fileName\">\r\n                  <i class=\"ss-file fileIcon\"></i><span class=\"nameOnly\">{{$any(viewModel.attachmentInfo).visibleName}}</span>\r\n                </a>\r\n\r\n                <span *ngIf=\"!$any(viewModel.attachmentInfo).exists\" class=\"fileName\">\r\n                  <i class=\"ss-file fileIcon\"></i><span class=\"nameOnly\">{{$any(viewModel.attachmentInfo).visibleName}}</span>\r\n                </span>\r\n\r\n                <span *ngIf=\"$any(viewModel.attachmentInfo).exists && viewModel.detailed\" class=\"details\">\r\n                  <span>{{$any(viewModel.attachmentInfo).size | myFileSizeFormat}}</span>\r\n                  <span class=\"separator\">|</span>\r\n                  <span *ngIf=\"$any(viewModel.attachmentInfo).version > 1\">version {{$any(viewModel.attachmentInfo).version}}</span>\r\n                  <span *ngIf=\"$any(viewModel.attachmentInfo).version > 1\" class=\"separator\">|</span>\r\n                  <my-time-summary [time]=\"$any(viewModel.attachmentInfo).modified\"></my-time-summary>\r\n                </span>\r\n\r\n                <button *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" class=\"deleteButton\" (click)=\"viewModel.onClear()\"><i class=\"ss-trash\"></i></button>\r\n\r\n              </div>\r\n\r\n              <div class=\"uploadInfo\" *ngIf=\"$any(viewModel.attachmentInfo).entryType == 'file' && $any(viewModel.attachmentInfo).uploadInProgress\">\r\n\r\n                <span *ngIf=\"$any(viewModel.attachmentInfo).exists\" class=\"fileName\">\r\n                  <i class=\"ss-file fileIcon\"></i>{{$any(viewModel.attachmentInfo).name}}\r\n                </span>\r\n\r\n                  <span *ngIf=\"$any(viewModel.attachmentInfo).exists && $any(viewModel.attachmentInfo).size > 0\">\r\n                  <span class=\"uploadedSize\">{{$any(viewModel.attachmentInfo).uploadedSize | myFileSizeFormat}}</span> / {{$any(viewModel.attachmentInfo).size | myFileSizeFormat}}\r\n                </span>\r\n\r\n                <button class=\"cancelButton\" (click)=\"cancelUpload($any(viewModel.attachmentInfo))\"><i class=\"ss-delete\"></i></button>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class=\"flowInfo\" *ngIf=\"$any(viewModel.attachmentInfo).entryType == 'flow'\">\r\n            <button class=\"namePart\" (click)=\"$any(viewModel.attachmentInfo).toggleNavigationVisibility()\">\r\n              <span class=\"flowCode\" my-tooltip=\"{text: $any(viewModel.attachmentInfo).processName + ' ' +$any(viewModel.attachmentInfo).caseName, enabled: viewModel.minimal}\">\r\n                  <i class=\"ss-fork flowIcon\"></i>\r\n                  <span class=\"code\">{{$any(viewModel.attachmentInfo).code}}</span>\r\n                </span>\r\n              <span class=\"processName\" *ngIf=\"viewModel.detailed\">{{$any(viewModel.attachmentInfo).processName}}</span>\r\n              <span class=\"caseName\" *ngIf=\"viewModel.detailed\">{{$any(viewModel.attachmentInfo).caseName}}</span>\r\n            </button>\r\n            <span class=\"details\" *ngIf=\"viewModel.detailed\">\r\n              <span class=\"processStatus\" *ngIf=\"$any(viewModel.attachmentInfo).inProgress\">{{'screen_flow_in_progress' | i18n}}</span>\r\n              <span class=\"processStatus\" *ngIf=\"$any(viewModel.attachmentInfo).completed\">{{'screen_flow_completed' | i18n}}</span>\r\n              <span class=\"processStatus\" *ngIf=\"$any(viewModel.attachmentInfo).terminated\">{{'screen_flow_terminated' | i18n}}</span>\r\n            </span>\r\n\r\n            <button *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" class=\"deleteButton\" (click)=\"viewModel.onClear()\"><i class=\"ss-trash\"></i></button>\r\n\r\n          </div>\r\n\r\n<!--          <my-flow-navigation-popup *ngIf=\"!$any(viewModel.attachmentInfo).placeholder && $any(viewModel.attachmentInfo).entryType == 'flow' && $any(viewModel.attachmentInfo).navigationVisible\" view-model='$any(viewModel.attachmentInfo).navigation'></my-flow-navigation-popup>-->\r\n\r\n          <div class=\"emailInfo\" *ngIf=\"$any(viewModel.attachmentInfo).entryType == 'email'\">\r\n            <span *ngIf=\"!$any(viewModel.attachmentInfo).exists\" class=\"emailData\">\r\n                <span class=\"emailIcon\">\r\n                  <i class=\"ss-mail mainEmailIcon\"></i>\r\n                </span>\r\n                <span class=\"subject\">Email deleted</span>\r\n              </span>\r\n            <span *ngIf=\"$any(viewModel.attachmentInfo).exists\" class=\"emailData\">\r\n<!--               <button class=\"namePart\" (click)=\"viewModel.toggleEmailViewerVisibility()\">-->\r\n<!--                  <span class=\"emailIcon\">-->\r\n<!--                    <i class=\"ss-mail mainEmailIcon\"></i>-->\r\n<!--                    <i class=\"ss-up emailDirectionIcon\" *ngIf=\"!$any(viewModel.attachmentInfo).received\"></i>-->\r\n<!--                    <i class=\"ss-down emailDirectionIcon\" *ngIf=\"$any(viewModel.attachmentInfo).received\"></i>-->\r\n<!--                  </span>-->\r\n<!--                  <span class=\"subject\">{{$any(viewModel.attachmentInfo).subject}}</span>-->\r\n<!--               </button>-->\r\n                <span *ngIf=\"viewModel.detailed\" class=\"details\">\r\n                  <span class=\"senderReceiver\" my-tooltip=\"{text: $any(viewModel.attachmentInfo).senderReceiverAddress, position: 'top'}\">{{$any(viewModel.attachmentInfo).senderReceiverName}}</span><!--\r\n               --><span class=\"separator\">|</span><!--\r\n               --><span class=\"created\"><my-time-summary [time]=\"$any(viewModel.attachmentInfo).created\"></my-time-summary></span>\r\n                </span>\r\n              </span>\r\n\r\n            <button *ngIf=\"viewModel.editable && viewModel.addRemoveEnabled\" class=\"deleteButton\" (click)=\"viewModel.onClear()\"><i class=\"ss-trash\"></i></button>\r\n\r\n          </div>\r\n\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div *ngIf=\"!viewModel.attachmentDefined && viewModel.editable && viewModel.addRemoveEnabled\" class=\"uploadSection\">\r\n        <div class=\"dropAreaGlass\"></div>\r\n\r\n        <button class=\"uploadButton\" tabindex=\"0\" my-tooltip=\"{position: 'top', i18n: 'screen_attachment_select_or_drop', enabled: !viewModel.detailed}\"><i class=\"ss-upload\"></i><span class=\"uploadLabel\" *ngIf=\"viewModel.detailed\">{{'screen_attachment_select_or_drop' | i18n}}</span></button>\r\n      </div>\r\n      <div *ngIf=\"viewModel.attachmentDefined && $any(viewModel.attachmentInfo).entryType == 'file' && !$any(viewModel.attachmentInfo).uploadInProgress && $any(viewModel.attachmentInfo).exists\" class=\"downloadSection\">\r\n        <a class=\"downloadButton\" href=\"{{$any(viewModel.attachmentInfo).downloadUrl}}\"><i class=\"ss-download\"></i></a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import {\r\n  BackgroundsProperties,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  I18nTextProperty,\r\n  OptionalI18nTextProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextAlign,\r\n  TextsProperties,\r\n  TextVerticalAlign\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {None, Option} from \"@libs/Option\";\r\n\r\nexport class ButtonComponentRef extends ScreenComponentRef {\r\n  static className = \"ButtonComponentRef\";\r\n  className() {\r\n    return ButtonComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: ButtonComponentRef): ButtonComponentRef {\r\n    return new ButtonComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"ButtonComponentRef\", DefaultPropertyProvider.ref);\r\n  override defaultPropertiesProvider = ButtonComponentRef.DEFAULT_PROPERTIES;\r\n\r\n\r\n  override createDefaultDefinition(id: ScreenComponentId): ScreenComponentDefinition {\r\n    return new ButtonComponentDefinition(id, None(), ComponentProperties.empty(), new ComponentActionProperties([]), new ComponentValidationRules([]));\r\n  }\r\n}\r\n\r\nexport class ButtonComponentDefinition extends ScreenComponentDefinition {\r\n\r\n  static className = \"ButtonComponentDefinition\";\r\n  className() {\r\n    return ButtonComponentDefinition.className;\r\n  }\r\n\r\n  typeName() {\r\n    return \"Button\";\r\n  }\r\n\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              readonly actionProperties: ComponentActionProperties,\r\n              override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules, ButtonComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  get text(): I18nTextProperty {return this.properties.getI18nTextProperty(\"text\", this.defaultPropertiesProvider)};\r\n\r\n  get tooltip(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"tooltip\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: ButtonComponentDefinition): ButtonComponentDefinition {\r\n    return new ButtonComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"ButtonComponentDefinition\",\r\n    (name: string) => {\r\n    switch (name) {\r\n      case \"text\": return I18nTextProperty.of(I18nText.ofCurrent(\"?\"));  // fills missing text iif deprecated label was set\r\n      case \"textAlign\": return StringProperty.of(TextAlign.center.name);\r\n      case \"textVerticalAlign\": return StringProperty.of(TextVerticalAlign.center.name);\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n\r\n  override displayName(): string {\r\n    return (this.text.settingsUnwrapped().toSettingsType().isStaticValue() ? this.text.staticValue.getCurrentWithFallback() : \"\");\r\n  }\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {ScreenComponentRefState, ScreenComponentState} from \"../../model/ComponentStateModel\";\r\n\r\n\r\nexport class ButtonComponentState extends ScreenComponentState {\r\n  static className = \"ButtonComponentState\";\r\n\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  className() {\r\n    return ButtonComponentState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n\r\n  get text() {\r\n    return this.properties.i18nTextProperty(\"text\");\r\n  }\r\n\r\n  get tooltip() {\r\n    return this.properties.optionalI18nTextProperty(\"tooltip\");\r\n  }\r\n\r\n  static copy(other: ButtonComponentState) {\r\n    return new ButtonComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\nexport class ButtonComponentRefState extends ScreenComponentRefState {\r\n  static className = \"ButtonComponentRefState\";\r\n  className() {\r\n    return ButtonComponentRefState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: ButtonComponentRefState) {\r\n    return new ButtonComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\n","import {None} from \"@libs/Option\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {\r\n  BordersProperties,\r\n  ComponentViewModelUtils,\r\n  PaddingsProperties,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {ButtonComponentDefinition, ButtonComponentRef} from \"./ButtonComponentDefinition\";\r\nimport {ButtonComponentRefState, ButtonComponentState} from \"./ButtonComponentState\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class ButtonComponentViewModel extends ScreenComponentViewModel {\r\n\r\n  override typeName = \"Button\";\r\n\r\n    public text: string = \"\";\r\n    public tooltipText: string = \"\";\r\n    public tooltipEnabled: boolean = false;\r\n    public css: string = \"\";\r\n    public override inProgress = false;\r\n    public lastClick = -1;\r\n\r\n    static MINIMUM_CLICK_INTERVAL = 500;\r\n\r\n    get paddingsProperties(): PaddingsProperties {return new PaddingsProperties(\"\", this.definition.properties)};\r\n    get bordersProperties(): BordersProperties {return new BordersProperties(this.definition.properties)};\r\n    get textProperties(): TextsProperties {return new TextsProperties(this.definition.properties)};\r\n\r\n\r\n    constructor(override readonly shared: ScreenSharedViewModel,\r\n                override readonly parent: ScreenContainerViewModel|null,\r\n                readonly context: VariableId,\r\n                override readonly definition: ButtonComponentDefinition,\r\n                override readonly componentScreenId: string,\r\n                readonly ref: ButtonComponentRef,\r\n                override readonly refScreenId: string,\r\n                readonly componentState: ButtonComponentState,\r\n                readonly refState: ButtonComponentRefState,\r\n                readonly serverModel: ScreenInstanceServerModel,\r\n                ) {\r\n      super(parent, componentState, refState, definition, shared);\r\n      this.update();\r\n    }\r\n\r\n    onClick() {\r\n      const now = new Date().getTime();\r\n      if(!this.inProgress && now - this.lastClick > ButtonComponentViewModel.MINIMUM_CLICK_INTERVAL) {\r\n        this.inProgress = true;\r\n        this.lastClick = now;\r\n        this.serverModel.executeAction(this.componentRefPath(), \"onClick\")\r\n      }\r\n    }\r\n\r\n    updateComponent(deep: boolean) {\r\n      this.css =\r\n        ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.paddingsProperties, this.componentState.paddingsState) +\r\n        ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.bordersProperties, this.componentState.bordersState) +\r\n        ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n        ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider,this.textProperties, this.componentState.textState);\r\n\r\n      this.text = this.definition.text.currentValue(() => this.componentState.text).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n      const tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n\r\n      this.tooltipEnabled = tooltip.exists(t => t.trim().length > 0);\r\n      this.tooltipText = tooltip.getOrElse(\"\");\r\n\r\n      this.inProgress = this.componentState.properties.isActionInProgress(\"onClick\");\r\n      super.updatePosition();\r\n\r\n      this.css += this.sizeCss;\r\n    }\r\n\r\n  }\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {ButtonComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-button-component[viewModel]',\r\n  templateUrl: './button-component.component.html',\r\n  // styleUrls: ['./button-component.component.scss']\r\n})\r\nexport class ButtonComponentComponent {\r\n  @Input() viewModel!: ButtonComponentViewModel;\r\n\r\n}\r\n","<button class=\"componentBody ButtonComponent {{viewModel.cssClass}}\" [style]=\"viewModel.css\" [ngClass]=\"{inProgress: viewModel.inProgress}\"\r\n        [disabled]=\"!viewModel.editable\"\r\n        *ngIf=\"viewModel.uncoveredAndVisible\"  (click)=\"viewModel.onClick()\" my-tooltip=\"{text: viewModel.tooltipText, enabled: tooltipEnabled}\">{{viewModel.text}}</button>\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {ComponentLabelViewModel} from \"./ComponentLabelViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-component-label[viewModel]',\r\n  templateUrl: './component-label.component.html',\r\n  // styleUrls: ['./label-component.component.scss']\r\n})\r\nexport class ComponentLabelComponent {\r\n  @Input() viewModel!: ComponentLabelViewModel;\r\n\r\n}\r\n","<div class=\"screenComponentLabel {{viewModel.positionClass}}\" [style]=\"viewModel.css\" *ngIf=\"viewModel.visible\"\n     [ngClass]=\"{previewMode: viewModel.previewMode, validationError: viewModel.validationError}\">\n  <span class=\"labelText\">{{viewModel.label}}<span class=\"requiredIcon\" *ngIf=\"viewModel.requiredVisible\">*</span><!--\n  --><span class=\"ss-help tooltipIcon\"  *ngIf=\"viewModel.tooltip\"></span><!--\n  --></span>\n</div>\n\n\n<!--TODO-->\n\n<!--my-tooltip=\"{text: viewModel.tooltip, mobileVisibility: true}\"-->\n","import {\r\n  BackgroundsProperties,\r\n  BooleanProperty, BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider, InputComponentRef, LabelProperties,\r\n  OptionalBooleanProperty,\r\n  OptionalDateProperty,\r\n  OptionalI18nTextProperty, PaddingsProperties,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId, StringProperty, TextAlign, TextsProperties\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {LabeledValuesProperty} from \"../../\";\r\n\r\nexport class DateInputComponentRef extends InputComponentRef {\r\n  static className = \"DateInputComponentRef\";\r\n\r\n  className() {\r\n    return DateInputComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: DateInputComponentRef): DateInputComponentRef {\r\n    return new DateInputComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"DateInputRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = DateInputComponentRef.DEFAULT_PROPERTIES;\r\n\r\n}\r\n\r\nexport class DateInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n  static className = \"DateInputComponentDefinition\";\r\n\r\n  className() {\r\n    return DateInputComponentDefinition.className;\r\n  }\r\n\r\n  typeName() {\r\n    return \"DateInput\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,DateInputComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)};\r\n  get minValue(): OptionalDateProperty {return this.properties.getOptionalDateProperty(\"minValue\", this.defaultPropertiesProvider)};\r\n  get maxValue(): OptionalDateProperty {return this.properties.getOptionalDateProperty(\"maxValue\", this.defaultPropertiesProvider)};\r\n  get anchorVisible(): BooleanProperty {return this.properties.getBooleanProperty(\"anchorVisible\", this.defaultPropertiesProvider)};\r\n\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  static copy(other: DateInputComponentDefinition): DateInputComponentDefinition {\r\n    return new DateInputComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [DateInputComponentDefinition.MODEL];\r\n  }\r\n\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"DateInputDefinition\", (name: string) => {switch (name) {\r\n      case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n      case \"minValue\": return OptionalDateProperty.disabled();\r\n      case \"maxValue\": return OptionalDateProperty.disabled();\r\n      case \"textAlign\": return StringProperty.of(TextAlign.end.name);\r\n      case \"anchorVisible\": return BooleanProperty.ofTrue();\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState, LabeledScreenComponentState, LabelPropertiesState, PaddingsPropertiesState,\r\n  PropertiesStateHolder, ScreenComponentRefState,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {DateInputComponentDefinition} from \"./DateInputComponentDefinition\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {BusinessVariable, DateVariable} from \"@libs/ProcessVariables\";\r\n\r\nexport class DateInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"DateInputComponentState\";\r\n\r\n  className() {\r\n    return DateInputComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalDateProperty(DateInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get anchorVisible() {\r\n    return this.properties.booleanProperty(\"anchorVisible\");\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  get minValue() {\r\n    return this.properties.optionalDateProperty(\"minValue\");\r\n  }\r\n\r\n  get maxValue() {\r\n    return this.properties.optionalDateProperty(\"maxValue\");\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case DateInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get() instanceof DateVariable) {\r\n          this.properties.putValue(DateInputComponentDefinition.MODEL, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type Date but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(DateInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: DateInputComponentState) {\r\n    return new DateInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\nexport class DateInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"DateInputComponentRefState\";\r\n  className() {\r\n    return DateInputComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: DateInputComponentRefState) {\r\n    return new DateInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n","import {\r\n  ComponentViewModelUtils, ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel\r\n} from \"../ScreenComponentViewModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {LocalDate} from \"@libs/Types\";\r\nimport {ScreenSharedViewModel} from \"../../\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {DateInputComponentDefinition, DateInputComponentRef} from \"./DateInputComponentDefinition\";\r\nimport {DateInputComponentRefState, DateInputComponentState} from \"./DateInputComponentState\";\r\nimport {ScreenInstanceServerModel} from \"../../ScreenInstanceServerModel\";\r\nimport {DateVariable} from \"@libs/ProcessVariables\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ComponentsCommon} from \"../ComponentsModel\";\r\nimport {range} from \"@libs/Array\";\r\nimport {parseDateInputString} from \"../../../../../../../utils/time/Parsers\";\r\nimport {toFixedLengthString} from \"@libs/Strings\";\r\n\r\n\r\nexport class CalendarDay {\r\n  label: string;\r\n  value: LocalDate;\r\n  otherMonth: boolean;\r\n\r\n  constructor(label: string, value: LocalDate, otherMonth: boolean) {\r\n    this.label = label;\r\n    this.value = value;\r\n    this.otherMonth = otherMonth;\r\n  }\r\n}\r\n\r\nexport class CalendarWeek {\r\n  weekNr: number;\r\n  days: Array<CalendarDay>;\r\n\r\n  constructor(weekNr: number, days: Array<CalendarDay>) {\r\n    this.weekNr = weekNr;\r\n    this.days = days;\r\n  }\r\n}\r\n\r\nexport class DateInputPicker {\r\n  weeks: Array<CalendarWeek> = [];\r\n  private tempDate: LocalDate = LocalDate.nowDate();\r\n\r\n  constructor() {\r\n    this.prepareCalendar();\r\n  }\r\n\r\n  getTempDate() {\r\n    return this.tempDate;\r\n  }\r\n\r\n  setTempDate(other: LocalDate) {\r\n    this.tempDate = other;\r\n    this.prepareCalendar();\r\n  }\r\n\r\n  setPreviousMonth() {\r\n    if(this.tempDate.month > 1) {\r\n      this.setTempDate(new LocalDate(this.tempDate.year, this.tempDate.month - 1, 1));\r\n    } else {\r\n      this.setTempDate(new LocalDate(this.tempDate.year - 1, 12, 1));\r\n    }\r\n  }\r\n\r\n  setNextMonth() {\r\n    if(this.tempDate.month < 12) {\r\n      this.setTempDate(new LocalDate(this.tempDate.year, this.tempDate.month + 1, 1));\r\n    } else {\r\n      this.setTempDate(new LocalDate(this.tempDate.year + 1, 1, 1));\r\n    }\r\n  }\r\n\r\n  prepareCalendar() {\r\n    const year = this.tempDate.year;\r\n    const month = this.tempDate.month;\r\n    const weeks: Array<CalendarWeek> = [];\r\n\r\n    let currentIndex = 1;\r\n    let endIndex = LocalDate.daysInMonth(this.tempDate);\r\n\r\n    let endWeekDay = 0 // sunday\r\n    let daysInWeek = [];\r\n    let weekNr = 1;\r\n    while (currentIndex <= endIndex) {\r\n      let currentDate = new LocalDate(year, month, currentIndex);\r\n      daysInWeek.push(new CalendarDay(currentIndex.toString(), currentDate, false));\r\n\r\n      if(currentDate.weekDay() === endWeekDay || currentIndex === endIndex) {\r\n        weeks.push(new CalendarWeek(weekNr, daysInWeek));\r\n        daysInWeek = [];\r\n        weekNr += 1;\r\n      }\r\n      currentIndex += 1;\r\n    }\r\n\r\n    if(weeks[0].days.length < 7) {\r\n      const firstDate = weeks[0].days[0].value;\r\n      range(7-weeks[0].days.length).forEach(nr => {\r\n        const prevDate = firstDate.addDays(-nr - 1);\r\n        weeks[0].days.unshift(new CalendarDay(prevDate.day.toString(), prevDate, true));\r\n      })\r\n    }\r\n\r\n    if(weeks[weeks.length-1].days.length < 7) {\r\n      const lastDate = weeks[weeks.length-1].days[weeks[weeks.length-1].days.length - 1].value;\r\n      range(7-weeks[weeks.length-1].days.length).forEach(nr => {\r\n        const nextDate = lastDate.addDays(nr + 1);\r\n        weeks[weeks.length-1].days.push(new CalendarDay(nextDate.day.toString(), nextDate, true));\r\n      })\r\n    }\r\n\r\n    this.weeks = weeks;\r\n  }\r\n\r\n}\r\n\r\nexport class DateInputComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"DateInput\";\r\n\r\n  public value: Option<LocalDate> = Option.NoneSingleton;\r\n  public model: string|undefined;\r\n  public readableModel: string|undefined;\r\n\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public outsideCss: string = \"\";\r\n  public innerCss: string = \"\";\r\n  public required: boolean = true;\r\n\r\n  public pickerVisible: boolean = false;\r\n  public anchorVisible: boolean = false;\r\n\r\n  public combinedCss = \"\";\r\n\r\n  public minValue: Option<LocalDate> = Option.NoneSingleton;\r\n  public maxValue: Option<LocalDate> = Option.NoneSingleton;\r\n\r\n  public dateInputPicker: DateInputPicker = new DateInputPicker();\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: DateInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: DateInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: DateInputComponentState,\r\n              readonly refState: DateInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n\r\n  private isEnabled(){\r\n    return this.editable;\r\n  }\r\n\r\n  onClick = () => {\r\n    if(this.isEnabled()) {\r\n      this.openPicker();\r\n    }\r\n  }\r\n\r\n  openPicker() {\r\n    if(this.value.isDefined()) {\r\n      this.dateInputPicker.setTempDate(this.value.get());\r\n    }\r\n    this.pickerVisible = true;\r\n  }\r\n\r\n  setValue(value: LocalDate) {\r\n    this.value.value = value;\r\n    this.updateModel();\r\n    this.closePicker();\r\n  }\r\n\r\n  parseModel() {\r\n    if (!this.model || this.model.trim().length == 0) return;\r\n    const date = parseDateInputString(this.model);\r\n    this.model = toFixedLengthString(date.getDate(), 2)\r\n      + '-' + toFixedLengthString(date.getMonth() + 1, 2)\r\n      + '-' + toFixedLengthString(date.getFullYear(), 4);\r\n  }\r\n\r\n  isSelected(dateSelected: LocalDate) {\r\n    return this.value.isDefined() && this.value.get().isEqual(dateSelected);\r\n  }\r\n\r\n  updateModel() {\r\n    const date = this.value.get().toDate();\r\n    this.model = toFixedLengthString(date.getDate(), 2)\r\n      + '-' + toFixedLengthString(date.getMonth() + 1, 2)\r\n      + '-' + toFixedLengthString(date.getFullYear(), 4);\r\n  }\r\n\r\n  closePicker = () => {\r\n    this.pickerVisible = false;\r\n    this.onChange();\r\n\r\n    const correct = LocalDate.of(this.model).isSuccess();\r\n    if (!correct) {\r\n      this.model = undefined;\r\n      this.readableModel = undefined;\r\n    }\r\n    this.updateValueChanged();\r\n    if (correct) {\r\n      this.readableModel = this.value.map(f => f.formattedShortWords()).getOrUndefined();\r\n    }\r\n  }\r\n\r\n  onChange = () => {\r\n    if (this.model == undefined || this.model.trim().length === 0) {\r\n      this.model = undefined;\r\n      this.readableModel = undefined;\r\n    }\r\n  };\r\n\r\n  onBlur = () => {\r\n    this.parseModel();\r\n    this.closePicker();\r\n  };\r\n\r\n  setEmpty = () => {\r\n    this.model = undefined;\r\n    this.readableModel = undefined;\r\n    this.closePicker();\r\n  };\r\n\r\n  setToday = () => {\r\n    const nowDate = LocalDate.nowDate();\r\n    this.model = nowDate.formatted();\r\n    this.readableModel = nowDate.formattedShortWords();\r\n    this.closePicker();\r\n  };\r\n\r\n  setYesterday = () => {\r\n    const yesterdayDate = new Date();\r\n    yesterdayDate.setDate(yesterdayDate.getDate() - 1);\r\n    const yesterday = LocalDate.fromDate(yesterdayDate);\r\n    this.model = yesterday.formatted();\r\n    this.readableModel = yesterday.formattedShortWords();\r\n    this.closePicker();\r\n  };\r\n\r\n  getCurrentValue(): Option<LocalDate> {\r\n    if(this.model && (<string>this.model).trim().length > 0) {\r\n      const date = LocalDate.of(this.model);\r\n      if(date.isSuccess()) {\r\n        return Some(date.result);\r\n      }\r\n    }\r\n    return Option.NoneSingleton;\r\n  };\r\n\r\n  updateValueChanged() {\r\n    if(this.editable) {\r\n      this.value = this.getCurrentValue();\r\n\r\n      if(this.value.isEmpty()) {\r\n        this.componentState.updateModel(DateInputComponentDefinition.MODEL, None());\r\n        this.serverModel.clearModelWithAction(this.componentRefPath(), DateInputComponentDefinition.MODEL, DateInputComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        this.componentState.updateModel(DateInputComponentDefinition.MODEL, Some(new DateVariable(this.value.get())));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), DateInputComponentDefinition.MODEL, new DateVariable(this.value.get()), DateInputComponentDefinition.ON_CHANGE);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.outsideCss = ComponentViewModelUtils.toSizeCss(this.definition.sizeProperties, this.componentState.boxState) +\r\n      ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n\r\n    this.innerCss = ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(Option.NoneSingleton).map(t => t.getCurrentWithFallback());\r\n    this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(Option.NoneSingleton).getOrElse(I18nText.ofCurrent(\"dd-mm-yyyy\")).getCurrentWithFallback();\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.minValue = this.definition.minValue.currentValue(() => this.componentState.minValue).valueOrDefault(Option.NoneSingleton);\r\n    this.maxValue = this.definition.maxValue.currentValue(() => this.componentState.maxValue).valueOrDefault(Option.NoneSingleton);\r\n\r\n    this.anchorVisible = this.definition.anchorVisible.currentValue(() => this.componentState.anchorVisible).valueOrDefault(false);\r\n\r\n    this.value = this.componentState.model.valueOrDefault(Option.NoneSingleton);\r\n    this.model = this.value.map(d => d.formatted()).getOrUndefined();\r\n    this.readableModel = this.value.map(d => d.formattedShortWords()).getOrUndefined();\r\n\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(Option.NoneSingleton);\r\n    this.innerCss += ComponentsCommon.innerShadowCss(innerShadow);\r\n\r\n    super.updatePosition();\r\n\r\n    this.combinedCss = this.outsideCss + this.sizeCss;\r\n  }\r\n\r\n}\r\n","import {Component, ElementRef, Input, OnDestroy, ViewChild, ViewContainerRef} from \"@angular/core\";\r\nimport {DateInputComponentViewModel} from \"@screens\";\r\nimport {onFormFocusLost} from \"@libs/Dom\";\r\n\r\n@Component({\r\n  selector: 'my-date-input-component[viewModel]',\r\n  templateUrl: './date-input-component.component.html',\r\n  // styleUrls: ['./date-input-component.component.scss']\r\n})\r\n\r\nexport class DateInputComponentComponent implements OnDestroy {\r\n  @Input() viewModel!: DateInputComponentViewModel;\r\n\r\n  @ViewChild(\"DateInputComponent\") container: ElementRef<HTMLElement>|undefined;\r\n  @ViewChild(\"dateInputPopup\") dropListPopup: ElementRef<HTMLElement>|undefined;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  onDropMenuOpened(popup: HTMLElement) {\r\n    if(this.container == null) {\r\n      throw new Error(\"No container\");\r\n    } else {\r\n      onFormFocusLost([this.container.nativeElement, <HTMLElement>popup], this.viewModel.closePicker);\r\n    }\r\n  }\r\n}\r\n\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div #DateInputComponent class=\"componentBody DateInputComponent {{viewModel.cssClass}} DateInputCommon\" [style]=\"viewModel.combinedCss\" *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     [ngClass]=\"{disabled: !viewModel.editable, preview: viewModel.preview, tableCellMode: viewModel.tableCellMode, validationError: viewModel.validationError}\">\r\n  <span class=\"inputHeader\" *ngIf=\"viewModel.anchorVisible\"><span class=\"calendarIcon\"><i class=\"ss-clock\"></i></span></span><!--\r\n  --><input type=\"text\"\r\n            class=\"input dateInput\"\r\n            [style]=\"viewModel.innerCss\"\r\n            [placeholder]=\"viewModel.placeholder\"\r\n            [(ngModel)]=\"viewModel.readableModel\"\r\n            (click)=\"viewModel.onClick()\"\r\n            [disabled]=\"!viewModel.editable\"\r\n            *ngIf=\"!viewModel.pickerVisible\"><!--\r\n\r\n  --><input type=\"text\"\r\n            class=\"input dateInput\"\r\n            [style]=\"viewModel.innerCss\"\r\n            [placeholder]=\"viewModel.placeholder\"\r\n            [(ngModel)]=\"viewModel.model\"\r\n            (ngModelChange)=\"viewModel.onChange()\"\r\n            (keydown.enter)=\"viewModel.onBlur()\"\r\n            [disabled]=\"!viewModel.editable\"\r\n            *ngIf=\"viewModel.pickerVisible\">\r\n\r\n  <my-drop-menu [cssClass]=\"'dateInputPopup'\" [visible]=\"viewModel.pickerVisible\" [anchor]=\"DateInputComponent\" (opened)=\"onDropMenuOpened($event)\">\r\n    <div class=\"actions\">\r\n      <button class=\"actionButton\" (click)=\"viewModel.setYesterday()\">{{'common_days_yesterday' | i18n}}</button>\r\n      <button class=\"actionButton\" (click)=\"viewModel.setToday()\">{{'common_days_today' | i18n}}</button>\r\n      <button class=\"actionButton\" (click)=\"viewModel.setEmpty()\">{{'common_clear' | i18n}}</button>\r\n    </div>\r\n    <div class=\"calendar\">\r\n      <div class=\"calendarHeader\">\r\n        <button class=\"prevMonthButton\" (click)=\"viewModel.dateInputPicker.setPreviousMonth()\"><</button>\r\n        <button class=\"currentValueButton\">{{'date_month_get_' + viewModel.dateInputPicker.getTempDate().month | i18n}} {{viewModel.dateInputPicker.getTempDate().year}}</button>\r\n        <button class=\"nextMonthButton\" (click)=\"viewModel.dateInputPicker.setNextMonth()\">></button>\r\n      </div>\r\n      <div class=\"calendarContent\">\r\n        <div class=\"weeksHeader\">\r\n          <span *ngFor=\"let weekDayNr of [1,2,3,4,5,6,0]\">{{'date_weekday_short_'+weekDayNr | i18n}}.</span>\r\n        </div>\r\n        <div class=\"weeksContent\">\r\n          <div class=\"week\" *ngFor=\"let week of viewModel.dateInputPicker.weeks ; index as w\">\r\n            <ng-container *ngFor=\"let day of week.days ; index as d\">\r\n              <button class=\"dayButton\" [ngClass]=\"{selected: viewModel.isSelected(day.value), other: day.otherMonth}\" (click)=\"viewModel.setValue(day.value)\">{{day.label}}</button>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </my-drop-menu>\r\n</div>\r\n","import {\r\n  BackgroundsProperties,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefId,\r\n  StringProperty\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class HtmlComponentRef extends ScreenComponentRef {\r\n  static className = \"HtmlComponentRef\";\r\n  className() {\r\n    return HtmlComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: HtmlComponentRef): HtmlComponentRef {\r\n    return new HtmlComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"HtmlComponentRef\", DefaultPropertyProvider.ref);\r\n  override defaultPropertiesProvider = HtmlComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class HtmlComponentDefinition extends ScreenComponentDefinition {\r\n\r\n  static className = \"HtmlComponentDefinition\";\r\n  className() {\r\n    return HtmlComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Html\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules, HtmlComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get html(): StringProperty {return this.properties.getStringProperty(\"html\", this.defaultPropertiesProvider)};\r\n\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  static copy(other: HtmlComponentDefinition): HtmlComponentDefinition {\r\n    return new HtmlComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"HtmlComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {ScreenComponentRefState, ScreenComponentState} from \"@screens\";\r\nimport {BackgroundsPropertiesState, BordersPropertiesState, PropertiesStateHolder} from \"@screens\";\r\n\r\nexport class HtmlComponentState extends ScreenComponentState {\r\n  static className = \"HtmlComponentState\";\r\n  className() {\r\n    return HtmlComponentState.className;\r\n  }\r\n\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get html() {\r\n    return this.properties.stringProperty(\"html\");\r\n  }\r\n\r\n  static copy(other: HtmlComponentState) {\r\n    return new HtmlComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class HtmlComponentRefState extends ScreenComponentRefState {\r\n  static className = \"HtmlComponentRefState\";\r\n  className() {\r\n    return HtmlComponentRefState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: HtmlComponentRefState) {\r\n    return new HtmlComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n","import {ScreenComponentViewModel, ScreenContainerViewModel} from \"@screens\";\r\nimport {HtmlComponentDefinition, HtmlComponentRef} from \"@screens\";\r\nimport {ComponentErrorInfo} from \"@screens\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {HtmlComponentRefState, HtmlComponentState} from \"@screens\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class HtmlComponentViewModel extends ScreenComponentViewModel {\r\n\r\n  override typeName = \"Html\";\r\n\r\n\r\n  public html: string = \"\";\r\n  public css: string = \"\";\r\n\r\n  override errors: Array<ComponentErrorInfo> = [];\r\n\r\n  constructor(\r\n    override readonly shared: ScreenSharedViewModel,\r\n    override readonly parent: ScreenContainerViewModel|null,\r\n    readonly context: VariableId,\r\n    override readonly definition: HtmlComponentDefinition,\r\n    override readonly componentScreenId: string,\r\n    readonly ref: HtmlComponentRef,\r\n    override readonly refScreenId: string,\r\n    readonly componentState: HtmlComponentState,\r\n    readonly refState: HtmlComponentRefState,\r\n    readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.update();\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.css = \"\";\r\n    this.html = this.definition.html.currentValue(() => this.componentState.html).valueOrDefault(\"\");\r\n    super.updatePosition();\r\n  }\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {HtmlComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-html-component[viewModel]',\r\n  templateUrl: './html-component.component.html',\r\n  // styleUrls: ['./html-component.component.scss']\r\n})\r\nexport class HtmlComponentComponent {\r\n  @Input() viewModel!: HtmlComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentBody HtmlComponent {{viewModel.cssClass}}\"\r\n     *ngIf=\"viewModel.uncoveredAndVisible\" [style]=\"viewModel.css\" [innerHtml]=\"viewModel.html\">\r\n</div>\r\n","import {\r\n  BackgroundsProperties,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  OptionalBooleanProperty,\r\n  OptionalFileProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefId\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class ImageComponentRef extends ScreenComponentRef {\r\n  static className = \"ImageComponentRef\";\r\n  className() {\r\n    return ImageComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: ImageComponentRef): ImageComponentRef {\r\n    return new ImageComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"ImageComponentRef\", DefaultPropertyProvider.ref);\r\n  override defaultPropertiesProvider = ImageComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class ImageComponentDefinition extends ScreenComponentDefinition {\r\n\r\n  static className = \"ImageComponentDefinition\";\r\n  className() {\r\n    return ImageComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Image\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,ImageComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  get fileSource(): OptionalFileProperty {return this.properties.getOptionalFileProperty(\"fileSource\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: ImageComponentDefinition): ImageComponentDefinition {\r\n    return new ImageComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [];\r\n  }\r\n\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"ImageComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder\r\n} from \"@screens\";\r\nimport {ScreenComponentRefState, ScreenComponentState} from \"@screens\";\r\nimport {LabelComponentState} from \"../label/LabelComponentState\";\r\n\r\nexport class ImageComponentState extends ScreenComponentState {\r\n  static className = \"ImageComponentState\";\r\n  className() {\r\n    return LabelComponentState.className;\r\n  }\r\n\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  get fileSource() {\r\n    return this.properties.optionalFileProperty(\"fileSource\");\r\n  }\r\n\r\n  static copy(other: ImageComponentState) {\r\n    return new ImageComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class ImageComponentRefState extends ScreenComponentRefState {\r\n  static className = \"ImageComponentRefState\";\r\n  className() {\r\n    return LabelComponentState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: ImageComponentRefState) {\r\n    return new ImageComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\n\r\n","import {\r\n  ComponentViewModelUtils,\r\n  FileSource,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel\r\n} from \"@screens\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {ImageComponentRefState, ImageComponentState} from \"./ImageComponentState\";\r\nimport {ImageComponentDefinition, ImageComponentRef} from \"./ImageComponentDefinition\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None} from \"@libs/Option\";\r\n\r\nexport class ImageComponentViewModel extends ScreenComponentViewModel {\r\n\r\n  override typeName = \"Image\";\r\n\r\n  public fileSource!: FileSource;\r\n  public css: string = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: ImageComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: ImageComponentRef,\r\n              override readonly refScreenId: string,\r\n              readonly componentState: ImageComponentState,\r\n              readonly refState: ImageComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.update();\r\n  }\r\n\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    let css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider,this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState);\r\n\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(None());\r\n    if(innerShadow.isDefined()) {\r\n      const outerShadowCss = ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n      css += innerShadow.get() ? \"box-shadow: \"+ outerShadowCss+\", inset 0 0.1rem 0.3rem rgba(0, 0, 0, 0.05);\" : \"box-shadow: \"+outerShadowCss+\", inset none;\";\r\n    }\r\n\r\n    const currentValueOption = this.definition.fileSource.currentValue(() => this.componentState.fileSource).valueOrDefault(None());\r\n\r\n    this.fileSource = new FileSource(\"\");\r\n\r\n    currentValueOption.forEach(currentValue => {\r\n      if(currentValue instanceof FileUri) {\r\n        this.fileSource = new FileSource(currentValue.serialize());\r\n      } else {\r\n        throw new Error(\"Unexpected current value type\");\r\n      }\r\n      if(this.fileSource.fileUri.isRepositoryFile()) {\r\n        this.fileSource.downloadUrl = this.serverModel.getFileDownloadUri(this.fileSource.fileUri);\r\n      } else if(this.fileSource.fileUri.isRepositoryFileId()) {\r\n        this.fileSource.downloadUrl = this.serverModel.getFileDownloadUri(this.fileSource.fileUri);\r\n      } else {\r\n        this.fileSource.downloadUrl = this.fileSource.url;\r\n      }\r\n    });\r\n\r\n\r\n    super.updatePosition();\r\n\r\n    this.css = css + this.sizeCss;\r\n  }\r\n\r\n\r\n}\r\n\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {ImageComponentViewModel} from \"./ImageComponentViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-image-component[viewModel]',\r\n  templateUrl: './image-component.component.html',\r\n  // styleUrls: ['./image-component.component.scss']\r\n})\r\nexport class ImageComponentComponent {\r\n  @Input() viewModel!: ImageComponentViewModel;\r\n\r\n}\r\n","<img class=\"componentBody ImageComponent {{viewModel.cssClass}}\" [ngClass]=\"{emptySource: !viewModel.fileSource.hasDownloadUrl()}\"\r\n     [src]=\"viewModel.fileSource.downloadUrl\"\r\n   *ngIf=\"viewModel.uncoveredAndVisible\"\r\n   [style]=\"viewModel.css\"/>\r\n","import {getElementWidth, getREMSize} from \"@libs/Elements\";\n\nexport interface InputWithUnitViewModel {\n  unitVisible: boolean;\n  uncoveredAndVisible: boolean;\n  textAlignCenter: boolean;\n}\n\nexport class UnitPaddingController {\n\n  private visible = true;\n\n  constructor(readonly viewModel: InputWithUnitViewModel,\n              readonly $container: HTMLElement) {\n  }\n\n  start() {\n    if (this.viewModel.unitVisible && this.viewModel.uncoveredAndVisible) {\n      requestAnimationFrame(() => {\n        this.adjustUnitPadding();\n      });\n    }\n  }\n\n\n  adjustUnitPadding() {\n    if(this.viewModel.uncoveredAndVisible) {\n\n      const $input = <HTMLElement>this.$container.querySelector(\".input\");\n\n      if($input === null) {\n        throw new Error(\"No input\");\n      } else if (!this.viewModel.textAlignCenter) {\n        const unitNameElement = this.$container.querySelector(\".unitName\");\n        const paddingRight = $input.getAttribute(\"padding-right\");\n        if(unitNameElement && paddingRight) {\n          const unitWidthRem = getElementWidth(unitNameElement) / getREMSize();\n          $input.style.paddingRight = \"calc(\"+paddingRight+\" + \"+unitWidthRem+\"rem)\";\n        } else if (paddingRight) {\n          $input.style.paddingRight = paddingRight;\n        }\n\n      }\n\n    }\n  }\n\n  onValueChanged() {\n    this.initAdjust();\n  }\n\n  initAdjust() {\n    if(this.viewModel.unitVisible && this.viewModel.uncoveredAndVisible) {\n      requestAnimationFrame(() => {\n        this.adjustUnitPadding();\n      });\n    }\n  }\n\n  destroy() {\n    this.visible = false;\n  }\n\n}\n","\r\nexport interface BlinkingValueComponentViewModel {\r\n\r\n  addValueChangeListener(valueChangeListener: () => void): void;\r\n}\r\n\r\nexport class BlinkingComponentController {\r\n\r\n  private lastTimeout: number = -1;\r\n\r\n  constructor(readonly $container: HTMLElement, readonly inputSelector: string,\r\n              readonly viewModel: BlinkingValueComponentViewModel) {\r\n    viewModel.addValueChangeListener(() => this.onValueChanged());\r\n  }\r\n\r\n  private onValueChanged() {\r\n\r\n    clearTimeout(this.lastTimeout);\r\n\r\n    this.lastTimeout = window.setTimeout(() => {\r\n      const $input = this.$container.querySelector(this.inputSelector);\r\n      if($input === null) {\r\n        throw new Error(\"No input found\");\r\n      } else {\r\n        $input.classList.remove(\"changed2\");\r\n        $input.classList.add(\"changed1\");\r\n        this.lastTimeout = window.setTimeout(() => {\r\n          $input.classList.remove(\"changed1\");\r\n          $input.classList.add(\"changed2\");\r\n          this.lastTimeout = window.setTimeout(() => {\r\n            $input.classList.remove(\"changed2\");\r\n          }, 3000);\r\n        }, 200);\r\n      }\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    clearTimeout(this.lastTimeout);\r\n  }\r\n}\r\n\r\n\r\n","import {NumberInputComponentViewModel} from \"./NumberInputComponentViewModel\";\r\nimport {decimalSeparator, nbspToSpace, thousandSeparator} from \"@libs/Internationalization\";\r\nimport {ChangeDetectorRef} from \"@angular/core\";\r\n\r\nexport class NumberInputComponentController {\r\n\r\n  previous = \"\";\r\n\r\n  constructor(readonly $input: HTMLElement,\r\n              readonly viewModel: NumberInputComponentViewModel,\r\n              readonly changeDetectorRef: ChangeDetectorRef) {\r\n\r\n    $input.addEventListener(\"input\", this.onInput);\r\n\r\n  }\r\n\r\n\r\n  readonly onInput = (e: Event) => {\r\n    const trimmed = this.getInputValue().trim();\r\n    if(trimmed.trim().length == 0) {\r\n      this.viewModel.internalValue = \"\";\r\n      this.changeDetectorRef.detectChanges();\r\n    } else if (trimmed === \"-\") {\r\n      // do nothing\r\n    } else  if (!this.isNumeric(trimmed) || !this.isValid(parseFloat(this.toParsableNumber(this.getInputValue().trim())))) {\r\n      this.setInputValue(this.previous);\r\n      this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    this.previous = this.viewModel.internalValue;\r\n  }\r\n\r\n  private emptyIfNull(value: string|null): string {\r\n    if(value === null) {\r\n      return \"\";\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  private setInputValue(value: string) {\r\n    if(this.$input.tagName.toUpperCase() === \"INPUT\") {\r\n      (<HTMLInputElement>this.$input).value = value;\r\n    } else {\r\n      this.$input.innerText = value;\r\n    }\r\n  }\r\n\r\n  private getInputValue() {\r\n    if(this.$input.tagName.toUpperCase() === \"INPUT\") {\r\n      return this.emptyIfNull((<HTMLInputElement>this.$input).value).trim();\r\n    } else {\r\n      return this.emptyIfNull(this.$input.innerText);\r\n    }\r\n  }\r\n\r\n\r\n  isNumeric(value: string) {\r\n    let dotOnEnd = false;\r\n    if(this.viewModel.maxPrecision.exists(p => p <= 0)) {\r\n      dotOnEnd = value.indexOf(decimalSeparator) === value.length - 1;\r\n    }\r\n    const noE = this.toParsableNumber(value);\r\n    return !dotOnEnd && !isNaN(parseFloat(noE)) && isFinite(<any>noE);\r\n  }\r\n\r\n  toParsableNumber(value: string) {\r\n    const val = decimalSeparator !== '.' ? value.replace(/\\./g, \"?\") : value;\r\n    return nbspToSpace(val).replace(this.escapeRegExp(thousandSeparator), \"\").replace(this.escapeRegExp(decimalSeparator), \".\").replace(\"e\", \"@\")\r\n  }\r\n\r\n  escapeRegExp(value: string) {\r\n    return value !== '.' ? new RegExp(value, \"g\") : /\\./g;\r\n  }\r\n\r\n  isValid(value: number) {\r\n    if(this.viewModel.maxPrecision.isDefined()) {\r\n      const maxPrecision = this.viewModel.maxPrecision.get();\r\n      const rounded = Math.round(value * Math.pow(10, maxPrecision)) / Math.pow(10, maxPrecision);\r\n      return rounded === value;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.$input.removeEventListener(\"input\", this.onInput);\r\n  }\r\n\r\n}\r\n","import {\r\n  BackgroundsProperties,\r\n  BooleanProperty,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  OptionalBooleanProperty,\r\n  OptionalI18nTextProperty,\r\n  OptionalNumberProperty,\r\n  OptionalStringProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextAlign,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class NumberInputComponentRef extends InputComponentRef {\r\n  static className = \"NumberInputComponentRef\";\r\n\r\n  className() {\r\n    return NumberInputComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: NumberInputComponentRef): NumberInputComponentRef {\r\n    return new NumberInputComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"NumberInputRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = NumberInputComponentRef.DEFAULT_PROPERTIES;\r\n\r\n}\r\n\r\nexport class NumberInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static className = \"NumberInputComponentDefinition\";\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  className() {\r\n    return NumberInputComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"NumberInput\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,NumberInputComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)};\r\n  get minPrecision(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"minPrecision\", this.defaultPropertiesProvider)};\r\n  get maxPrecision(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxPrecision\", this.defaultPropertiesProvider)};\r\n  get multiLine(): BooleanProperty {return this.properties.getBooleanProperty(\"multiLine\", this.defaultPropertiesProvider)}\r\n  get minValue(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"minValue\", this.defaultPropertiesProvider)};\r\n  get maxValue(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxValue\", this.defaultPropertiesProvider)};\r\n  get unitName(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"unitName\", this.defaultPropertiesProvider)};\r\n  get negativeTextColor(): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"negativeTextColor\", this.defaultPropertiesProvider)}\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  static copy(other: NumberInputComponentDefinition): NumberInputComponentDefinition {\r\n    return new NumberInputComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [NumberInputComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"NumberInputDefinition\", (name: string) => {switch (name) {\r\n    case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n    case \"multiLine\": return BooleanProperty.ofTrue();\r\n    case \"negativeTextColor\": return OptionalStringProperty.disabled(\"#d90000ff\");\r\n    case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n    case \"minPrecision\": return OptionalNumberProperty.disabled(2);\r\n    case \"maxPrecision\": return OptionalNumberProperty.disabled(2);\r\n    case \"minValue\": return OptionalNumberProperty.disabled(0);\r\n    case \"maxValue\": return OptionalNumberProperty.disabled(1000);\r\n    case \"unitName\": return OptionalI18nTextProperty.disabled();\r\n    case \"textAlign\": return StringProperty.of(TextAlign.end.name);\r\n    case \"paddingTop\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n    case \"paddingLeft\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n    case \"paddingBottom\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n    case \"paddingRight\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n    default: return null;\r\n  }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  LabeledScreenComponentState,\r\n  LabelPropertiesState,\r\n  NumberInputComponentDefinition,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {BusinessVariable, NumberVariable} from \"@libs/ProcessVariables\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class NumberInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"NumberInputComponentState\";\r\n  className() {\r\n    return NumberInputComponentState.className;\r\n  }\r\n\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalNumberProperty(NumberInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get negativeTextColor() {\r\n    return this.properties.optionalStringProperty(\"negativeTextColor\")\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get multiLine() {\r\n    return this.properties.booleanProperty(\"multiLine\");\r\n  }\r\n\r\n  get minPrecision() {\r\n    return this.properties.optionalNumberProperty(\"minPrecision\");\r\n  }\r\n\r\n  get maxPrecision() {\r\n    return this.properties.optionalNumberProperty(\"maxPrecision\");\r\n  }\r\n\r\n  get minValue() {\r\n    return this.properties.optionalNumberProperty(\"minValue\");\r\n  }\r\n\r\n  get maxValue() {\r\n    return this.properties.optionalNumberProperty(\"maxValue\");\r\n  }\r\n\r\n  get unitName() {\r\n    return this.properties.optionalI18nTextProperty(\"unitName\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case NumberInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get() instanceof NumberVariable) {\r\n          this.properties.putValue(NumberInputComponentDefinition.MODEL, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type Number but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(NumberInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: NumberInputComponentState) {\r\n    return new NumberInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\n\r\nexport class NumberInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"NumberInputComponentRefState\";\r\n  className() {\r\n    return NumberInputComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: NumberInputComponentRefState) {\r\n    return new NumberInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel,\r\n  SizeProperty,\r\n  SizeUtils\r\n} from \"../ScreenComponentViewModel\";\r\nimport {BlinkingValueComponentViewModel} from \"./BlinkingComponentController\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenSharedViewModel, TextAlign} from \"@screens\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {NumberVariable} from \"@libs/ProcessVariables\";\r\nimport {CssUtils} from \"../../CssUtils\";\r\nimport {ScreenFormConfig} from \"../../ScreenFormConfig\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {TextFont} from \"../../model/ScreenSimpleModel\";\r\nimport {ComponentsCommon} from \"../ComponentsModel\";\r\nimport {NumberInputComponentDefinition, NumberInputComponentRef} from \"./NumberInputComponentDefinition\";\r\nimport {NumberInputComponentRefState, NumberInputComponentState} from \"./NumberInputComponentState\";\r\nimport {decimalSeparator, nbspToSpace, thousandSeparator} from \"@libs/Internationalization\";\r\nimport {InputWithUnitViewModel} from \"./AdjustableInputComponentController\";\r\n\r\nexport class NumberInputComponentViewModel extends ComponentViewModelWithLabel implements BlinkingValueComponentViewModel, InputWithUnitViewModel {\r\n\r\n  override typeName = \"NumberInput\";\r\n\r\n  private valueBackup: number|null = null;\r\n\r\n  public internalValue: string = \"\";\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public unitCss: string = \"\";\r\n  public textCss: string = \"\";\r\n  public css: string = \"\";\r\n  public outerShadowCss: string = \"\";\r\n  public required: boolean = false;\r\n  public multiLine: boolean = false;\r\n\r\n  public minPrecision: Option<number> = Option.NoneSingleton;\r\n  public maxPrecision: Option<number> = Option.NoneSingleton;\r\n  public minValue: Option<number> = Option.NoneSingleton;\r\n  public maxValue: Option<number> = Option.NoneSingleton;\r\n  public unit: string = \"\";\r\n  public unitVisible: boolean = false;\r\n  public paddingRightCssValue: string = \"\"; // used for unit padding adjustment\r\n\r\n  textAlignCenter: boolean = false;\r\n\r\n  public valueChangeListener: Option<() => void> = Option.NoneSingleton;\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: NumberInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: NumberInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: NumberInputComponentState,\r\n              readonly refState: NumberInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onFocus() {\r\n    this.valueBackup = this.parseNumber(this.internalValue);\r\n  }\r\n\r\n  onBlur() {\r\n    console.log(\"Number blur\");\r\n    let value = (this.internalValue && this.internalValue.length > 0) ? this.parseNumber(this.internalValue) : null;\r\n    if(value !== null && isNaN(value)) {\r\n      value = null;\r\n    }\r\n    if(value !== null && !isNaN(value)) {\r\n      this.internalValue = this.formatNumber(value, this.minPrecision, this.maxPrecision);\r\n    } else {\r\n      this.internalValue = \"\";\r\n    }\r\n    if(this.valueBackup != value) {\r\n      if (value == null) {\r\n        this.componentState.updateModel(NumberInputComponentDefinition.MODEL, None());\r\n        this.serverModel.clearModelWithAction(this.componentRefPath(), NumberInputComponentDefinition.MODEL, NumberInputComponentDefinition.ON_CHANGE);\r\n        this.internalValue = \"\";\r\n      } else {\r\n        this.componentState.updateModel(NumberInputComponentDefinition.MODEL, Some(new NumberVariable(value)));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), NumberInputComponentDefinition.MODEL, new NumberVariable(value), NumberInputComponentDefinition.ON_CHANGE);\r\n      }\r\n      this.valueBackup = this.parseNumber(this.internalValue);\r\n    }\r\n    this.updateWithInternalValue(value); // model value might not be up to date at this point\r\n  }\r\n\r\n  parseNumber(textValue: string): number|null {\r\n    if(textValue.trim().length == 0) {\r\n      return null;\r\n    } else {\r\n      return this.round(parseFloat(this.toParsableNumber(textValue)));\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n    this.updateWithInternalValue(this.componentState.model.valueOrDefault(None()).getOrNull());\r\n  }\r\n\r\n  updateWithInternalValue(numberValue: number|null) {\r\n\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider,this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.minPrecision = this.definition.minPrecision.currentValue(() => this.componentState.minPrecision).valueOrDefault(None());\r\n    this.maxPrecision = this.definition.maxPrecision.currentValue(() => this.componentState.maxPrecision).valueOrDefault(None());\r\n\r\n    const newInternalValue = this.formatNumber(numberValue, this.minPrecision, this.maxPrecision);\r\n    if(this.emptyIfNull(this.internalValue) != newInternalValue) {\r\n      this.valueChangeListener.forEach(listener => listener());\r\n    }\r\n\r\n    this.internalValue = newInternalValue;\r\n\r\n    const negative = numberValue != null ? numberValue < 0 : false;\r\n\r\n    const textSize = this.definition.textProperties.textSize(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.textState.textSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const textFont = this.definition.textProperties.textFont(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.textState.textFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n    // Will use different color for negative numbers\r\n    const textColorValue = this.definition.textProperties.textColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.textState.textColor).valueOrDefault(None());\r\n    const negativeTextColorValue = this.definition.negativeTextColor.currentValue(() => this.componentState.negativeTextColor).valueOrDefault(None());\r\n    const textColor = negativeTextColorValue.filter(c => negative).orElse(textColorValue);\r\n\r\n    this.textCss = CssUtils.font(textFont, textSize, false, false, false, false, textColor);\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n    const paddingTop = this.definition.paddingsProperties.paddingTop(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.paddingsState.paddingTop).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingLeft = this.definition.paddingsProperties.paddingLeft(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.paddingsState.paddingLeft).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingBottom = this.definition.paddingsProperties.paddingBottom(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.paddingsState.paddingBottom).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const paddingRight = this.definition.paddingsProperties.paddingRight(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.paddingsState.paddingRight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    this.css += CssUtils.paddings(paddingTop, None(), paddingBottom, paddingLeft);\r\n\r\n    const paddingTopCssValue = paddingTop.getOrElse(\"0.7rem\"); // 0.7 should match css default value\r\n    const paddingRightCssValue = paddingRight.getOrElse(\"0.3rem\"); // 0.3 should match css default value\r\n\r\n    this.paddingRightCssValue = paddingRightCssValue; // this will be adjusted by controller when unit size will be available\r\n    this.unitCss = `right: ${paddingRightCssValue}; padding-top: calc(${paddingTopCssValue} + 0.12em);`;\r\n\r\n    if(this.preview) {\r\n      this.placeholder = \"-\";\r\n      this.tooltip = None();\r\n    } else {\r\n      this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n      this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).map(t => t.getCurrentWithFallback()).getOrElse(\"\");\r\n    }\r\n\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.multiLine = this.definition.multiLine.currentValue(() => this.componentState.multiLine).valueOrDefault(false);\r\n\r\n    this.minValue = this.definition.minValue.currentValue(() => this.componentState.minValue).valueOrDefault(None());\r\n    this.maxValue = this.definition.maxValue.currentValue(() => this.componentState.maxValue).valueOrDefault(None());\r\n    const unitName = this.definition.unitName.currentValue(() => this.componentState.unitName).valueOrDefault(None());\r\n\r\n    this.unit = unitName.map(u => u.getCurrentWithFallback()).getOrElse(\"\");\r\n    this.unitVisible = unitName.exists(u => u.notEmpty());\r\n\r\n    this.outerShadowCss = ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(None());\r\n    this.css += ComponentsCommon.innerShadowCss(innerShadow);\r\n\r\n    let textAlign = TextAlign.byName(this.definition.textProperties.textAlign(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.textState.textAlign).valueOrDefault(TextAlign.DEFAULT.name));\r\n    this.textAlignCenter = textAlign.isCenter();\r\n\r\n    super.updatePosition();\r\n  }\r\n\r\n  private emptyIfNull(value: string|null) {\r\n    if(value == null) {\r\n      return \"\";\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  formatNumber(value: number|null, minPrecision: Option<number>, maxPrecision: Option<number>): string {\r\n    if(value != null) {\r\n      const options: Intl.NumberFormatOptions = {};\r\n      if (minPrecision.isDefined()) {\r\n        options.minimumFractionDigits = minPrecision.get();\r\n      }\r\n      if (maxPrecision.isDefined()) {\r\n        options.maximumFractionDigits = maxPrecision.get();\r\n      }\r\n      return value.toLocaleString([], options);\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  isValid(value: number) {\r\n    if(this.maxPrecision.isDefined()) {\r\n      const precision = this.maxPrecision.get();\r\n      const rounded = Math.round(value * Math.pow(10, precision)) / Math.pow(10, precision);\r\n      return rounded === value;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  isNumeric(value: string) {\r\n    let dotOnEnd = false;\r\n    if(this.minPrecision.exists(p => p <= 0)) {\r\n      dotOnEnd = value.indexOf(decimalSeparator) === value.length - 1;\r\n    }\r\n    const noE = this.toParsableNumber(value);\r\n    return !dotOnEnd && !isNaN(parseFloat(noE)) && isFinite(<any>noE);\r\n  }\r\n\r\n  toParsableNumber(value: string) {\r\n    const val = decimalSeparator !== '.' ? value.replace(/\\./g, \"?\") : value;\r\n    return nbspToSpace(val).replace(this.escapeRegExp(thousandSeparator), \"\").replace(this.escapeRegExp(decimalSeparator), \".\").replace(\"e\", \"@\")\r\n  }\r\n\r\n  escapeRegExp(value: string) {\r\n    return value !== '.' ? new RegExp(value, \"g\") : /\\./g;\r\n  }\r\n\r\n  round(value: number) {\r\n    if(this.maxPrecision.isDefined()) {\r\n      let scale = Math.pow(10, this.maxPrecision.get());\r\n      return Math.round(value * scale) / scale;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  addValueChangeListener(valueChangeListener: () => void): void {\r\n    this.valueChangeListener = Some(valueChangeListener);\r\n  }\r\n\r\n  onHeightAdjusted(): void {\r\n    this.shared.eventBus.componentHeightChanged();\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","import {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {OptionalBooleanProperty, OptionalI18nTextProperty, OptionalStringProperty} from \"@screens\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class PasswordInputComponentRef extends InputComponentRef {\r\n  static className = \"PasswordInputComponentRef\";\r\n\r\n  className() {\r\n    return PasswordInputComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: PasswordInputComponentRef): PasswordInputComponentRef {\r\n    return new PasswordInputComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"PasswordInputRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = PasswordInputComponentRef.DEFAULT_PROPERTIES;\r\n\r\n}\r\n\r\nexport class PasswordInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static className = \"PasswordInputComponentDefinition\";\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n\r\n  className() {\r\n    return PasswordInputComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"PasswordInput\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,PasswordInputComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)}\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n\r\n\r\n\r\n  static copy(other: PasswordInputComponentDefinition): PasswordInputComponentDefinition {\r\n    return new PasswordInputComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [PasswordInputComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"PasswordInputComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      case \"paddingTop\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n      case \"paddingLeft\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n      case \"paddingBottom\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n      case \"paddingRight\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\r\nimport {BusinessVariable, PasswordVariable, StringVariable} from \"@libs/ProcessVariables\";\r\nimport {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState, LabelPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {PasswordInputComponentDefinition} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class PasswordInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"PasswordInputComponentState\";\r\n  className() {\r\n    return PasswordInputComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n\r\n  get model() {\r\n    return this.properties.optionalPasswordProperty(PasswordInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case PasswordInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get() instanceof PasswordVariable) {\r\n          this.properties.putValue(PasswordInputComponentDefinition.MODEL, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type String but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(PasswordInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: PasswordInputComponentState) {\r\n    return new PasswordInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class PasswordInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"PasswordInputComponentRefState\";\r\n  className() {\r\n    return PasswordInputComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: PasswordInputComponentRefState) {\r\n    return new PasswordInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel\r\n} from \"@screens\";\r\nimport {PasswordInputComponentDefinition, PasswordInputComponentRef} from \"@screens\";\r\nimport {PasswordInputComponentRefState, PasswordInputComponentState} from \"@screens\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {PasswordValue, PasswordVariable} from \"@libs/ProcessVariables\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {ComponentsCommon} from \"../ComponentsModel\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {BlinkingValueComponentViewModel} from \"./BlinkingComponentController\";\r\n\r\nexport class PasswordInputComponentViewModel extends ComponentViewModelWithLabel implements BlinkingValueComponentViewModel {\r\n\r\n  override typeName = \"PasswordInput\";\r\n\r\n  maxLength = 256;\r\n\r\n  private valueBackup: string|undefined = undefined;\r\n\r\n  public value: string|undefined;\r\n  public changed: boolean = false;\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public required: boolean = false;\r\n\r\n  public valueChangeListener: Option<() => void> = None();\r\n\r\n  public css = \"\";\r\n  public outerShadowCss = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: PasswordInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: PasswordInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: PasswordInputComponentState,\r\n              readonly refState: PasswordInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n             ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onFocus() {\r\n    this.valueBackup = this.value;\r\n  }\r\n\r\n  onBlur() {\r\n    if(this.valueBackup != this.value) {\r\n      if (this.value === undefined || this.value.trim().length === 0) {\r\n        this.componentState.updateModel(PasswordInputComponentDefinition.MODEL, Some(new PasswordVariable(new PasswordValue(\"\"))));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), PasswordInputComponentDefinition.MODEL, new PasswordVariable(new PasswordValue(\"\")), PasswordInputComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        this.componentState.updateModel(PasswordInputComponentDefinition.MODEL, Some(new PasswordVariable(new PasswordValue(this.value.trim()))));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), PasswordInputComponentDefinition.MODEL, new PasswordVariable(new PasswordValue(this.value.trim())), PasswordInputComponentDefinition.ON_CHANGE);\r\n      }\r\n      this.valueBackup = this.value;\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    let css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.outerShadowCss = ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(None());\r\n    css += ComponentsCommon.innerShadowCss(innerShadow);\r\n\r\n    if(this.preview) {\r\n      this.placeholder = \"-\";\r\n      this.tooltip = None();\r\n    } else {\r\n      this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).map(t => t.getCurrentWithFallback()).getOrElse(\"\");\r\n      this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    }\r\n\r\n    const newValue = this.componentState.model.valueOrDefault(None()).getOrUndefined();\r\n    if(newValue === '' || newValue === undefined) { // only update password if it is cleared\r\n      if(this.value != newValue) {\r\n        this.valueChangeListener.forEach(listener => listener());\r\n      }\r\n      this.value = newValue;\r\n    }\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    super.updatePosition();\r\n\r\n    this.css = css + this.sizeCss;\r\n  }\r\n\r\n\r\n  addValueChangeListener(valueChangeListener: () => void) {\r\n    this.valueChangeListener = Some(valueChangeListener);\r\n  }\r\n\r\n  onHeightAdjusted(): void {\r\n    this.shared.eventBus.componentHeightChanged();\r\n  }\r\n}\r\n","import {None, Option, Some} from \"@libs/Option\";\r\nimport {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {\r\n  BooleanProperty,\r\n  OptionalBooleanProperty, OptionalI18nTextProperty,\r\n  OptionalNumberProperty,\r\n  OptionalStringProperty\r\n} from \"../../model/PropertiesModel\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"../../model/ScreenSimpleModel\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\n\r\nexport class ValidationPreset {\r\n    constructor(readonly name: string) {}\r\n\r\n    static email = new ValidationPreset(\"email\");\r\n    static polishPostalCode = new ValidationPreset(\"polishPostalCode\");\r\n    static polishPesel = new ValidationPreset(\"polishPesel\");\r\n    static polishNip = new ValidationPreset(\"polishNip\");\r\n    static polishBankAccount = new ValidationPreset(\"polishBankAccount\");\r\n\r\n    static byName(name: string): ValidationPreset {\r\n      switch (name) {\r\n        case ValidationPreset.email.name: return ValidationPreset.email;\r\n        case ValidationPreset.polishPostalCode.name: return ValidationPreset.polishPostalCode;\r\n        case ValidationPreset.polishPesel.name: return ValidationPreset.polishPesel;\r\n        case ValidationPreset.polishNip.name: return ValidationPreset.polishNip;\r\n        case ValidationPreset.polishBankAccount.name: return ValidationPreset.polishBankAccount;\r\n        default: throw new Error(\"Unsupported preset: '\"+name+\"'\");\r\n      }\r\n    }\r\n\r\n    static patternByPreset(preset: ValidationPreset): Option<string> {\r\n      switch (preset.name) {\r\n        case ValidationPreset.email.name: return None();\r\n        case ValidationPreset.polishPostalCode.name: return Some(\"99-999\");\r\n        case ValidationPreset.polishPesel.name: return None();\r\n        case ValidationPreset.polishNip.name: return None();\r\n        case ValidationPreset.polishBankAccount.name: return None();\r\n        default: throw new Error(\"Unsupported preset: '\"+preset.name+\"'\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class TextInputComponentRef extends InputComponentRef {\r\n    static className = \"TextInputComponentRef\";\r\n\r\n    className() {\r\n      return TextInputComponentRef.className;\r\n    }\r\n\r\n    constructor(\r\n      readonly id: ScreenComponentRefId,\r\n      readonly componentId: ScreenComponentId,\r\n      readonly applicationScreen: Option<ScreenId>,\r\n      readonly properties: ComponentProperties\r\n    ) {\r\n      super();\r\n    }\r\n\r\n    static copy(other: TextInputComponentRef): TextInputComponentRef {\r\n      return new TextInputComponentRef(\r\n        ScreenComponentRefId.copy(other.id),\r\n        ScreenComponentId.copy(other.componentId),\r\n        Option.copy(other.applicationScreen, ScreenId.copy),\r\n        ComponentProperties.copy(other.properties)\r\n      );\r\n    }\r\n\r\n    static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"TextInputRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n    override defaultPropertiesProvider = TextInputComponentRef.DEFAULT_PROPERTIES;\r\n\r\n  }\r\n\r\n  export class TextInputComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n    static className = \"TextInputComponentDefinition\";\r\n\r\n    static MODEL = \"model\";\r\n    static ON_CHANGE = \"onChange\";\r\n\r\n\r\n    className() {\r\n      return TextInputComponentDefinition.className;\r\n    }\r\n    typeName() {\r\n      return \"TextInput\";\r\n    }\r\n\r\n    constructor(\r\n      override readonly id: ScreenComponentId,\r\n      override readonly identifier: Option<string>,\r\n      override readonly properties: ComponentProperties,\r\n      readonly actionProperties: ComponentActionProperties,\r\n      override readonly validationRules: ComponentValidationRules) {\r\n      super(id, identifier, properties, validationRules,TextInputComponentDefinition.DEFAULT_PROPERTIES);\r\n    }\r\n\r\n    get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)}\r\n    get multiLine(): BooleanProperty {return this.properties.getBooleanProperty(\"multiLine\", this.defaultPropertiesProvider)}\r\n    get minTextLength(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"minTextLength\", this.defaultPropertiesProvider)}\r\n    get maxTextLength(): OptionalNumberProperty {return this.properties.getOptionalNumberProperty(\"maxTextLength\", this.defaultPropertiesProvider)}\r\n    innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n      return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n    }\r\n    get pattern(): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"pattern\", this.defaultPropertiesProvider)}\r\n    get validationPreset(): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"validationPreset\", this.defaultPropertiesProvider)}\r\n\r\n    labelProperties = new LabelProperties(this.properties);\r\n    textProperties = new TextsProperties(this.properties);\r\n    paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n    bordersProperties = new BordersProperties(this.properties);\r\n    backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n\r\n\r\n\r\n    static copy(other: TextInputComponentDefinition): TextInputComponentDefinition {\r\n      return new TextInputComponentDefinition(\r\n        ScreenComponentId.copy(other.id),\r\n        Option.copy(other.identifier),\r\n        ComponentProperties.copy(other.properties),\r\n        ComponentActionProperties.copy(other.actionProperties),\r\n        ComponentValidationRules.copy(other.validationRules)\r\n      );\r\n    }\r\n\r\n    getModelNames(): Array<string> {\r\n      return [TextInputComponentDefinition.MODEL];\r\n    }\r\n\r\n    static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"TextInputComponentDefinition\",\r\n      (name: string) => {switch (name) {\r\n        case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n        case \"multiLine\": return BooleanProperty.ofTrue();\r\n        case \"validationPreset\": return OptionalStringProperty.disabled(\"email\");\r\n        case \"regex\": return OptionalStringProperty.disabled(\"[a-z]5\");\r\n        case \"pattern\": return OptionalStringProperty.disabled(\"99-999\");\r\n        case \"minTextLength\": return OptionalNumberProperty.disabled(0);\r\n        case \"maxTextLength\": return OptionalNumberProperty.disabled(10);\r\n        case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n        case \"paddingTop\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n        case \"paddingLeft\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n        case \"paddingBottom\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n        case \"paddingRight\": return OptionalStringProperty.disabled(\"0.1cm\");\r\n        default: return null;\r\n      }},\r\n      DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n      DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n      DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n      DefaultPropertyProvider.definitionPaddings);\r\n\r\n  }\r\n\r\n","import {LabeledScreenComponentState, ScreenComponentRefState} from \"../../model/ComponentStateModel\";\r\nimport {BusinessVariable, StringVariable} from \"@libs/ProcessVariables\";\r\nimport {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState, LabelPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {TextInputComponentDefinition} from \"./TextInputComponentDefinition\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class TextInputComponentState extends LabeledScreenComponentState {\r\n  static className = \"TextInputComponentState\";\r\n  className() {\r\n    return TextInputComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n\r\n  get multiLine() {\r\n    return this.properties.booleanProperty(\"multiLine\");\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalStringProperty(TextInputComponentDefinition.MODEL);\r\n  }\r\n\r\n  get placeholder() {\r\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\r\n  }\r\n\r\n  get pattern() {\r\n    return this.properties.optionalStringProperty(\"pattern\");\r\n  }\r\n\r\n  get validationPreset() {\r\n    return this.properties.optionalStringProperty(\"validationPreset\");\r\n  }\r\n\r\n  get minLength() {\r\n    return this.properties.optionalNumberProperty(\"minLength\");\r\n  }\r\n\r\n  get maxLength() {\r\n    return this.properties.optionalNumberProperty(\"maxLength\");\r\n  }\r\n\r\n  get innerShadow() {\r\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case TextInputComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get() instanceof StringVariable) {\r\n          this.properties.putValue(TextInputComponentDefinition.MODEL, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type String but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(TextInputComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: TextInputComponentState) {\r\n    return new TextInputComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class TextInputComponentRefState extends ScreenComponentRefState {\r\n  static className = \"TextInputComponentRefState\";\r\n  className() {\r\n    return TextInputComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: TextInputComponentRefState) {\r\n    return new TextInputComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel, SwitchComponent\r\n} from \"@screens\";\r\nimport {TextInputComponentRefState, TextInputComponentState} from \"./TextInputComponentState\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {StringVariable} from \"@libs/ProcessVariables\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {TextInputComponentDefinition, TextInputComponentRef, ValidationPreset} from \"@screens\";\r\nimport {ComponentsCommon} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {BlinkingValueComponentViewModel} from \"./BlinkingComponentController\";\r\n\r\nexport class TextInputComponentViewModel extends ComponentViewModelWithLabel implements BlinkingValueComponentViewModel {\r\n\r\n  override typeName = \"TextInput\";\r\n\r\n\r\n  private valueBackup: string = \"\";\r\n\r\n  public value: string = \"\";\r\n  public changed: boolean = false;\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public required: boolean = false;\r\n  public multiLine: boolean = false;\r\n  public maxLength: string = \"\";\r\n\r\n  public pattern: string|null = null;\r\n\r\n  public unitVisible: boolean = false;\r\n\r\n  public valueChangeListener: Option<() => void> = None();\r\n\r\n  public css = \"\";\r\n  public outerShadowCss = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: TextInputComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: TextInputComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: TextInputComponentState,\r\n              readonly refState: TextInputComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n             ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onFocus() {\r\n    this.valueBackup = this.value;\r\n  }\r\n\r\n  onBlur() {\r\n    if(this.valueBackup != this.value) {\r\n      if (this.value.trim().length == 0) {\r\n        this.componentState.updateModel(SwitchComponent.MODEL, Some(new StringVariable(\"\")));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), TextInputComponentDefinition.MODEL, new StringVariable(\"\"), TextInputComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        this.componentState.updateModel(SwitchComponent.MODEL, Some(new StringVariable(this.value.trim())));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), TextInputComponentDefinition.MODEL, new StringVariable(this.value.trim()), TextInputComponentDefinition.ON_CHANGE);\r\n      }\r\n      this.valueBackup = this.value;\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    let css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.outerShadowCss = ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(None());\r\n    css += ComponentsCommon.innerShadowCss(innerShadow);\r\n\r\n    if(this.preview) {\r\n      this.placeholder = \"-\";\r\n      this.tooltip = None();\r\n    } else {\r\n      this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).map(t => t.getCurrentWithFallback()).getOrElse(\"\");\r\n      this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    }\r\n\r\n    const newValue = this.componentState.model.valueOrDefault(None()).getOrElse(\"\");\r\n    if(this.value != newValue) {\r\n      this.valueChangeListener.forEach(listener => listener());\r\n    }\r\n    this.value = newValue;\r\n    this.multiLine = this.definition.multiLine.currentValue(() => this.componentState.multiLine).valueOrDefault(false);\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n    this.maxLength = this.definition.maxTextLength.currentValue(() => this.componentState.maxLength).valueOrDefault(None()).map(t => \"\"+t).getOrElse(\"\");\r\n    this.pattern = this.definition.pattern.currentValue(() => this.componentState.pattern).valueOrDefault(None()).getOrNull();\r\n\r\n    if(this.pattern == null) {\r\n      const validationPreset = this.definition.validationPreset.currentValue(() => this.componentState.validationPreset).valueOrDefault(None()).map(ValidationPreset.byName);\r\n      if(validationPreset.isDefined()) {\r\n        this.pattern = ValidationPreset.patternByPreset(validationPreset.get()).getOrNull();\r\n      }\r\n    }\r\n\r\n\r\n\r\n    super.updatePosition();\r\n\r\n    this.css = css + this.sizeCss;\r\n  }\r\n\r\n\r\n  addValueChangeListener(valueChangeListener: () => void) {\r\n    this.valueChangeListener = Some(valueChangeListener);\r\n  }\r\n\r\n  onHeightAdjusted(): void {\r\n    this.shared.eventBus.componentHeightChanged();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  ViewContainerRef\r\n} from \"@angular/core\";\r\nimport {BlinkingComponentController} from \"./BlinkingComponentController\";\r\nimport {NumberInputComponentController} from \"./NumberFormatComponentController\";\r\nimport {NumberInputComponentViewModel} from \"@screens\";\r\nimport {UnitPaddingController} from \"./AdjustableInputComponentController\";\r\n\r\n@Component({\r\n  selector: 'my-number-input-component[viewModel]',\r\n  templateUrl: './number-input-component.component.html',\r\n  // styleUrls: ['./number-input-component.component.scss']\r\n})\r\nexport class NumberInputComponentComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() viewModel!: NumberInputComponentViewModel;\r\n\r\n  private controller!: UnitPaddingController;\r\n  private blinkController!: BlinkingComponentController;\r\n  private formatController: NumberInputComponentController|null = null;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef,\r\n              private readonly changeDetectorRef: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(this.viewModel === null) {\r\n      throw new Error(\"No viewModel\");\r\n    } else {\r\n      this.initFormatController();\r\n      this.controller = new UnitPaddingController(this.viewModel, this.viewContainerRef.element.nativeElement);\r\n      this.blinkController = new BlinkingComponentController(this.viewContainerRef.element.nativeElement, \".input\", this.viewModel);\r\n    }\r\n  }\r\n\r\n  initFormatController() {\r\n    setTimeout(() => {\r\n      if (this.formatController !== null) {\r\n        this.formatController.destroy();\r\n      }\r\n      const input = (<HTMLElement>this.viewContainerRef.element.nativeElement).querySelector(\".input\");\r\n      if(input === null) {\r\n        throw new Error(\"No input\");\r\n      } else {\r\n        this.formatController = new NumberInputComponentController(<HTMLInputElement>input, this.viewModel, this.changeDetectorRef);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this.controller.destroy();\r\n    this.blinkController.destroy();\r\n    if(this.formatController !== null) {\r\n      this.formatController.destroy();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n\r\n\r\n    // scope.$watch(\"viewModel.enabled\", () => {\r\n    //   initFormatController();\r\n    // });\r\n    //\r\n    // scope.$watch(\"viewModel.unitName\", () => {\r\n    //   requestAnimationFrame(() => {\r\n    //     controller.onValueChanged();\r\n    //   })\r\n    // });\r\n\r\n\r\n    this.initFormatController();\r\n\r\n    requestAnimationFrame(() => {\r\n      this.controller.onValueChanged();\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody NumberInputComponent {{viewModel.cssClass}}\"\r\n     [ngClass]=\"{preview: viewModel.preview, tableCellMode: viewModel.tableCellMode, validationError: viewModel.validationError}\" *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     [style]=\"viewModel.outerShadowCss\">\r\n\r\n  <my-adjusting-text-input *ngIf=\"viewModel.multiLine && viewModel.editable\"\r\n                           contenteditable=\"true\" ngDefaultControl class=\"input\"\r\n                           style=\"{{viewModel.css}} {{viewModel.textCss}} {{viewModel.sizeCss}}\"\r\n                           [attr.padding-right]=\"viewModel.paddingRightCssValue\"\r\n                           [placeholder]=\"viewModel.placeholder\"\r\n                           [(model)]=\"viewModel.internalValue\"\r\n                           (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"></my-adjusting-text-input>\r\n\r\n  <my-adjusting-text-input *ngIf=\"viewModel.multiLine && !viewModel.editable\"\r\n                           contenteditable=\"false\" ngDefaultControl class=\"input\"\r\n                           style=\"{{viewModel.css}} {{viewModel.textCss}} {{viewModel.sizeCss}}\"\r\n                           [attr.padding-right]=\"viewModel.paddingRightCssValue\"\r\n                           [placeholder]=\"viewModel.placeholder\"\r\n                           [(model)]=\"viewModel.internalValue\"\r\n                           (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"></my-adjusting-text-input>\r\n\r\n  <input *ngIf=\"!viewModel.multiLine\" [attr.padding-right]=\"viewModel.paddingRightCssValue\"\r\n          type=\"text\"\r\n          class=\"input\"\r\n          style=\"{{viewModel.css}} {{viewModel.textCss}} {{viewModel.sizeCss}}\"\r\n          [placeholder]=\"viewModel.placeholder\"\r\n          [disabled]=\"!viewModel.editable\"\r\n          [(ngModel)]=\"viewModel.internalValue\"\r\n          (blur)=\"viewModel.onBlur()\"\r\n          (keydown.enter)=\"viewModel.onBlur()\"\r\n          (focus)=\"viewModel.onFocus()\" />\r\n\r\n  <span class=\"unitName\" *ngIf=\"viewModel.unitVisible\" style=\"{{viewModel.unitCss}}\" [ngClass]=\"{singleline: !viewModel.multiLine}\">{{viewModel.unit}}</span>\r\n\r\n</div>\r\n","import {Component, Input, OnDestroy, OnInit, ViewContainerRef} from \"@angular/core\";\nimport {PasswordInputComponentViewModel} from \"./PasswordInputComponentViewModel\";\nimport {BlinkingComponentController} from \"./BlinkingComponentController\";\n\n@Component({\n  selector: 'my-password-input-component[viewModel]',\n  templateUrl: './password-input-component.component.html',\n  // styleUrls: ['./password-input-component.component.scss']\n})\nexport class PasswordInputComponentComponent implements OnInit, OnDestroy {\n  @Input() viewModel!: PasswordInputComponentViewModel;\n  private blinkController!: BlinkingComponentController;\n\n  constructor(private readonly viewContainerRef: ViewContainerRef) {}\n\n  ngOnInit(): void {\n    if(this.viewModel === null) {\n      throw new Error(\"No viewModel\");\n    } else {\n      this.blinkController = new BlinkingComponentController(this.viewContainerRef.element.nativeElement, \".input\", this.viewModel);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.blinkController.destroy();\n  }\n}\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\n</div>\n<div class=\"componentBody PasswordInputComponent {{viewModel.cssClass}}\"\n     [ngClass]=\"{preview: viewModel.preview, tableCellMode: viewModel.tableCellMode, validationError: viewModel.validationError}\" *ngIf=\"viewModel.uncoveredAndVisible\"\n     [style]=\"viewModel.outerShadowCss\">\n\n  <input class=\"input\" [style]=\"viewModel.css\"\n         [placeholder]=\"viewModel.placeholder\" [disabled]=\"!viewModel.editable\" [(ngModel)]=\"viewModel.value\" type=\"password\" autocomplete=\"false\"\n         (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"\n         (keydown.enter)=\"viewModel.onBlur()\"\n         [maxlength]=\"viewModel.maxLength\"\n         />\n</div>\n\n<!-- TODO -->\n<!--1 my-on-enter=\"viewModel.onBlur()\"-->\n<!--2  my-tooltip=\"{position: 'top', text: viewModel.value}\" -->\n\n<!--3\nui-mask=\"{{viewModel.pattern}}\"\n         ui-options=\"{allowInvalidValue: true}\"\n         ui-mask-placeholder ui-mask-placeholder-char=\"_\" model-view-value=\"true\"\n-->\n","import {Component, Input, OnDestroy, OnInit, ViewContainerRef} from \"@angular/core\";\r\nimport {TextInputComponentViewModel} from \"./TextInputComponentViewModel\";\r\nimport {BlinkingComponentController} from \"./BlinkingComponentController\";\r\n\r\n@Component({\r\n  selector: 'my-text-input-component[viewModel]',\r\n  templateUrl: './text-input-component.component.html',\r\n  // styleUrls: ['./text-input-component.component.scss']\r\n})\r\nexport class TextInputComponentComponent implements OnInit, OnDestroy {\r\n  @Input() viewModel!: TextInputComponentViewModel;\r\n  private blinkController!: BlinkingComponentController;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef) {}\r\n\r\n  ngOnInit(): void {\r\n    if(this.viewModel === null) {\r\n      throw new Error(\"No viewModel\");\r\n    } else {\r\n      this.blinkController = new BlinkingComponentController(this.viewContainerRef.element.nativeElement, \".input\", this.viewModel);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.blinkController.destroy();\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody TextInputComponent {{viewModel.cssClass}}\"\r\n     [ngClass]=\"{preview: viewModel.preview, tableCellMode: viewModel.tableCellMode, validationError: viewModel.validationError}\"\r\n     *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     [style]=\"viewModel.outerShadowCss\">\r\n  <my-adjusting-text-input contenteditable=\"true\" ngDefaultControl *ngIf=\"viewModel.multiLine && viewModel.editable\" class=\"input\" [style]=\"viewModel.css\"\r\n                           [placeholder]=\"viewModel.placeholder\" [(model)]=\"viewModel.value\"\r\n                           (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"></my-adjusting-text-input>\r\n  <my-adjusting-text-input contenteditable=\"false\" ngDefaultControl *ngIf=\"viewModel.multiLine && !viewModel.editable\" class=\"input\" [style]=\"viewModel.css\"\r\n                           [placeholder]=\"viewModel.placeholder\" [(model)]=\"viewModel.value\"\r\n                           (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"></my-adjusting-text-input>\r\n  <input class=\"input\" [style]=\"viewModel.css\" *ngIf=\"!viewModel.multiLine\"\r\n         [placeholder]=\"viewModel.placeholder\" [disabled]=\"!viewModel.editable\" [(ngModel)]=\"viewModel.value\"\r\n         type=\"text\"\r\n         (blur)=\"viewModel.onBlur()\" (focus)=\"viewModel.onFocus()\"\r\n         (keydown.enter)=\"viewModel.onBlur()\"\r\n         [maxlength]=\"viewModel.maxLength\"\r\n  />\r\n</div>\r\n\r\n<!--TODO-->\r\n\r\n<!--my-on-enter=\"viewModel.onBlur()\" my-tooltip=\"{position: 'top', text: viewModel.value}\"-->\r\n\r\n<!--ui-mask=\"{{viewModel.pattern}}\"-->\r\n<!--ui-options=\"{allowInvalidValue: true}\"-->\r\n<!--ui-mask-placeholder ui-mask-placeholder-char=\"_\" model-view-value=\"true\"-->\r\n","import {\r\n  BackgroundsProperties,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  I18nTextProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefId,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class LabelComponentRef extends ScreenComponentRef {\r\n  static className = \"LabelComponentRef\";\r\n  className() {\r\n    return LabelComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: LabelComponentRef): LabelComponentRef {\r\n    return new LabelComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"LabelComponentRef\", DefaultPropertyProvider.ref);\r\n  override defaultPropertiesProvider = LabelComponentRef.DEFAULT_PROPERTIES;\r\n\r\n}\r\n\r\nexport class LabelComponentDefinition extends ScreenComponentDefinition {\r\n\r\n  static className = \"LabelComponentDefinition\";\r\n  className() {\r\n    return LabelComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Label\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override  readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,LabelComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  get text(): I18nTextProperty {return this.properties.getI18nTextProperty(\"text\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: LabelComponentDefinition): LabelComponentDefinition {\r\n    return new LabelComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [];\r\n  }\r\n\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"LabelComponentDefinition\",\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState,\r\n  ScreenComponentState,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\n\r\nexport class LabelComponentState extends ScreenComponentState {\r\n    static className = \"LabelComponentState\";\r\n    className() {\r\n      return LabelComponentState.className;\r\n    }\r\n\r\n    readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n    readonly bordersState = new BordersPropertiesState(this.properties);\r\n    readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n    constructor(readonly properties: PropertiesStateHolder) {\r\n      super(properties);\r\n    }\r\n\r\n    readonly textState = new TextPropertiesState(this.properties);\r\n\r\n    get text() {\r\n      return this.properties.stringifiedI18nProperty(\"text\");\r\n    }\r\n\r\n    static copy(other: LabelComponentState) {\r\n      return new LabelComponentState(PropertiesStateHolder.copy(other.properties));\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class LabelComponentRefState extends ScreenComponentRefState {\r\n    static className = \"LabelComponentRefState\";\r\n    className() {\r\n      return LabelComponentRefState.className;\r\n    }\r\n\r\n    constructor(readonly properties: PropertiesStateHolder) {\r\n      super(properties);\r\n    }\r\n\r\n    static copy(other: LabelComponentRefState) {\r\n      return new LabelComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n    }\r\n  }\r\n","import {\r\n  ComponentViewModelUtils,\r\n  LabelComponentDefinition,\r\n  LabelComponentRef,\r\n  LabelComponentRefState,\r\n  LabelComponentState,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  ScreenSharedViewModel\r\n} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\n\r\nexport class LabelComponentViewModel extends ScreenComponentViewModel {\r\n\r\n  override typeName = \"Label\";\r\n\r\n\r\n  public text: string = \"\";\r\n  public css: string = \"\";\r\n\r\n  constructor(\r\n    override readonly shared: ScreenSharedViewModel,\r\n    override readonly parent: ScreenContainerViewModel|null,\r\n    readonly context: VariableId,\r\n    override readonly definition: LabelComponentDefinition,\r\n    override readonly componentScreenId: string,\r\n    readonly ref: LabelComponentRef,\r\n    override readonly refScreenId: string,\r\n    readonly componentState: LabelComponentState,\r\n    readonly refState: LabelComponentRefState,\r\n    readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.update();\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n    this.text = this.definition.text.currentValue(() => this.componentState.text).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n    super.updatePosition();\r\n  }\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {LabelComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-label-component[viewModel]',\r\n  templateUrl: './label-component.component.html',\r\n  // styleUrls: ['./label-component.component.scss']\r\n})\r\nexport class LabelComponentComponent {\r\n  @Input() viewModel!: LabelComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentBody LabelComponent {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     style=\"{{viewModel.css}} {{viewModel.sizeCss}}\">{{viewModel.text}}</div>\r\n","import {\r\n  BackgroundsProperties,\r\n  BooleanProperty,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  I18nTextProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\n\r\nexport class LinkComponentRef extends ScreenComponentRef {\r\n  static className = \"LinkComponentRef\";\r\n  className() {\r\n    return LinkComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: LinkComponentRef): LinkComponentRef {\r\n    return new LinkComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"LinkComponentRef\", DefaultPropertyProvider.ref);\r\n  override defaultPropertiesProvider = LinkComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class LinkComponentDefinition extends ScreenComponentDefinition {\r\n\r\n  static className = \"LinkComponentDefinition\";\r\n  className() {\r\n    return LinkComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Link\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,LinkComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  get text(): I18nTextProperty {return this.properties.getI18nTextProperty(\"text\", this.defaultPropertiesProvider)};\r\n  get url(): StringProperty {return this.properties.getStringProperty(\"url\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: LinkComponentDefinition): LinkComponentDefinition {\r\n    return new LinkComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n\r\n  getModelNames(): Array<string> {\r\n    return [];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"LinkComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"text\": return I18nTextProperty.of(I18nText.ofCurrent(\"?\"));  // fills missing text iif deprecated label was set\r\n      case \"underline\": return BooleanProperty.ofTrue();\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {ScreenComponentRefState, ScreenComponentState} from \"@screens\";\r\n\r\nexport class LinkComponentState extends ScreenComponentState {\r\n  static className = \"LinkComponentState\";\r\n  className() {\r\n    return LinkComponentState.className;\r\n  }\r\n\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n\r\n  get text() {\r\n    return this.properties.i18nTextProperty(\"text\");\r\n  }\r\n\r\n  get url() {\r\n    return this.properties.stringProperty(\"url\");\r\n  }\r\n\r\n  static copy(other: LinkComponentState) {\r\n    return new LinkComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class LinkComponentRefState extends ScreenComponentRefState {\r\n  static className = \"LinkComponentRefState\";\r\n  className() {\r\n    return LinkComponentState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: LinkComponentRefState) {\r\n    return new LinkComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\n\r\n","import {ComponentViewModelUtils, ScreenComponentViewModel, ScreenContainerViewModel} from \"@screens\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {LinkComponentDefinition, LinkComponentRef} from \"./LinkComponentDefinition\";\r\nimport {LinkComponentRefState, LinkComponentState} from \"./LinkComponentState\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\n\r\nexport class LinkComponentViewModel extends ScreenComponentViewModel {\r\n\r\n  override typeName = \"Link\";\r\n\r\n\r\n  public text: string = \"\";\r\n  public url: string = \"\";\r\n  public linkCss: string = \"\";\r\n  public css: string = \"\";\r\n\r\n  constructor(\r\n    override readonly shared: ScreenSharedViewModel,\r\n    override readonly parent: ScreenContainerViewModel|null,\r\n    readonly context: VariableId,\r\n    override readonly definition: LinkComponentDefinition,\r\n    override readonly componentScreenId: string,\r\n    readonly ref: LinkComponentRef,\r\n    override readonly refScreenId: string,\r\n    readonly componentState: LinkComponentState,\r\n    readonly refState: LinkComponentRefState,\r\n    readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.update();\r\n  }\r\n\r\n\r\n  updateComponent(deep: boolean): void {\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.linkCss =  ComponentViewModelUtils.toTextColorCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n\r\n\r\n    this.url = this.definition.url.currentValue(() => this.componentState.url).valueOrDefault(\"\");\r\n    this.text = this.definition.text.currentValue(() => this.componentState.text).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n    super.updatePosition();\r\n  }\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {LinkComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-link-component[viewModel]',\r\n  templateUrl: './link-component.component.html',\r\n  // styleUrls: ['./link-component.component.scss']\r\n})\r\nexport class LinkComponentComponent {\r\n  @Input() viewModel!: LinkComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentBody LinkComponent {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\" style=\"{{viewModel.css}} {{viewModel.sizeCss}}\">\r\n  <a class=\"linkContent\" [href]=\"viewModel.url\" target=\"_blank\" [style]=\"viewModel.linkCss\">{{viewModel.text}}</a>\r\n</div>\r\n","import {None, Some} from \"@libs/Option\";\r\nimport {MapComponentViewModel, MapMarkerViewModel} from \"./MapComponentViewModel\";\r\nimport {GeoCoordinate, GeoCoordinateVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\nimport {clearArray, overwriteArray} from \"@libs/Collections\";\r\nimport {___} from \"@libs/FunctionalExtensions\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class MapComponentController {\r\n\r\n  readonly warsaw = new GeoCoordinate(52.2296756, 21.0122287);\r\n\r\n  public map: google.maps.Map|null = null;\r\n  readonly markers: Array<google.maps.Marker> = [];\r\n  public infoWindow: Option<google.maps.InfoWindow> = None();\r\n\r\n  public selectedMarker: Option<google.maps.Marker> = None();\r\n  public markerCluster: Option<any> = None();\r\n\r\n  public positionChangeTimeout: number|null = null\r\n\r\n  static POSITION_UPDATE_TIMEOUT = 700;\r\n  static DOUBLE_CLICK_TIMEOUT = 500;\r\n\r\n  private prevent_map_event_fire = false;\r\n\r\n  // TODO: Another idea of handling marker icons:\r\n  //  https://stackoverflow.com/questions/2472957/how-can-i-change-the-color-of-a-google-maps-marker\r\n  static MARKER_ICON = \"assets/images/markers/marker.svg\";\r\n  static MARKER_ICON_SELECTED = \"assets/images/markers/marker_selected.svg\";\r\n\r\n  private lastMarkerClickTime = 0;\r\n\r\n  constructor(readonly viewModel: MapComponentViewModel,\r\n              readonly mapElement: HTMLElement) {\r\n\r\n    viewModel.eventBus.on(viewModel.eventBus.markersChanged, (markers: Array<MapMarkerViewModel>) => {\r\n      if (this.viewModel.uncoveredAndVisible) {\r\n        this.clearMarkers();\r\n        this.initMarkers();\r\n      }\r\n    });\r\n\r\n    viewModel.eventBus.on(viewModel.eventBus.selectedMarkerChanged, (selectedMarker: Option<MapMarkerViewModel>) => {\r\n      if (this.viewModel.uncoveredAndVisible) {\r\n        this.markers.forEach(this.markUnselected);\r\n        if (selectedMarker.isDefined()) {\r\n          const model = selectedMarker.get();\r\n          this.markers\r\n            .filter(marker => getMarkerViewModel(marker).equals(model))\r\n            .map(marker => {\r\n              this.selectedMarker = Option.of(marker);\r\n              this.markSelected(marker);\r\n            })\r\n        } else {\r\n          this.selectedMarker = None();\r\n        }\r\n      }\r\n    });\r\n\r\n    viewModel.eventBus.on(viewModel.eventBus.mapBoundariesChanged, () => {\r\n      if(this.viewModel.uncoveredAndVisible){\r\n        const bounds = this.calculateBounds();\r\n        this.prevent_map_event_fire = true;\r\n        this.updateBounds(bounds);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  init() {\r\n    // googleMaps.initMaps(() => {\r\n\r\n      if (this.map === null) {\r\n        this.map = new google.maps.Map(this.mapElement, {\r\n          backgroundColor: \"#f6f8f7\",\r\n          zoom: 12,\r\n          maxZoom: 19,\r\n          minZoom: 3,\r\n          scrollwheel: false,\r\n          center: new google.maps.LatLng(this.warsaw.latitude, this.warsaw.longitude),\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n          mapTypeControl: true,\r\n          mapTypeControlOptions: {\r\n            style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\r\n            mapTypeIds: [google.maps.MapTypeId.ROADMAP, google.maps.MapTypeId.HYBRID]\r\n          },\r\n          streetViewControl: false,\r\n        });\r\n      }\r\n\r\n      this.map.addListener('zoom_changed', () => {\r\n        this.onPositionChangeEventListener();\r\n      });\r\n\r\n      this.map.addListener(\"bounds_changed\", (event: any) => {\r\n        this.onPositionChangeEventListener();\r\n      });\r\n\r\n      // this.map.addListener(\"click\", (event) => {\r\n      //   console.log(\"Clicked: \" + event.latLng);\r\n      // });\r\n\r\n      const style = [\r\n        {\r\n          \"featureType\": \"landscape.man_made\",\r\n          \"stylers\": [\r\n            {\r\n              \"lightness\": 45\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"poi\",\r\n          \"elementType\": \"labels.icon\",\r\n          \"stylers\": [\r\n            {\r\n              \"visibility\": \"off\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"poi\",\r\n          \"elementType\": \"labels.text\",\r\n          \"stylers\": [\r\n            {\r\n              \"visibility\": \"off\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"labels.icon\",\r\n          \"stylers\": [\r\n            {\r\n              \"visibility\": \"off\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"transit\",\r\n          \"stylers\": [\r\n            {\r\n              \"visibility\": \"off\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"water\",\r\n          \"elementType\": \"labels.text\",\r\n          \"stylers\": [\r\n            {\r\n              \"visibility\": \"off\"\r\n            }\r\n          ]\r\n        }\r\n      ];\r\n      this.map.setOptions(<google.maps.MapOptions>{styles: style});\r\n\r\n      this.clearMarkers();\r\n      this.initMarkers();\r\n\r\n      const bounds = this.calculateBounds();\r\n\r\n      this.prevent_map_event_fire = true;\r\n      this.map.fitBounds(bounds);\r\n\r\n      this.infoWindow = Some(new google.maps.InfoWindow({\r\n        content: \"\"\r\n      }));\r\n\r\n    // });\r\n  }\r\n\r\n  private onPositionChangeEventListener(){\r\n    if(this.prevent_map_event_fire){\r\n      setTimeout(() => this.prevent_map_event_fire = false, MapComponentController.POSITION_UPDATE_TIMEOUT);\r\n    } else {\r\n      this.updateMapPositionInModel();\r\n    }\r\n  }\r\n\r\n  initMarkers() {\r\n    if(this.map !== null) {\r\n      const newMarkers = this.viewModel.markers.map(marker => this.createMarker(marker));\r\n      overwriteArray(this.markers, newMarkers);\r\n\r\n\r\n      this.markerCluster.forEach(m => m.clearMarkers());\r\n\r\n      if (this.markerCluster.isEmpty()) {\r\n        // this.markerCluster = Some(new MapTrafficLayer(this.map, this.markers, {\r\n        //   imageFunction: this.clusterImageFunction,\r\n        //   minimumClusterSize: 3,\r\n        //   maxZoom: 13\r\n        // }, () => {\r\n        //   this.selectedMarker = None();\r\n        // }));\r\n      } else {\r\n        this.markerCluster.get().addMarkers(this.markers);\r\n      }\r\n    }\r\n  }\r\n\r\n  clearMarkers() {\r\n    this.markers.forEach(m => m.setMap(null));\r\n    clearArray(this.markers);\r\n  }\r\n\r\n  /*updateMarkers(markers: Array<MapMarkerViewModel>) {\r\n    if(this.map !== null) {\r\n      const newMarkers = markers.map(marker => this.createMarker(marker));\r\n      overwriteArray(markers, newMarkers);\r\n\r\n      this.markerCluster.forEach(m => m.clearMarkers());\r\n\r\n      if (this.markerCluster.isEmpty()) {\r\n        this.markerCluster = Some(new MarkerClusterer(this.map, markers, {\r\n          imageFunction: this.clusterImageFunction,\r\n          minimumClusterSize: 3,\r\n          maxZoom: 13\r\n        }, () => {\r\n          this.selectedMarker = None();\r\n        }));\r\n      } else {\r\n        this.markerCluster.get().addMarkers(markers);\r\n      }\r\n    }\r\n  }*/\r\n\r\n  createMarker(point: MapMarkerViewModel): google.maps.Marker {\r\n\r\n    const marker = new google.maps.Marker({\r\n      position: geoCoordinateToLatLng(point.coordinate),\r\n      map: this.map,\r\n      icon: MapComponentController.MARKER_ICON,\r\n      label: point.label.getOrUndefined(),\r\n      title: point.description.getOrUndefined()\r\n    });\r\n\r\n    marker.addListener('click', () => this.onMarkerSelected(marker) );\r\n\r\n    setMarkerViewModel(marker, point);\r\n\r\n    return marker;\r\n  }\r\n\r\n  private onMarkerSelected(marker: google.maps.Marker){\r\n    this.isSelectedMarker(marker) && !this.isMarkerDoubleClick() ?\r\n      this.unselectAllMarkers() : this.selectMarker(marker);\r\n    this.updateLastMarkerClickTime();\r\n  }\r\n\r\n\r\n  private updateMapPositionInModel() {\r\n    if(this.positionChangeTimeout !== null) {\r\n      clearTimeout(this.positionChangeTimeout);\r\n    }\r\n\r\n    this.positionChangeTimeout = <number><unknown>setTimeout(() => {\r\n      this.positionChangeTimeout = null;\r\n      const center = this.map!.getCenter();\r\n      const bounds = this.map!.getBounds();\r\n      const southWest = bounds!.getSouthWest();\r\n      const northEast = bounds!.getNorthEast();\r\n      this.viewModel.mapPositionChanged(latLangToGeoCoordinate(center!), latLangToGeoCoordinate(southWest), latLangToGeoCoordinate(northEast));\r\n    }, MapComponentController.POSITION_UPDATE_TIMEOUT);\r\n  }\r\n\r\n  private calculateBounds(){\r\n    return this.viewModel.mapBoundaries\r\n      .map(v => objectVariableToBounds(v as ObjectVariable))\r\n      .getOrElse(this.calculateDefaultBounds());\r\n  }\r\n\r\n  private calculateDefaultBounds() {\r\n    const bounds = new google.maps.LatLngBounds();\r\n    this.markers.forEach(marker => bounds.extend(marker.getPosition()!));\r\n\r\n    if (this.markers.length > 0) {\r\n      let maxLat = ___(this.markers).map(m => <number>m.getPosition()!.lat()).max();\r\n      let maxLng = ___(this.markers).map(m => <number>m.getPosition()!.lng()).max();\r\n      let minLat = ___(this.markers).map(m => <number>m.getPosition()!.lat()).min();\r\n      let minLng = ___(this.markers).map(m => <number>m.getPosition()!.lng()).min();\r\n      bounds.extend(new google.maps.LatLng(minLat - 0.001, minLng - 0.001));\r\n      bounds.extend(new google.maps.LatLng(maxLat + 0.001, maxLng + 0.001));\r\n    } else {\r\n      bounds.extend(new google.maps.LatLng(this.warsaw.latitude - 0.03, this.warsaw.longitude - 0.03));\r\n      bounds.extend(new google.maps.LatLng(this.warsaw.latitude + 0.03, this.warsaw.longitude + 0.03));\r\n    }\r\n    return bounds;\r\n  }\r\n\r\n  readonly clusterImageFunction: (n: number) => string = (n: number) => {\r\n    switch(n) {\r\n      case 1: return \"images/markerclusterer/m1.png\";\r\n      case 2: return \"images/markerclusterer/m2.png\";\r\n      case 3: return \"images/markerclusterer/m3.png\";\r\n      case 4: return \"images/markerclusterer/m4.png\";\r\n      case 5: return \"images/markerclusterer/m5.png\";\r\n      default: return \"images/markerclusterer/m5.png\";\r\n    }\r\n  }\r\n\r\n\r\n  private updateBounds(bounds: google.maps.LatLngBounds){\r\n    this.map!.fitBounds(bounds);\r\n  }\r\n\r\n  private updateCenter(coordinate: GeoCoordinate) {\r\n    this.map!.setCenter(geoCoordinateToLatLng(coordinate));\r\n  }\r\n\r\n  private isMarkerDoubleClick() {\r\n    return new Date().getTime() - this.lastMarkerClickTime < MapComponentController.DOUBLE_CLICK_TIMEOUT;\r\n  }\r\n\r\n  private updateLastMarkerClickTime() {\r\n    this.lastMarkerClickTime = new Date().getTime();\r\n  }\r\n\r\n  private isSelectedMarker(marker: google.maps.Marker){\r\n    return this.selectedMarker.isDefined() && this.isSameMarker(this.selectedMarker.get(), marker);\r\n  }\r\n\r\n  private isSameMarker(marker1: google.maps.Marker, marker2: google.maps.Marker) {\r\n    const model1 = getMarkerViewModel(marker1);\r\n    const model2 = getMarkerViewModel(marker2);\r\n    return model1.equals(model2);\r\n  }\r\n\r\n  private selectMarker(marker: google.maps.Marker) {\r\n    const point = getMarkerViewModel(marker);\r\n    this.infoWindow.map(info => info.close());\r\n    if(point.description.exists(d => d.length > 0)) {\r\n      this.infoWindow.map(info => {\r\n        info.setContent(point.description.get());\r\n        info.open(this.map, marker)\r\n        // info.addListener('closeclick', () => {});\r\n      });\r\n    }\r\n\r\n    this.markers.forEach(this.markUnselected);\r\n    this.markSelected(marker);\r\n    this.viewModel.markerSelected(point);\r\n    this.selectedMarker = Some(marker);\r\n  }\r\n\r\n  private unselectAllMarkers(){\r\n    this.selectedMarker = None();\r\n    this.markers.forEach(this.markUnselected);\r\n    this.viewModel.unselect();\r\n    this.infoWindow.map(window => window.close());\r\n  }\r\n\r\n  private markSelected(marker: google.maps.Marker) {\r\n    marker.setIcon(MapComponentController.MARKER_ICON_SELECTED);\r\n  }\r\n\r\n  private markUnselected(marker: google.maps.Marker) {\r\n    marker.setIcon(MapComponentController.MARKER_ICON)\r\n  }\r\n\r\n}\r\n\r\nfunction geoCoordinateToLatLng(coordinate: GeoCoordinate) {\r\n  return new google.maps.LatLng(coordinate.latitude, coordinate.longitude);\r\n}\r\n\r\nfunction latLangToGeoCoordinate(coordinate: google.maps.LatLng) {\r\n  return new GeoCoordinate(coordinate.lat(), coordinate.lng());\r\n}\r\n\r\nfunction setMarkerViewModel(marker: google.maps.Marker, viewModel: MapMarkerViewModel){\r\n  marker.set(\"__marker_view_model__\", viewModel);\r\n}\r\n\r\nfunction getMarkerViewModel(marker: google.maps.Marker): MapMarkerViewModel {\r\n  return marker.get(\"__marker_view_model__\");\r\n}\r\n\r\nfunction objectVariableToBounds(o: ObjectVariable) {\r\n  const southWest = o.valueFor('southWest').map(c => (c as GeoCoordinateVariable).value).getOrError(\"Unable to convert ObjectVariable 'southWest' value to GeoCoordinate\");\r\n  const northEast = o.valueFor('northEast').map(c => (c as GeoCoordinateVariable).value).getOrError(\"Unable to convert ObjectVariable 'northEast' value to GeoCoordinate\");\r\n  return new google.maps.LatLngBounds(geoCoordinateToLatLng(southWest), geoCoordinateToLatLng(northEast));\r\n}\r\n\r\n","import {\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  ModelProperty,\r\n  OptionalBooleanProperty,\r\n  OptionalModelProperty,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class MapComponentRef extends InputComponentRef {\r\n  static className = \"MapComponentRef\";\r\n\r\n  className() {\r\n    return MapComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: MapComponentRef): MapComponentRef {\r\n    return new MapComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    )\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"MapComponentRef\",\r\n    DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = MapComponentRef.DEFAULT_PROPERTIES;\r\n\r\n}\r\n\r\n\r\nexport class MapComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MARKERS = \"markers\";\r\n  static SELECTED = \"selected\";\r\n  static MAP_BOUNDARIES = \"mapBoundaries\";\r\n  static MAP_CENTER = \"mapCenter\";\r\n  static ON_MAP_POSITION_CHANGE = \"onMapPositionChange\";\r\n  static ON_SELECTED_CHANGE = \"onSelectedChange\";\r\n\r\n  static MAP_CENTER_VISIBLE = \"mapCenterVisible\";\r\n\r\n  static className = \"MapComponentDefinition\";\r\n  className() {\r\n    return MapComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Map\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,MapComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  bordersProperties = new BordersProperties(this.properties);\r\n\r\n  get markers(): ModelProperty {return this.properties.getModelProperty(\"markers\", this.defaultPropertiesProvider)}\r\n  get selected(): OptionalModelProperty {return this.properties.getOptionalModelProperty(\"selected\", this.defaultPropertiesProvider)}\r\n  get mapBoundaries(): OptionalModelProperty {return this.properties.getOptionalModelProperty(\"mapBoundaries\", this.defaultPropertiesProvider)}\r\n  get mapCenter(): OptionalModelProperty {return this.properties.getOptionalModelProperty(\"mapCenter\", this.defaultPropertiesProvider)}\r\n  get mapCenterVisible(): OptionalBooleanProperty {return this.properties.getOptionalBooleanProperty(\"mapCenterVisible\", this.defaultPropertiesProvider)};\r\n\r\n  static copy(other: MapComponentDefinition): MapComponentDefinition {\r\n    return new MapComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    )\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [MapComponentDefinition.MARKERS, MapComponentDefinition.SELECTED, MapComponentDefinition.MAP_BOUNDARIES];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"MapComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case MapComponentDefinition.MAP_BOUNDARIES: return OptionalModelProperty.ofVariableName(false, \"map_position\");\r\n      case MapComponentDefinition.MAP_CENTER_VISIBLE: return OptionalBooleanProperty.disabled(false);\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n}\r\n","import {EventBus} from \"@libs/EventBus\";\r\nimport {GeoCoordinate} from \"@libs/ProcessVariables\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {MapMarkerViewModel} from \"@screens\";\r\n\r\nexport class MapComponentEventBus extends EventBus {\r\n  markersChanged(markers: Array<MapMarkerViewModel>) {}\r\n  selectedMarkerChanged(marker: Option<MapMarkerViewModel>) {}\r\n  mapCenterChanged(mapCenter: GeoCoordinate) {}\r\n  mapBoundariesChanged(){}\r\n}\r\n","import {MapComponentDefinition} from \"./MapComponentDefinition\";\r\nimport {\r\n  BordersPropertiesState,\r\n  LabeledScreenComponentState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {ArrayVariable, BusinessVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\nimport {None, Option} from \"@libs/Option\";\r\n\r\nexport class MapComponentState extends LabeledScreenComponentState {\r\n\r\n  static className = \"MapComponentState\";\r\n  className() {\r\n    return MapComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get selected() {\r\n    return this.properties.optionalBusinessVariableProperty(MapComponentDefinition.SELECTED);\r\n  }\r\n\r\n  get mapBoundaries() {\r\n    return this.properties.optionalBusinessVariableProperty(MapComponentDefinition.MAP_BOUNDARIES);\r\n  }\r\n\r\n  get mapCenter() {\r\n    return this.properties.optionalBusinessVariableProperty(MapComponentDefinition.MAP_CENTER);\r\n  }\r\n\r\n  get mapCenterVisible() {\r\n    return this.properties.optionalBooleanProperty(MapComponentDefinition.MAP_CENTER_VISIBLE);\r\n  }\r\n\r\n  get markers(): ArrayVariable<ObjectVariable> {\r\n    const opt = <Option<ArrayVariable<ObjectVariable>>>this.properties.optionalObjectsArrayProperty(MapComponentDefinition.MARKERS).valueOrDefault(None());\r\n    return opt.getOrElseLazy(() => new ArrayVariable<ObjectVariable>([]));\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case MapComponentDefinition.MARKERS:\r\n        if(value.isDefined() && value.get() instanceof ArrayVariable) {\r\n          this.properties.putValue(MapComponentDefinition.MARKERS, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type Array[Object] but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(MapComponentDefinition.MARKERS);\r\n        }\r\n        break;\r\n      case MapComponentDefinition.SELECTED:\r\n        if(value.isDefined()) {\r\n          this.properties.putValue(MapComponentDefinition.SELECTED, value.get());\r\n        } else {\r\n          this.properties.clearValue(MapComponentDefinition.SELECTED);\r\n        }\r\n        break;\r\n      case MapComponentDefinition.MAP_BOUNDARIES:\r\n        if(value.isDefined()) {\r\n          this.properties.putValue(MapComponentDefinition.MAP_BOUNDARIES, value.get());\r\n        } else {\r\n          this.properties.clearValue(MapComponentDefinition.MAP_BOUNDARIES);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: MapComponentState) {\r\n    return new MapComponentState(\r\n      PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\nexport class MapComponentRefState extends ScreenComponentRefState {\r\n  static className = \"MapComponentRefState\";\r\n  className() {\r\n    return MapComponentRefState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  static copy(other: MapComponentRefState) {\r\n    return new MapComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\n","import {BusinessVariable, GeoCoordinate, GeoCoordinateVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\nimport {MapComponentDefinition, MapComponentRef} from \"./MapComponentDefinition\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel\r\n} from \"../ScreenComponentViewModel\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {MapComponentRefState, MapComponentState} from \"./MapComponentState\";\r\nimport {MapComponentEventBus} from \"./MapComponentEventBus\";\r\nimport {ComponentModelChange} from \"@screens\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class MapMarkerViewModel {\r\n    constructor(readonly coordinate: GeoCoordinate,\r\n                readonly value: Option<BusinessVariable>,\r\n                readonly description: Option<string>,\r\n                readonly label: Option<string>) {}\r\n\r\n    equals(other: MapMarkerViewModel) {\r\n      return this.value.equals(other.value, (v1, v2) => v1.isEqual(v2))\r\n        && this.description.equals(other.description)\r\n        && this.label.equals(other.label)\r\n        && this.coordinate.isEqual(other.coordinate);\r\n    }\r\n  }\r\n\r\n  export class MapComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n    readonly warsaw = new GeoCoordinate(52.2296756, 21.0122287);\r\n\r\n    override typeName = \"Map\";\r\n\r\n    public markers: Array<MapMarkerViewModel> = [];\r\n    public css: string = \"\";\r\n    public required: boolean = false;\r\n\r\n    public mapCenter: Option<GeoCoordinate> = None();\r\n    public mapCenterVisible: boolean = false;\r\n    public mapBoundaries: Option<BusinessVariable> = None();\r\n    public selectedMarker: Option<MapMarkerViewModel> = None();\r\n\r\n    readonly eventBus: MapComponentEventBus = new MapComponentEventBus();\r\n\r\n\r\n\r\n    constructor(override readonly shared: ScreenSharedViewModel,\r\n                override readonly parent: ScreenContainerViewModel|null,\r\n                readonly context: VariableId,\r\n                override readonly definition: MapComponentDefinition,\r\n                override readonly componentScreenId: string,\r\n                readonly ref: MapComponentRef,\r\n                override readonly refScreenId: string,\r\n                override readonly componentState: MapComponentState,\r\n                readonly refState: MapComponentRefState,\r\n                readonly serverModel: ScreenInstanceServerModel) {\r\n      super(parent, definition, componentState, refState, shared);\r\n      this.update();\r\n    }\r\n\r\n    updateComponent(deep: boolean): void { console.log(\"updateComponent\");\r\n\r\n      this.css = ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n      this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n      const mapCenterVisible = this.definition.mapCenterVisible.currentValue(() => this.componentState.mapCenterVisible).valueOrDefault(None());\r\n      this.mapCenterVisible = mapCenterVisible.getOrElse(this.definition.mapCenter.isEnabled());\r\n      this.mapCenter = this.definition.mapCenter.currentValue(() => this.componentState.mapCenter).valueOrDefault(None()).map(v => GeoCoordinate.copy(v.value));\r\n\r\n\r\n      this.updateMarkers();\r\n      this.updateSelectedMarker();\r\n      this.updateBoundaries();\r\n\r\n      super.updatePosition();\r\n\r\n      // this.eventBus.mapViewModelUpdated();\r\n    }\r\n\r\n    private updateMarkers() {\r\n      const markers = this.componentState.markers.unwrappedValue().map(marker => {\r\n        const coordinate = (<GeoCoordinateVariable>marker.valueFor(\"coordinate\").get()).value;\r\n        const value = marker.valueFor(\"value\");\r\n        const description = marker.valueFor(\"description\").map(d => d.valueToSimpleString());\r\n        const label = marker.valueFor(\"label\").map(d => d.valueToSimpleString());\r\n        return new MapMarkerViewModel(coordinate, value, description, label);\r\n      });\r\n\r\n      const areSameMearkers = (markers.length == this.markers.length)\r\n        && __(markers).all(marker => __(this.markers).find(m => m.equals(marker)).isDefined());\r\n\r\n      if(!areSameMearkers){\r\n        this.markers = markers;\r\n        this.eventBus.markersChanged(markers);\r\n      }\r\n    }\r\n\r\n    private updateSelectedMarker(){\r\n      const selectedValue = this.definition.selected.currentValue(() => this.componentState.selected).valueOrDefault(None());\r\n      const selectedMarker = this.getMarkerByValue(selectedValue);\r\n      const isSelected = (this.selectedMarker.isEmpty() && selectedMarker.isEmpty()) ||\r\n        (this.selectedMarker.isDefined() && selectedMarker.isDefined() && this.selectedMarker.equals(selectedMarker, (m1, m2) => m1.equals(m2)))\r\n      if(!isSelected){\r\n        this.selectedMarker = selectedMarker;\r\n        this.eventBus.selectedMarkerChanged(selectedMarker);\r\n      }\r\n    }\r\n\r\n    private updateBoundaries(){ console.log('updateBoundaries');\r\n      const boundaries = this.definition.mapBoundaries.currentValue(() => this.componentState.mapBoundaries).valueOrDefault(None());\r\n\r\n      console.log('  this.mapBoundaries', this.mapBoundaries);\r\n      console.log('  boundaries', boundaries);\r\n\r\n      const sameBoundaries = (this.mapBoundaries.isEmpty() && boundaries.isEmpty()) ||\r\n        (this.mapBoundaries.isDefined() && boundaries.isDefined() && this.mapBoundaries.equals(boundaries, (b1, b2) => b1.isEqual(b2)));\r\n\r\n      console.log('isSameBoundaries', sameBoundaries);\r\n\r\n      if(!sameBoundaries) { console.log('fire mapBoundariesChanged event')\r\n        this.mapBoundaries = boundaries;\r\n        this.eventBus.mapBoundariesChanged();\r\n      }\r\n\r\n    }\r\n\r\n    private getMarkerByValue(value: Option<BusinessVariable>) {\r\n      return __(this.markers).find(marker => marker.value.equals(value, (v1, v2) => v1.isEqual(v2)));\r\n    }\r\n\r\n    private checkMarkersChanged(markersA: Array<MapMarkerViewModel>, markersB: Array<MapMarkerViewModel>){\r\n      if(markersA.length != markersB.length) return true;\r\n\r\n      const markers_a = markersA.sort((a, b) => a.coordinate.compare(b.coordinate));\r\n      const markers_b = markersB.sort((a, b) => a.coordinate.compare(b.coordinate));\r\n\r\n      return !__(markers_a).all((marker_a, index) => {\r\n        return markers_b[index] == marker_a;\r\n      });\r\n    }\r\n\r\n    markerSelected(marker: MapMarkerViewModel) {\r\n      if(this.definition.selected.enabled) {\r\n        if (marker.value.isDefined()) {\r\n          this.componentState.updateModel(MapComponentDefinition.SELECTED, Some(marker.value.get()));\r\n          this.serverModel.changeModelWithAction(this.componentRefPath(), MapComponentDefinition.SELECTED, marker.value.get(), \"onSelectedChange\");\r\n        } else {\r\n          this.componentState.updateModel(MapComponentDefinition.SELECTED, None());\r\n          this.serverModel.clearModelWithAction(this.componentRefPath(), MapComponentDefinition.SELECTED, \"onSelectedChange\");\r\n        }\r\n      }\r\n    }\r\n\r\n    unselect(){\r\n      if(this.definition.selected.enabled) {\r\n        this.serverModel.clearModel(this.componentRefPath(), MapComponentDefinition.SELECTED);\r\n      }\r\n    }\r\n\r\n    mapPositionChanged(center: GeoCoordinate, southWest: GeoCoordinate, northEast: GeoCoordinate) {\r\n\r\n      const changes: Array<ComponentModelChange> = [];\r\n\r\n      if(this.definition.mapCenter.enabled) {\r\n        changes.push(new ComponentModelChange(MapComponentDefinition.MAP_CENTER, Some(Typed.of(new GeoCoordinateVariable(center)))));\r\n      }\r\n      if(this.definition.mapBoundaries.enabled) {\r\n        changes.push(new ComponentModelChange(MapComponentDefinition.MAP_BOUNDARIES, Some(Typed.of(new ObjectVariable({\"southWest\": new GeoCoordinateVariable(southWest), \"northEast\": new GeoCoordinateVariable(northEast)})))));\r\n      }\r\n      if(changes.length > 0) {\r\n        this.serverModel.changeMultipleModelsWithAction(this.componentRefPath(), changes, \"onMapPositionChange\");\r\n      }\r\n    }\r\n  }\r\n","import {MapComponentViewModel, MapMarkerViewModel} from \"./MapComponentViewModel\";\r\nimport {GeoCoordinate, GeoCoordinateVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\nimport {MapComponentController} from \"@screens\";\r\nimport {GoogleMap, MapMarkerClusterer, MarkerClustererOptions} from \"@angular/google-maps\";\r\nimport {clearArray, overwriteArray} from \"@libs/Collections\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {___} from \"@libs/FunctionalExtensions\";\r\n\r\ndeclare class MarkerClusterer {\r\n  constructor(map: google.maps.Map, markers?: google.maps.Marker[], options?: MarkerClustererOptions);\r\n}\r\n\r\nexport class MapComponentViewModelWrapper {\r\n\r\n  readonly warsaw = new GeoCoordinate(52.2296756, 21.0122287);\r\n\r\n  static POSITION_UPDATE_TIMEOUT = 500;\r\n  static DOUBLE_CLICK_TIMEOUT = 500;\r\n  public positionChangeTimeout: number|null = null\r\n\r\n  private prevent_map_event_fire = false;\r\n\r\n  zoom: number = 12;\r\n  center: google.maps.LatLng = new google.maps.LatLng(this.warsaw.latitude, this.warsaw.longitude);\r\n\r\n  lastMarkerClickTime: number = 0;\r\n\r\n  readonly markers: Array<google.maps.Marker> = [];\r\n  public infoWindow: Option<google.maps.InfoWindow> = None();\r\n\r\n  public selectedMarker: Option<google.maps.Marker> = None();\r\n  public markerCluster: Option<any> = None();\r\n\r\n  options: google.maps.MapOptions = {\r\n    backgroundColor: \"#f6f8f7\",\r\n    maxZoom: 19,\r\n    minZoom: 3,\r\n    scrollwheel: false,\r\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n    mapTypeControl: true,\r\n    mapTypeControlOptions: {\r\n      style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\r\n      mapTypeIds: [google.maps.MapTypeId.ROADMAP, google.maps.MapTypeId.HYBRID]\r\n    },\r\n    streetViewControl: false,\r\n    styles: [\r\n      {\r\n        \"featureType\": \"landscape.man_made\",\r\n        \"stylers\": [\r\n          {\r\n            \"lightness\": 45\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"labels.text\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"transit\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"labels.text\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(readonly viewModel: MapComponentViewModel,) {\r\n  }\r\n  private map: google.maps.Map|undefined;\r\n\r\n  injectMap(map: GoogleMap): void {\r\n    this.map = map.googleMap;\r\n    this.init();\r\n  }\r\n\r\n  private init() {\r\n    this.clearMarkers();\r\n    this.initMarkers();\r\n\r\n\r\n    const bounds = this.calculateBounds();\r\n\r\n    this.prevent_map_event_fire = true;\r\n    console.log(\"Fit bounds\", bounds);\r\n    this.map!.fitBounds(bounds);\r\n\r\n    this.infoWindow = Some(new google.maps.InfoWindow({\r\n      content: \"\"\r\n    }));\r\n  }\r\n\r\n  private calculateBounds(){\r\n    return this.viewModel.mapBoundaries\r\n      .map(v => objectVariableToBounds(v as ObjectVariable))\r\n      .getOrElse(this.calculateDefaultBounds());\r\n  }\r\n\r\n  private calculateDefaultBounds() {\r\n    const bounds = new google.maps.LatLngBounds();\r\n    this.markers.forEach(marker => bounds.extend(marker.getPosition()!));\r\n\r\n    if (this.markers.length > 0) {\r\n      let maxLat = ___(this.markers).map(m => <number>m.getPosition()!.lat()).max();\r\n      let maxLng = ___(this.markers).map(m => <number>m.getPosition()!.lng()).max();\r\n      let minLat = ___(this.markers).map(m => <number>m.getPosition()!.lat()).min();\r\n      let minLng = ___(this.markers).map(m => <number>m.getPosition()!.lng()).min();\r\n      bounds.extend(new google.maps.LatLng(minLat - 0.001, minLng - 0.001));\r\n      bounds.extend(new google.maps.LatLng(maxLat + 0.001, maxLng + 0.001));\r\n    } else {\r\n      bounds.extend(new google.maps.LatLng(this.warsaw.latitude - 0.03, this.warsaw.longitude - 0.03));\r\n      bounds.extend(new google.maps.LatLng(this.warsaw.latitude + 0.03, this.warsaw.longitude + 0.03));``\r\n    }\r\n    return bounds;\r\n  }\r\n\r\n  initMarkers() {\r\n    if(this.map !== undefined) {\r\n      const newMarkers = this.viewModel.markers.map(marker => this.createMarker(marker));\r\n      overwriteArray(this.markers, newMarkers);\r\n\r\n      // this.markerCluster.forEach(m => m.clearMarkers());\r\n      //\r\n      // if (this.markerCluster.isEmpty()) {\r\n      //   console.log(\"Init clusterer\", this.markers);\r\n      //   this.markerCluster = Some(new MarkerClusterer(this.map, this.markers, {\r\n      //     imagePath: \"assets/images/markerclusterer/m1.png\",\r\n      //     // imageFunction: this.clusterImageFunction,\r\n      //     minimumClusterSize: 3,\r\n      //     maxZoom: 13\r\n      //   }\r\n      //   // , () => {\r\n      //   //   this.selectedMarker = None();\r\n      //   // }\r\n      //   ));\r\n      // } else {\r\n      //   this.markerCluster.get().addMarkers(this.markers);\r\n      // }\r\n    }\r\n  }\r\n\r\n  readonly clusterImageFunction: (n: number) => string = (n: number) => {\r\n    switch(n) {\r\n      case 1: return \"assets/images/markerclusterer/m1.png\";\r\n      case 2: return \"assets/images/markerclusterer/m2.png\";\r\n      case 3: return \"assets/images/markerclusterer/m3.png\";\r\n      case 4: return \"assets/images/markerclusterer/m4.png\";\r\n      case 5: return \"assets/images/markerclusterer/m5.png\";\r\n      default: return \"assets/images/markerclusterer/m5.png\";\r\n    }\r\n  }\r\n\r\n  createMarker(point: MapMarkerViewModel): google.maps.Marker {\r\n\r\n    const marker = new google.maps.Marker({\r\n      position: geoCoordinateToLatLng(point.coordinate),\r\n      map: this.map,\r\n      icon: MapComponentController.MARKER_ICON,\r\n      label: point.label.getOrUndefined(),\r\n      title: point.description.getOrUndefined()\r\n    });\r\n\r\n    marker.addListener('click', () => this.onMarkerSelected(marker) );\r\n\r\n    setMarkerViewModel(marker, point);\r\n\r\n    return marker;\r\n  }\r\n\r\n\r\n  private onMarkerSelected(marker: google.maps.Marker){\r\n    this.isSelectedMarker(marker) && !this.isMarkerDoubleClick() ?\r\n      this.unselectAllMarkers() : this.selectMarker(marker);\r\n    this.updateLastMarkerClickTime();\r\n  }\r\n\r\n\r\n  private updateLastMarkerClickTime() {\r\n    this.lastMarkerClickTime = new Date().getTime();\r\n  }\r\n\r\n\r\n  private unselectAllMarkers(){\r\n    this.selectedMarker = None();\r\n    this.markers.forEach(this.markUnselected);\r\n    this.viewModel.unselect();\r\n    this.infoWindow.map(window => window.close());\r\n  }\r\n\r\n\r\n  private isMarkerDoubleClick() {\r\n    return new Date().getTime() - this.lastMarkerClickTime < MapComponentController.DOUBLE_CLICK_TIMEOUT;\r\n  }\r\n\r\n  private isSameMarker(marker1: google.maps.Marker, marker2: google.maps.Marker) {\r\n    const model1 = getMarkerViewModel(marker1);\r\n    const model2 = getMarkerViewModel(marker2);\r\n    return model1.equals(model2);\r\n  }\r\n\r\n\r\n  private isSelectedMarker(marker: google.maps.Marker){\r\n    return this.selectedMarker.isDefined() && this.isSameMarker(this.selectedMarker.get(), marker);\r\n  }\r\n\r\n\r\n  private markUnselected(marker: google.maps.Marker) {\r\n    marker.setIcon(MapComponentController.MARKER_ICON)\r\n  }\r\n\r\n\r\n  private selectMarker(marker: google.maps.Marker) {\r\n    const point = getMarkerViewModel(marker);\r\n    this.infoWindow.map(info => info.close());\r\n    if(point.description.exists(d => d.length > 0)) {\r\n      this.infoWindow.map(info => {\r\n        info.setContent(point.description.get());\r\n        info.open(this.map, marker)\r\n        // info.addListener('closeclick', () => {});\r\n      });\r\n    }\r\n\r\n    this.markers.forEach(this.markUnselected);\r\n    this.markSelected(marker);\r\n    this.viewModel.markerSelected(point);\r\n    this.selectedMarker = Some(marker);\r\n  }\r\n\r\n  private markSelected(marker: google.maps.Marker) {\r\n    marker.setIcon(MapComponentController.MARKER_ICON_SELECTED);\r\n  }\r\n\r\n\r\n\r\n\r\n  clearMarkers() {\r\n    this.markers.forEach(m => m.setMap(null));\r\n    clearArray(this.markers);\r\n  }\r\n\r\n  onPositionChangeEventListener() {\r\n    if(this.prevent_map_event_fire){\r\n      setTimeout(() => this.prevent_map_event_fire = false, MapComponentViewModelWrapper.POSITION_UPDATE_TIMEOUT);\r\n    } else {\r\n      this.updateMapPositionInModel();\r\n    }\r\n  }\r\n\r\n  private updateMapPositionInModel() {\r\n    if(this.positionChangeTimeout !== null) {\r\n      clearTimeout(this.positionChangeTimeout);\r\n    }\r\n\r\n    this.positionChangeTimeout = <number><unknown>setTimeout(() => {\r\n      this.positionChangeTimeout = null;\r\n      const center = this.map!.getCenter();\r\n      const bounds = this.map!.getBounds();\r\n      const southWest = bounds!.getSouthWest();\r\n      const northEast = bounds!.getNorthEast();\r\n      this.viewModel.mapPositionChanged(latLangToGeoCoordinate(center!), latLangToGeoCoordinate(southWest), latLangToGeoCoordinate(northEast));\r\n    }, MapComponentController.POSITION_UPDATE_TIMEOUT);\r\n  }\r\n\r\n\r\n}\r\n\r\nfunction geoCoordinateToLatLng(coordinate: GeoCoordinate) {\r\n  return new google.maps.LatLng(coordinate.latitude, coordinate.longitude);\r\n}\r\n\r\nfunction latLangToGeoCoordinate(coordinate: google.maps.LatLng) {\r\n  return new GeoCoordinate(coordinate.lat(), coordinate.lng());\r\n}\r\n\r\nfunction setMarkerViewModel(marker: google.maps.Marker, viewModel: MapMarkerViewModel){\r\n  marker.set(\"__marker_view_model__\", viewModel);\r\n}\r\n\r\nfunction getMarkerViewModel(marker: google.maps.Marker): MapMarkerViewModel {\r\n  return marker.get(\"__marker_view_model__\");\r\n}\r\n\r\nfunction objectVariableToBounds(o: ObjectVariable) {\r\n  const southWest = o.valueFor('southWest').map(c => (c as GeoCoordinateVariable).value).getOrError(\"Unable to convert ObjectVariable 'southWest' value to GeoCoordinate\");\r\n  const northEast = o.valueFor('northEast').map(c => (c as GeoCoordinateVariable).value).getOrError(\"Unable to convert ObjectVariable 'northEast' value to GeoCoordinate\");\r\n  return new google.maps.LatLngBounds(geoCoordinateToLatLng(southWest), geoCoordinateToLatLng(northEast));\r\n}\r\n","import {Component, Input, OnInit, ViewChild} from \"@angular/core\";\r\nimport {MapComponentViewModel} from \"@screens\";\r\nimport {Observable} from 'rxjs';\r\nimport {MapComponentViewModelWrapper} from \"./MapComponentViewModelWrapper\";\r\nimport {GoogleMap} from \"@angular/google-maps\";\r\nimport {LibrariesService} from \"../../../shared/libraries/libraries.service\";\r\n\r\n@Component({\r\n  selector: 'my-map-component[viewModel]',\r\n  templateUrl: './map-component.component.html',\r\n  // styleUrls: ['./map-component.component.scss']\r\n})\r\nexport class MapComponentComponent implements OnInit {\r\n\r\n  @Input() viewModel!: MapComponentViewModel;\r\n\r\n  apiLoaded: Observable<boolean> | undefined;\r\n\r\n  wrapper!: MapComponentViewModelWrapper;\r\n\r\n  private _map: GoogleMap|undefined = undefined;\r\n\r\n  @ViewChild(GoogleMap) set googleMap(map: GoogleMap|undefined) {\r\n    if(map !== undefined) {\r\n      this._map = map;\r\n      this.wrapper!.injectMap(map);\r\n    }\r\n  };\r\n\r\n  constructor(private librariesService: LibrariesService) {}\r\n\r\n  ngOnInit() {\r\n    this.apiLoaded = this.librariesService.loadGoogleMaps(() => this.onApiLoaded());\r\n  }\r\n\r\n  private onApiLoaded() {\r\n    this.wrapper = new MapComponentViewModelWrapper(this.viewModel);\r\n    if(this._map !== undefined) {\r\n      this.wrapper.injectMap(this._map);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n// namespace screenModule {\r\n//\r\n//   import Marker = google.maps.Marker;\r\n//   import GeoCoordinate = model.GeoCoordinate;\r\n//   import MapOptions = google.maps.MapOptions;\r\n//\r\n//   declare const MarkerClusterer: any;\r\n//\r\n//   interface MapComponentScope extends ng.IScope {\r\n//     viewModel: MapComponentViewModel;\r\n//   }\r\n//\r\n//   app.directive(\"myMapComponent\", <any>function () {\r\n//     return {\r\n//       scope: {\r\n//         viewModel: \"=\"\r\n//       },\r\n//       restrict: \"E\",\r\n//       templateUrl: \"/app/modules/screen/components/map/MapComponent.html\",\r\n//       link: function (scope: MapComponentScope, element: HTMLElement[], attrs: any) {\r\n//\r\n//         const controller = new MapComponentController(scope.viewModel, $(element[0]).find(\".MapComponent .mapContent\").get(0));\r\n//\r\n//         controller.init();\r\n//\r\n//           // scope.$watch(\"viewModel.markers\", () => {\r\n//         //   // if (scope.viewModel.enabled) {\r\n//         //   //   clearMarkers();\r\n//         //   //   initMarkers();\r\n//         //   // }\r\n//         // });\r\n//         //\r\n//         // scope.$watchGroup([\"viewModel.enabled\"], () => {\r\n//         //\r\n//         // });\r\n//\r\n//\r\n//\r\n//\r\n//       }\r\n//     }\r\n//   });\r\n// }\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody MapComponent {{viewModel.cssClass}}\" style=\"{{viewModel.css}} {{viewModel.sizeCss}}\">\r\n\r\n  <ng-container *ngIf=\"apiLoaded | async\">\r\n    <google-map [options]=\"wrapper.options\" [center]=\"wrapper.center\"  [zoom]=\"wrapper.zoom\" (boundsChanged)=\"wrapper.onPositionChangeEventListener()\"\r\n    (zoomChanged)=\"wrapper.onPositionChangeEventListener()\"></google-map>\r\n  </ng-container>\r\n\r\n<!--  <div class=\"mapContent\"></div>-->\r\n  <div *ngIf=\"viewModel.mapCenterVisible\" class=\"mapPointer\"><i class=\"ss-plus\"></i></div>\r\n</div>\r\n\r\n","import {\r\n  BackgroundsProperties, BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules,\r\n  DefaultPropertyProvider, HeaderProperties, LayoutsProperties, PaddingsProperties,\r\n  RepeatableContextContainerDefinition,\r\n  ScreenContainerRef,EntriesLayoutType, LayoutWrap, ScreenComponentId, ScreenComponentRefId,\r\n  BooleanProperty, I18nTextProperty,\r\n  ModelProperty,\r\n  OptionalI18nTextProperty,\r\n  OptionalNumberProperty, OptionalStringProperty, StringProperty\r\n} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {i18n} from \"../../../shared/internationalization/i18n.service\";\r\n\r\n\r\nexport class RepeatableContainer {\r\n    static model = \"model\"\r\n  }\r\n\r\n  export class RepeatableContainerRef extends ScreenContainerRef {\r\n    static className = \"RepeatableContainerRef\";\r\n    className() {\r\n      return RepeatableContainerRef.className;\r\n    }\r\n\r\n    constructor(\r\n      readonly id: ScreenComponentRefId,\r\n      readonly componentId: ScreenComponentId,\r\n      readonly applicationScreen: Option<ScreenId>,\r\n      readonly properties: ComponentProperties\r\n    ) {\r\n      super();\r\n    }\r\n\r\n    get lengthEditable() {\r\n      return this.properties.getBooleanProperty(\"lengthEditable\", this.defaultPropertiesProvider);\r\n    }\r\n\r\n    static copy(other: RepeatableContainerRef): RepeatableContainerRef {\r\n      return new RepeatableContainerRef(\r\n        ScreenComponentRefId.copy(other.id),\r\n        ScreenComponentId.copy(other.componentId),\r\n        Option.copy(other.applicationScreen, ScreenId.copy),\r\n        ComponentProperties.copy(other.properties)\r\n      )\r\n    }\r\n\r\n    static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"RepeatableRef\", (name:string) => {\r\n      switch (name) {\r\n        case \"lengthEditable\": return BooleanProperty.ofFalse();\r\n        default: return null;\r\n      }\r\n    }, DefaultPropertyProvider.ref);\r\n\r\n    override defaultPropertiesProvider = RepeatableContainerRef.DEFAULT_PROPERTIES;\r\n  }\r\n\r\n  export class RepeatableContainerDefinition extends RepeatableContextContainerDefinition {\r\n\r\n    static className = \"RepeatableContainerDefinition\";\r\n    className() {\r\n      return RepeatableContainerDefinition.className;\r\n    }\r\n    typeName() {\r\n      return \"Repeatable\";\r\n    }\r\n\r\n    constructor(\r\n      override readonly id: ScreenComponentId,\r\n      override readonly identifier: Option<string>,\r\n      override readonly properties: ComponentProperties,\r\n      readonly actionProperties: ComponentActionProperties,\r\n      override readonly validationRules: ComponentValidationRules,\r\n      readonly children: Array<ScreenComponentRefId>) {\r\n      super(id, identifier, properties, validationRules, RepeatableContainerDefinition.DEFAULT_PROPERTIES);\r\n    }\r\n\r\n    get header(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"header\", this.defaultPropertiesProvider)};\r\n    get headerVisible(): BooleanProperty {return this.properties.getBooleanProperty(\"headerVisible\", this.defaultPropertiesProvider)};\r\n    get model(): ModelProperty {return this.properties.getModelProperty(\"model\", this.defaultPropertiesProvider)};\r\n    get entriesLayout(): StringProperty {return this.properties.getStringProperty(\"entriesLayout\", this.defaultPropertiesProvider)};\r\n    get entriesLayoutWrap(): StringProperty {return this.properties.getStringProperty(\"entriesLayoutWrap\", this.defaultPropertiesProvider)};\r\n\r\n    get entriesGapColumn(): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"entriesGapColumn\", this.defaultPropertiesProvider)};\r\n    get entriesGapRow(): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"entriesGapRow\", this.defaultPropertiesProvider)};\r\n\r\n    get addLabel(): I18nTextProperty {return this.properties.getI18nTextProperty(\"addLabel\", this.defaultPropertiesProvider)};\r\n    get entryVisible(): BooleanProperty {return this.properties.getBooleanProperty(\"entryVisible\", this.defaultPropertiesProvider)};\r\n    get entryEditable(): BooleanProperty {return this.properties.getBooleanProperty(\"entryEditable\", this.defaultPropertiesProvider)};\r\n\r\n    layoutsProperties = new LayoutsProperties(\"\", this.properties, this.defaultPropertiesProvider);\r\n\r\n    contentTextSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextSize\", defaultProvider)}\r\n    contentTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextColor\", defaultProvider)}\r\n    contentTextFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextFont\", defaultProvider)}\r\n\r\n    paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n    bordersProperties = new BordersProperties(this.properties);\r\n    backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n    headerProperties = new HeaderProperties(this.properties);\r\n\r\n    override getChildren(): Array<ScreenComponentRefId> {\r\n      return this.children;\r\n    }\r\n\r\n    get minEntries() {\r\n      return this.properties.getOptionalNumberProperty(\"minEntries\", this.defaultPropertiesProvider);\r\n    }\r\n\r\n    get maxEntries() {\r\n      return this.properties.getOptionalNumberProperty(\"maxEntries\", this.defaultPropertiesProvider);\r\n    }\r\n\r\n\r\n    static copy(other: RepeatableContainerDefinition): RepeatableContainerDefinition {\r\n      return new RepeatableContainerDefinition(\r\n        ScreenComponentId.copy(other.id),\r\n        Option.copy(other.identifier),\r\n        ComponentProperties.copy(other.properties),\r\n        ComponentActionProperties.copy(other.actionProperties),\r\n        ComponentValidationRules.copy(other.validationRules),\r\n        other.children.map(ScreenComponentRefId.copy)\r\n      )\r\n    }\r\n\r\n    static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"RepeatableDefinition\", (name:string) => {\r\n      switch (name) {\r\n        case \"headerVisible\": return BooleanProperty.ofFalse();\r\n        case \"addLabel\": return I18nTextProperty.of(I18nText.ofCurrent(i18n(\"screen_default_add_label\")));\r\n        case \"minEntries\": return OptionalNumberProperty.disabled(1);\r\n        case \"maxEntries\": return OptionalNumberProperty.disabled(10);\r\n        case \"entryEditable\": return BooleanProperty.ofTrue();\r\n        case \"entriesLayout\": return StringProperty.of(EntriesLayoutType.vertical.name);\r\n        case \"entriesLayoutWrap\": return StringProperty.of(LayoutWrap.wrap.name);\r\n        case \"entriesGapRow\": return OptionalStringProperty.disabled(\"0.5cm\");\r\n        case \"entriesGapColumn\": return OptionalStringProperty.disabled(\"0.5cm\");\r\n        case \"entryVisible\": return BooleanProperty.ofTrue();\r\n        default: return null;\r\n      }},\r\n      DefaultPropertyProvider.definitionLabel,\r\n      DefaultPropertyProvider.containerPlain,\r\n      DefaultPropertyProvider.containerPaddings,\r\n      DefaultPropertyProvider.definitionBorders,\r\n      DefaultPropertyProvider.definitionBackgrounds,\r\n      DefaultPropertyProvider.definitionSectionHeader,\r\n      DefaultPropertyProvider.definitionComponent,\r\n      DefaultPropertyProvider.definitionBorders);\r\n\r\n      override displayName(): string {\r\n      return (this.header.settingsUnwrapped().toSettingsType().isStaticValue() ? this.header.staticValue.getCurrentWithFallback() : \"\");\r\n    }\r\n  }\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  HeaderPropertiesState,\r\n  LayoutsPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  RepeatableContainer,\r\n  RepeatableContext,\r\n  RepeatableContextComponentState,\r\n  ScreenComponentRefState\r\n} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {overwriteArray} from \"@libs/Collections\";\r\nimport {ArrayVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\n\r\nexport class RepeatableContainerState extends RepeatableContextComponentState {\r\n    static className = \"RepeatableContainerState\";\r\n    className() {\r\n      return RepeatableContainerState.className;\r\n    }\r\n\r\n    readonly layoutsState = new LayoutsPropertiesState(\"\", this.properties);\r\n    readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n    readonly bordersState = new BordersPropertiesState(this.properties);\r\n    readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n    constructor(public override innerContext: Option<RepeatableContext>,\r\n      override readonly properties: PropertiesStateHolder) {\r\n      super(properties);\r\n    }\r\n\r\n    get contentTextSize() {return this.properties.optionalStringProperty(\"textSize\")}\r\n    get contentTextColor() {return this.properties.optionalStringProperty(\"textColor\")}\r\n    get contentTextFont() {return this.properties.optionalStringProperty(\"textFont\")}\r\n\r\n    get header() {return this.properties.optionalI18nTextProperty(\"header\")}\r\n\r\n    get headerVisible() {return this.properties.booleanProperty(\"headerVisible\")}\r\n    readonly headerState = new HeaderPropertiesState(this.properties);\r\n\r\n\r\n    get minEntries() {\r\n      return this.properties.optionalNumberProperty(\"minEntries\");\r\n    }\r\n\r\n    get maxEntries() {\r\n      return this.properties.optionalNumberProperty(\"maxEntries\");\r\n    }\r\n\r\n    get entriesLayout() {\r\n      return this.properties.stringProperty(\"entriesLayout\");\r\n    }\r\n\r\n    get entriesGapColumn() {\r\n      return this.properties.optionalStringProperty(\"entriesGapColumn\");\r\n    }\r\n\r\n    get entriesGapRow() {\r\n      return this.properties.optionalStringProperty(\"entriesGapRow\");\r\n    }\r\n\r\n    get entriesLayoutWrap() {\r\n      return this.properties.stringProperty(\"entriesLayoutWrap\");\r\n    }\r\n\r\n    pushToInnerContext(entryId: VariableId) {\r\n      this.innerContext.getOrError(\"No inner context\").entries.push(entryId);\r\n    }\r\n\r\n    removeFromModel(entryId: VariableId) {\r\n      const innerContext = this.innerContext.getOrError(\"No inner context\").entries;\r\n      const index = __(innerContext).findIndexOf(e => e.id == entryId.id);\r\n      if(index.isDefined()) {\r\n        innerContext.splice(index.get(), 1);\r\n      }\r\n    }\r\n\r\n    updateInnerContext(innerContext: RepeatableContext) {\r\n      if(this.innerContext.isDefined() && this.innerContext.get().contextId.id == innerContext.contextId.id) {\r\n        overwriteArray(this.innerContext.get().entries, innerContext.entries);\r\n      } else {\r\n        this.innerContext = Some(innerContext);\r\n      }\r\n    }\r\n\r\n    clearInnerContext(): void {\r\n      this.innerContext = None();\r\n    }\r\n\r\n    override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n      switch (modelName) {\r\n        case RepeatableContainer.model:\r\n          if(value.isDefined() && value.get() instanceof ArrayVariable) {\r\n            this.properties.putValue(RepeatableContainer.model, value.get());\r\n          } else if (value.isDefined()) {\r\n            throw new Error(\"Model is not of expected type Array[Object] but [\" + value.get().simpleValueType()+\"]\");\r\n          } else {\r\n            this.properties.clearValue(RepeatableContainer.model);\r\n          }\r\n          break;\r\n        default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n      }\r\n    }\r\n\r\n\r\n    static copy(other: RepeatableContainerState) {\r\n      return new RepeatableContainerState(\r\n        Option.copy(other.innerContext, RepeatableContext.copy),\r\n        PropertiesStateHolder.copy(other.properties));\r\n    }\r\n\r\n  }\r\n\r\n  export class RepeatableContainerRefState extends ScreenComponentRefState {\r\n    static className = \"RepeatableContainerRefState\";\r\n    className() {\r\n      return RepeatableContainerRefState.className;\r\n    }\r\n\r\n    constructor(override readonly properties: PropertiesStateHolder) {\r\n      super(properties);\r\n    }\r\n\r\n    get lengthEditable() {\r\n      return this.properties.booleanProperty(\"lengthEditable\");\r\n    }\r\n\r\n    static copy(other: RepeatableContainerRefState) {\r\n      return new RepeatableContainerRefState(PropertiesStateHolder.copy(other.properties));\r\n    }\r\n\r\n  }\r\n","import {\r\n  ComponentStatus,\r\n  ComponentViewModelUtils,\r\n  GridSizeProperty,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  SizeProperty,\r\n  SizeUtils,\r\n  AddedSpace,\r\n  EntriesLayoutType,\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  LayoutWrap,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen,\r\n  TextFont,\r\n  ScreenComponentsState,\r\n  RepeatableContainerDefinition,\r\n  RepeatableContainerRef,\r\n  ScreenFormConfig,\r\n  ScreenSharedViewModel,\r\n  CssUtils,\r\n  ScreenInstanceServerModel\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {clearArray} from \"@libs/Collections\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {RepeatableContainerRefState, RepeatableContainerState} from \"@screens\";\r\nimport {range} from \"@libs/Array\";\r\n\r\nexport class RepeatableContainerEntryViewModel {\r\n\r\n    private static GRID_REM_SIZE: number = 3;\r\n\r\n    css = \"\";\r\n\r\n    childrenPanelDeltaHeightRem = 0;\r\n    private minWidthCss: string = \"\";\r\n    private minHeightCss: string = \"\";\r\n    readonly visibleChildren: Array<ScreenComponentViewModel> = [];\r\n    constructor(readonly contextId: VariableId,\r\n                readonly serverModel: ScreenInstanceServerModel,\r\n                readonly innerLayout: LayoutType,\r\n                readonly children: Array<ScreenComponentViewModel>,\r\n                readonly entriesLayout: EntriesLayoutType,\r\n                readonly ref: RepeatableContainerRef,\r\n                readonly refState: RepeatableContainerRefState) {}\r\n\r\n    getDeltaHeight() {\r\n      return 0;\r\n    }\r\n\r\n    updateCss(minWidthCss: string, minHeightCss: string) {\r\n      this.minWidthCss = minWidthCss;\r\n      this.minHeightCss = minHeightCss;\r\n      this.css = \"\";\r\n\r\n      const minWidthValue = minWidthCss && minWidthCss.length > 0 ? Some(minWidthCss) : None();\r\n      const minHeightValue = minHeightCss && minHeightCss.length > 0 ? Some(minHeightCss): None();\r\n      const childrenPanelDeltaHeightValue = Some(this.childrenPanelDeltaHeightRem + 'rem');\r\n\r\n      CssUtils.repeatableEntryLayout(this.innerLayout, this.entriesLayout, minWidthValue, minHeightValue, childrenPanelDeltaHeightValue);\r\n    }\r\n\r\n    getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n      for(let i = 0; i < this.children.length; i++) {\r\n        const child = this.children[i];\r\n        if(child.id == id) {\r\n          return Some(child);\r\n        } else if(child.isContainer()) {\r\n          const childSuccessor = (<ScreenContainerViewModel>child).getComponentById(id);\r\n          if(childSuccessor.isDefined()) {\r\n            return childSuccessor;\r\n          }\r\n        }\r\n      }\r\n      return None();\r\n    }\r\n\r\n    childDeltaHeightChanged() {\r\n      const allDeltas: Array<AddedSpace> = ___(this.children).filter(t => t.getDefaultStaticBottom().isDefined()).map(t => {\r\n        const bottomRem = t.getDefaultStaticBottom().get() * RepeatableContainerEntryViewModel.GRID_REM_SIZE;\r\n        const deltaHeightRem = t.deltaHeightRem;\r\n        return new AddedSpace(bottomRem, deltaHeightRem);\r\n      }).filter(d => d.sizeRem > 0).value();\r\n\r\n      this.childrenPanelDeltaHeightRem = ___(this.combineDeltas(allDeltas)).map(d => d.sizeRem).sum();\r\n\r\n      this.children.forEach(child => {\r\n        const componentTop = child.getDefaultStaticTop();\r\n        if(componentTop.isDefined()) {\r\n          const top = componentTop.get() * RepeatableContainerEntryViewModel.GRID_REM_SIZE;\r\n          const deltasAbove = allDeltas.filter(d => d.fromRem <= top);\r\n          const combinedDeltasAbove = this.combineDeltas(deltasAbove);\r\n          child.changeDeltaTopRem(___(combinedDeltasAbove).map(d => d.sizeRem).sum());\r\n        }\r\n\r\n      });\r\n\r\n      this.updateCss(this.minWidthCss, this.minHeightCss);\r\n    }\r\n\r\n\r\n    // TODO this is repeated, unify\r\n    private combineDeltas(deltas: Array<AddedSpace>) {\r\n      if(deltas.length > 0) {\r\n        const sorted = __(deltas).sortBy(d => d.fromRem);\r\n\r\n        const current = sorted[0];\r\n        let last: AddedSpace = new AddedSpace(current.fromRem, current.sizeRem);\r\n        const combined: Array<AddedSpace> = [last];\r\n        sorted.forEach(current => {\r\n          const lastTo = last.fromRem + last.sizeRem;\r\n          if(current.fromRem >= last.fromRem && current.fromRem <= lastTo) {\r\n            last.sizeRem = Math.max(last.sizeRem, current.fromRem + current.sizeRem - last.fromRem);\r\n          } else {\r\n            last = new AddedSpace(current.fromRem, current.sizeRem);\r\n            combined.push(last);\r\n          }\r\n        });\r\n        return combined;\r\n      } else {\r\n        return deltas;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  export class RepeatableContainerViewModel extends ScreenContainerViewModel {\r\n\r\n    override typeName = \"Repeatable\";\r\n\r\n    readonly entries: Array<RepeatableContainerEntryViewModel>;\r\n    public canAddEntry: boolean = false;\r\n    public canDeleteEntries: boolean = false;\r\n\r\n    public layout: string = \"\";\r\n    public entriesLayoutClass: string = \"\";\r\n    public entriesLayoutWrapClass: string = \"\";\r\n    public override cssClass: string = \"\";\r\n    public header: string = \"\";\r\n    public headerVisible: boolean = false;\r\n    public addLabel: string = \"\";\r\n\r\n    public override layoutClass: string = \"\";\r\n    public layoutAlignClass: string = \"\";\r\n    public layoutStretchClass: string = \"\";\r\n    public layoutWrapClass: string = \"\";\r\n\r\n    public css = \"\";\r\n    public entriesCss = \"\";\r\n    public childrenPlainCss = \"\";\r\n\r\n    public headerCss: string = \"\";\r\n\r\n    public clickableEntry: boolean;\r\n\r\n    constructor(override readonly shared: ScreenSharedViewModel,\r\n                override readonly parent: ScreenContainerViewModel|null,\r\n                override readonly definition: RepeatableContainerDefinition,\r\n                override readonly componentScreenId: string,\r\n                override readonly ref: RepeatableContainerRef,\r\n                override readonly refScreenId: string,\r\n                override readonly componentState: RepeatableContainerState,\r\n                override readonly refState: RepeatableContainerRefState,\r\n                readonly context: VariableId,\r\n                readonly serverModel: ScreenInstanceServerModel,\r\n                readonly componentsState: ScreenComponentsState,\r\n                readonly createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n      super(parent, componentState, refState, definition, shared);\r\n      this.clickableEntry = definition.actionProperties.getActions(\"onEntryClick\").length > 0;\r\n      this.entries = [];\r\n      this.update();\r\n    }\r\n\r\n    onEntryClick(entry: RepeatableContainerEntryViewModel) {\r\n      if(this.definition.actionProperties.getActions(\"onEntryClick\").length > 0) {\r\n        this.serverModel.executeEntryAction(this.componentRefPath(), entry.contextId, \"onEntryClick\")\r\n      }\r\n    }\r\n\r\n    getAllChildren(): Array<ScreenComponentViewModel> {\r\n      return __(this.entries).flatMap(e => e.children);\r\n    }\r\n\r\n    override componentName(): string {\r\n      if(this.headerVisible && this.header.trim().length > 0) {\r\n        return this.header;\r\n      } else {\r\n        return super.componentName();\r\n      }\r\n    }\r\n\r\n    getLayoutForComponent(componentRefId: ScreenComponentRefId): LayoutType {\r\n      return LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n    }\r\n\r\n    updateContainer(deep: boolean): void {\r\n      // must be after entries initialization\r\n\r\n      if(this.uncoveredAndVisible && this.status == ComponentStatus.initialized) {\r\n\r\n        const layout = LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n        const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n        let css = \"\";\r\n\r\n        const textSize = this.definition.contentTextSize(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n        const textColor = this.definition.contentTextColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextColor).valueOrDefault(None());\r\n        const textFont = this.definition.contentTextFont(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n        const font = CssUtils.font(textFont, textSize, false, false, false, false, textColor);\r\n        const paddings = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState);\r\n\r\n        this.childrenPlainCss =  font + paddings;\r\n\r\n        const contentMinHeight = this.definition.sizeProperties.contentMinHeight.currentValue(() => this.componentState.boxState.contentMinHeight).valueOrDefault(None());\r\n        const contentMinWidth = this.definition.sizeProperties.contentMinWidth.currentValue(() => this.componentState.boxState.contentMinWidth).valueOrDefault(None());\r\n\r\n        const headerOption = this.definition.header.currentValue(() => this.componentState.header).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n        this.header = headerOption.getOrElse(\"\");\r\n        this.headerVisible = headerOption.isDefined();\r\n\r\n        const headerHeightValue = this.definition.headerProperties.headerMinHeight(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider)\r\n          .currentValue(() => this.componentState.headerState.headerMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n        // TODO ?\r\n        const childrenPanelDeltaHeightRem = 0;\r\n\r\n        this.childrenPlainCss += CssUtils.childrenPlainMinHeight(\r\n          contentMinHeight.map(v => SizeProperty.sizeToCss(unit, v)),\r\n          headerHeightValue,\r\n          this.headerVisible,\r\n          Some(childrenPanelDeltaHeightRem + \"rem\")\r\n        );\r\n\r\n        this.childrenPlainCss += CssUtils.childrenPlainMinWidth(\r\n          contentMinWidth.orElse(Some(\"0cm\")).map(v => SizeProperty.sizeToCss(unit, v))\r\n        );\r\n\r\n        if (layout.isGrid()) {\r\n\r\n          const rows = this.definition.layoutsProperties.rows.currentValue(() => this.componentState.layoutsState.rows).valueOrDefault(2);\r\n          const columns = this.definition.layoutsProperties.columns.currentValue(() => this.componentState.layoutsState.columns).valueOrDefault(2);\r\n\r\n          const columnsCss =  range(columns).map(r =>  GridSizeProperty.sizeToCss(unit, this.definition.properties.getStringProperty(\"column|\"+r+\"|width\", RepeatableContainerDefinition.DEFAULT_PROPERTIES).currentValue(() => this.componentState.properties.stringProperty(\"column|\"+r+\"|width\")).valueOrDefault(\"auto\")));\r\n          const rowsCss =  range(rows).map(r =>  GridSizeProperty.sizeToCss(unit, this.definition.properties.getStringProperty(\"row|\"+r+\"|height\", RepeatableContainerDefinition.DEFAULT_PROPERTIES).currentValue(() => this.componentState.properties.stringProperty(\"row|\"+r+\"|height\")).valueOrDefault(\"auto\")));\r\n\r\n          this.childrenPlainCss += \"grid-template-columns: \" + columnsCss.join(\" \") + \";\";\r\n          this.childrenPlainCss += \"grid-template-rows: \" + rowsCss.join(\" \") + \";\";\r\n        }\r\n\r\n        if(!layout.isStatic()) {\r\n          const gapColumn = this.definition.layoutsProperties.gapColumn.currentValue(() => this.componentState.layoutsState.gapColumn).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n          const gapRow = this.definition.layoutsProperties.gapRow.currentValue(() => this.componentState.layoutsState.gapRow).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n          this.childrenPlainCss += CssUtils.gaps(gapRow, gapColumn);\r\n        }\r\n\r\n        const backgroundColorValue = this.definition.backgroundsProperties.backgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.backgroundsState.backgroundColor).valueOrDefault(None());\r\n        css += CssUtils.backgroundColor(backgroundColorValue);\r\n\r\n        css += ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n        css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n        this.css = css;\r\n\r\n        this.layoutClass = layout.name;\r\n\r\n        const layoutAlign = LayoutAlign.byName(this.definition.layoutsProperties.layoutAlign.currentValue(() => this.componentState.layoutsState.layoutAlign).valueOrDefault(LayoutAlign.DEFAULT.name));\r\n        this.layoutAlignClass = layoutAlign.name;\r\n        const layoutStretch = LayoutStretch.byName(this.definition.layoutsProperties.layoutStretch.currentValue(() => this.componentState.layoutsState.layoutStretch).valueOrDefault(LayoutStretch.DEFAULT.name));\r\n        this.layoutStretchClass = layoutStretch.name;\r\n        const layoutWrap = LayoutWrap.byName(this.definition.layoutsProperties.layoutWrap.currentValue(() => this.componentState.layoutsState.layoutWrap).valueOrDefault(LayoutWrap.wrap.name));\r\n        this.layoutWrapClass = layoutWrap.name;\r\n\r\n\r\n        this.entriesCss = \"\";\r\n        const gapColumn = this.definition.entriesGapColumn.currentValue(() => this.componentState.entriesGapColumn).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n        const gapRow = this.definition.entriesGapRow.currentValue(() => this.componentState.entriesGapRow).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));;\r\n        this.entriesCss += CssUtils.gaps(gapRow, gapColumn);\r\n\r\n        const maxHeight = this.definition.sizeProperties.maxHeight.currentValue(() => this.componentState.boxState.maxHeight).valueOrDefault(None());\r\n        const maxWidth = this.definition.sizeProperties.maxWidth.currentValue(() => this.componentState.boxState.maxWidth).valueOrDefault(None());\r\n\r\n        // if(maxHeight.isDefined()) {\r\n        //   this.entriesCss += `max-height: calc(${SizeProperty.sizeToCss(unit, maxHeight.get())} - ${headerHeight});`;\r\n        // }\r\n        // if(maxWidth.isDefined()) {\r\n        //   this.entriesCss += `max-width: ${SizeProperty.sizeToCss(unit, maxWidth.get())};`;\r\n        // }\r\n\r\n        this.entriesCss += CssUtils.entriesMaxSizes(\r\n          maxWidth.map(v => SizeProperty.sizeToCss(unit, v)),\r\n          maxHeight.map(v => SizeProperty.sizeToCss(unit, v)),\r\n          headerHeightValue,\r\n          this.headerVisible\r\n        );\r\n\r\n        const entriesLayout = EntriesLayoutType.byName(this.definition.entriesLayout.currentValue(() => this.componentState.entriesLayout).valueOrDefault(EntriesLayoutType.horizontal.name));\r\n        this.entriesLayoutClass = entriesLayout.name;\r\n        const entriesLayoutWrap = LayoutWrap.byName(this.definition.entriesLayoutWrap.currentValue(() => this.componentState.entriesLayoutWrap).valueOrDefault(LayoutWrap.DEFAULT.name));\r\n        this.entriesLayoutWrapClass = entriesLayoutWrap.name;\r\n\r\n        const innerLayout = LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n\r\n        // if(this.componentState.innerContext.isDefined()) {\r\n\r\n          const existingEntries = this.entries.slice();\r\n          clearArray(this.entries);\r\n\r\n        const modelProperty = this.definition.model.currentValue(() => this.componentState.properties.modelProperty(\"model\"));\r\n        if(modelProperty.isSuccess()) {\r\n          this.componentState.innerContext.getOrError(\"No inner context available\").entries.forEach(contextEntry => {\r\n\r\n            const existing = __(existingEntries).find(e => e.contextId.id == contextEntry.id);\r\n            if (existing.isDefined()) {\r\n              this.entries.push(existing.get());\r\n            } else {\r\n              const children = this.definition.children.map((childRefId, index) => {\r\n                return this.createViewModel(this, ScreenComponentRefIdInScreen.of(this.componentScreenId, childRefId), Some(contextEntry));\r\n              });\r\n              this.entries.push(new RepeatableContainerEntryViewModel(contextEntry, this.serverModel, innerLayout, children, entriesLayout, this.ref, this.refState));\r\n            }\r\n          });\r\n        }\r\n\r\n        // } else {\r\n        //   clearArray(this.entries);\r\n        // }\r\n\r\n\r\n        this.entries.forEach(entry => {\r\n\r\n          clearArray(entry.visibleChildren);\r\n          entry.visibleChildren.push(... entry.children.filter(c => c.visible));\r\n\r\n          entry.updateCss(\r\n            SizeProperty.sizeToCss(unit, contentMinWidth.getOrElse(\"0cm\")),\r\n            SizeProperty.sizeToCss(unit, contentMinHeight.getOrElse(\"0cm\"))\r\n          )\r\n        });\r\n\r\n        const lengthEditable = this.ref.lengthEditable.currentValue(() => this.refState.lengthEditable).valueOrDefault(false);\r\n        const minEntries = this.definition.minEntries.currentValue(() => this.componentState.minEntries).valueOrDefault(None()).getOrElse(0);\r\n        const maxEntries = this.definition.maxEntries.currentValue(() => this.componentState.maxEntries).valueOrDefault(None()).getOrElse(1000000);\r\n\r\n        this.canAddEntry = this.editable && lengthEditable && this.entries.length < maxEntries;\r\n        this.canDeleteEntries = this.editable && lengthEditable && this.entries.length > minEntries;\r\n\r\n        this.layout = layout.name;\r\n\r\n        this.addLabel = this.definition.addLabel.currentValue(() => this.componentState.properties.i18nTextProperty(\"addLabel\")).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n\r\n\r\n        this.headerCss = ComponentViewModelUtils.toHeaderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.headerProperties, this.componentState.headerState);\r\n\r\n\r\n      }\r\n\r\n\r\n      super.updatePosition();\r\n      if(this.parent !== null) {\r\n        this.parent.updateTop();\r\n      }\r\n    }\r\n\r\n\r\n    addEntry(): void {\r\n      this.serverModel.addRepeatableContextEntry(this.componentRefPath(), () => {\r\n\r\n      });\r\n    }\r\n\r\n    deleteEntry(entry: RepeatableContainerEntryViewModel): void {\r\n      this.serverModel.deleteRepeatableContextEntry(this.componentRefPath(), entry.contextId, this.entries.indexOf(entry), () => {\r\n\r\n      });\r\n    }\r\n\r\n\r\n    static create(shared: ScreenSharedViewModel,\r\n                  parent: ScreenContainerViewModel|null,\r\n                  context: VariableId,\r\n                  definition: RepeatableContainerDefinition,\r\n                  componentScreenId: string,\r\n                  ref: RepeatableContainerRef,\r\n                  refScreenId: string,\r\n                  componentState: RepeatableContainerState,\r\n                  refState: RepeatableContainerRefState,\r\n                  serverModel: ScreenInstanceServerModel,\r\n                  componentsState: ScreenComponentsState,\r\n                  createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n\r\n      return new RepeatableContainerViewModel(shared, parent, definition, componentScreenId, ref, refScreenId, componentState, refState, context, serverModel, componentsState,\r\n        createViewModel);\r\n\r\n    }\r\n\r\n    childDeltaHeightChanged(): void {\r\n\r\n      this.entries.forEach(entry => {\r\n        entry.childDeltaHeightChanged();\r\n      });\r\n    }\r\n\r\n\r\n\r\n\r\n    getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n      for(let i = 0; i < this.entries.length; i++) {\r\n        const fromEntry = this.entries[i].getComponentById(id);\r\n        if (fromEntry.isDefined()) {\r\n          return fromEntry;\r\n        }\r\n\r\n      }\r\n      return None();\r\n    }\r\n\r\n\r\n  }\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {RepeatableContainerViewModel} from \"./RepeatableContainerViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-repeatable-container[viewModel]',\r\n  templateUrl: './repeatable-container.component.html',\r\n  // styleUrls: ['./repeatable-container.component.scss']\r\n})\r\nexport class RepeatableContainerComponent {\r\n  @Input() viewModel!: RepeatableContainerViewModel;\r\n\r\n}\r\n","<div\r\n  class=\"componentBody RepeatableContainer {{viewModel.cssClass}} entriesLayout_{{viewModel.entriesLayoutClass}} entriesLayoutWrap_{{viewModel.entriesLayoutWrapClass}}\"\r\n  *ngIf=\"viewModel.uncoveredAndVisible\" [style]=\"viewModel.css\">\r\n  <div class=\"sectionHeader\" *ngIf=\"viewModel.headerVisible\" [style]=\"viewModel.headerCss\">{{viewModel.header}}</div>\r\n  <div class=\"repeatableEntriesScroll\">\r\n    <div class=\"repeatableEntries\" [style]=\"viewModel.entriesCss\">\r\n      <div class=\"repeatableEntry\" [style]=\"entry.css\" *ngFor=\"let entry of viewModel.entries\"\r\n           [ngClass]=\"{clickable: viewModel.clickableEntry}\" (click)=\"viewModel.onEntryClick(entry)\">\r\n        <div class=\"clickableGlass\" *ngIf=\"viewModel.clickableEntry\"></div>\r\n        <div\r\n          class=\"childrenPlain layout_{{viewModel.layoutClass}} layoutAlign_{{viewModel.layoutAlignClass}} layoutStretch_{{viewModel.layoutStretchClass}} layoutWrap_{{viewModel.layoutWrapClass}}\"\r\n          [style]=\"viewModel.childrenPlainCss\">\r\n\r\n          <ng-container *ngFor=\"let component of entry.children\">\r\n            <div *ngIf=\"component.visible\" class=\"ViewComponent ViewComponent{{component.id}} layout_{{component.layoutClass}} {{component.errorClass}}\"\r\n                 [style]=\"component.positionCss\">\r\n\r\n              <div class=\"componentBodyContainer labelPosition_{{component.label?.positionClass}}\">\r\n\r\n                <!--              SHARED -->\r\n                <ng-container [ngSwitch]=\"component.typeName\">\r\n                  <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n                  <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n                  <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n                  <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n                  <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n                  <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n                  <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n                  <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n                  <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n                  <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n                  <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n                  <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n                  <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n                  <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n                  <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n                  <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n                  <my-date-input-component *ngSwitchCase=\"'DateInput'\" [viewModel]=\"$any(component)\"></my-date-input-component>\r\n\r\n                  <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n                  <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n                  <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n                  <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n                  <div *ngSwitchDefault>\r\n                    Unsupported Component {{component.typeName}}\r\n                  </div>\r\n                </ng-container>\r\n                <div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n                  <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n                </div>\r\n\r\n                <div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n                <!--              SHARED -->\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n        <button class=\"deleteButton\" *ngIf=\"viewModel.canDeleteEntries\" (click)=\"viewModel.deleteEntry(entry)\"><i\r\n          class=\"ss-trash\"></i></button>\r\n\r\n      </div>\r\n      <div class=\"addButtonPanel\" *ngIf=\"viewModel.canAddEntry\">\r\n        <button class=\"addButton\" (click)=\"viewModel.addEntry()\"><i class=\"ss-plus\"></i>{{viewModel.addLabel}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n","import {ScreenId} from \"@libs/IdModel\";\r\nimport {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider, HeaderProperties, LayoutsProperties,\r\n  OptionalContextContainerDefinition,\r\n  PaddingsProperties, ScreenComponentDefinition, ScreenContainerRef\r\n} from \"@screens\";\r\nimport {OptionalI18nTextProperty, OptionalModelProperty, OptionalStringProperty} from \"@screens\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"@screens\";\r\nimport {None, Option} from \"@libs/Option\";\r\n\r\n\r\nexport class SectionContainerRef extends ScreenContainerRef {\r\n    static className = \"SectionContainerRef\";\r\n    className() {\r\n      return SectionContainerRef.className;\r\n    }\r\n\r\n    constructor(\r\n      override readonly id: ScreenComponentRefId,\r\n      override readonly componentId: ScreenComponentId,\r\n      override readonly applicationScreen: Option<ScreenId>,\r\n      override readonly properties: ComponentProperties\r\n    ) {\r\n      super();\r\n    }\r\n\r\n\r\n    static copy(other: SectionContainerRef): SectionContainerRef {\r\n      return new SectionContainerRef(\r\n        ScreenComponentRefId.copy(other.id),\r\n        ScreenComponentId.copy(other.componentId),\r\n        Option.copy(other.applicationScreen, ScreenId.copy),\r\n        ComponentProperties.copy(other.properties)\r\n      )\r\n    }\r\n\r\n    static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.ofFallbacks(\"SectionRef\", DefaultPropertyProvider.ref);\r\n\r\n    override defaultPropertiesProvider = SectionContainerRef.DEFAULT_PROPERTIES;\r\n\r\n    override createDefaultDefinition(id: ScreenComponentId): ScreenComponentDefinition {\r\n      return new SectionContainerDefinition(id, None(), ComponentProperties.empty(), new ComponentActionProperties([]), new ComponentValidationRules([]), []);\r\n    }\r\n  }\r\n\r\n  export class SectionContainerDefinition extends OptionalContextContainerDefinition {\r\n\r\n    static className = \"SectionContainerDefinition\";\r\n\r\n    className() {\r\n      return SectionContainerDefinition.className;\r\n    }\r\n    typeName() {\r\n      return \"Section\";\r\n    }\r\n\r\n\r\n    constructor(\r\n      override readonly id: ScreenComponentId,\r\n      override readonly identifier: Option<string>,\r\n      override readonly properties: ComponentProperties,\r\n      readonly actionProperties: ComponentActionProperties,\r\n      override readonly validationRules: ComponentValidationRules,\r\n      readonly children: Array<ScreenComponentRefId>) {\r\n      super(id, identifier, properties, validationRules, SectionContainerDefinition.DEFAULT_PROPERTIES);\r\n    }\r\n\r\n    get model(): OptionalModelProperty {return this.properties.getOptionalModelProperty(\"model\", this.defaultPropertiesProvider)};\r\n    get header(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"header\", this.defaultPropertiesProvider)}\r\n\r\n    layoutsProperties = new LayoutsProperties(\"\", this.properties, this.defaultPropertiesProvider);\r\n    headerProperties = new HeaderProperties(this.properties);\r\n\r\n\r\n    contentTextSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextSize\", defaultProvider)}\r\n    contentTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextColor\", defaultProvider)}\r\n    contentTextFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {return this.properties.getOptionalStringProperty(\"contentTextFont\", defaultProvider)}\r\n\r\n    paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n    bordersProperties = new BordersProperties(this.properties);\r\n    backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n\r\n    override getChildren(): Array<ScreenComponentRefId> {\r\n      return this.children;\r\n    }\r\n\r\n    static copy(other: SectionContainerDefinition): SectionContainerDefinition {\r\n      return new SectionContainerDefinition(\r\n        ScreenComponentId.copy(other.id),\r\n        Option.copy(other.identifier),\r\n        ComponentProperties.copy(other.properties),\r\n        ComponentActionProperties.copy(other.actionProperties),\r\n        ComponentValidationRules.copy(other.validationRules),\r\n        other.children.map(ScreenComponentRefId.copy)\r\n      )\r\n    }\r\n\r\n\r\n\r\n    static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"SectionDefinition\", (name:string) => {\r\n      switch (name) {\r\n        case \"model\": return OptionalModelProperty.disabled(); // used by root panel\r\n        default: return null;\r\n      }},\r\n      DefaultPropertyProvider.definitionLabel,\r\n      DefaultPropertyProvider.containerPlain,\r\n      DefaultPropertyProvider.containerPaddings,\r\n      DefaultPropertyProvider.definitionBackgrounds,\r\n      DefaultPropertyProvider.definitionSectionHeader,\r\n      DefaultPropertyProvider.definitionComponent,\r\n      DefaultPropertyProvider.definitionBorders);\r\n\r\n      override displayName(): string {\r\n      return (this.header.settingsUnwrapped().toSettingsType().isStaticValue() ? this.header.staticValue.getCurrentWithFallback() : \"\");\r\n    }\r\n  }\r\n\r\n\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  HeaderPropertiesState,\r\n  LayoutsPropertiesState,\r\n  OptionalContextComponentState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState\r\n} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\n\r\nexport class SectionContainerState extends OptionalContextComponentState {\r\n  static className = \"SectionContainerState\";\r\n\r\n  className() {\r\n    return SectionContainerState.className;\r\n  }\r\n\r\n  constructor(public override innerContext: Option<VariableId>,\r\n              override readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get contentTextSize() {\r\n    return this.properties.optionalStringProperty(\"textSize\")\r\n  }\r\n\r\n  get contentTextColor() {\r\n    return this.properties.optionalStringProperty(\"textColor\")\r\n  }\r\n\r\n  get contentTextFont() {\r\n    return this.properties.optionalStringProperty(\"textFont\")\r\n  }\r\n\r\n  get header() {\r\n    return this.properties.optionalI18nTextProperty(\"header\")\r\n  }\r\n\r\n  get headerVisible() {\r\n    return this.properties.booleanProperty(\"headerVisible\")\r\n  }\r\n\r\n  readonly layoutsState = new LayoutsPropertiesState(\"\", this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n  readonly headerState = new HeaderPropertiesState(this.properties);\r\n\r\n  static copy(other: SectionContainerState) {\r\n    return new SectionContainerState(Option.copy(other.innerContext).map(VariableId.copy), PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n  updateInnerContext(innerContext: Option<VariableId>): void {\r\n    this.innerContext = innerContext;\r\n  }\r\n}\r\n\r\nexport class SectionContainerRefState extends ScreenComponentRefState {\r\n  static className = \"SectionContainerRefState\";\r\n\r\n  className() {\r\n    return SectionContainerRefState.className;\r\n  }\r\n\r\n  constructor(override readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: SectionContainerRefState) {\r\n    return new SectionContainerRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n","import {\r\n  AddedSpace,\r\n  ComponentStatus,\r\n  ComponentViewModelUtils,\r\n  CssUtils,\r\n  GridSizeProperty,\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  LayoutWrap,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen,\r\n  ScreenComponentsState,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  ScreenExternalEventBus,\r\n  ScreenFormConfig,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel,\r\n  SectionContainerDefinition,\r\n  SectionContainerRef,\r\n  SectionContainerRefState,\r\n  SectionContainerState,\r\n  SizeProperty,\r\n  SizeUtils,\r\n  TextFont\r\n} from \"@screens\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {clearArray, overwriteArray} from \"@libs/Collections\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {range} from \"@libs/Array\";\r\n\r\n\r\nexport class SectionContainerViewModel extends ScreenContainerViewModel {\r\n\r\n    override typeName = \"Section\";\r\n\r\n    public override layoutClass: string = \"\";\r\n    public layoutAlignClass: string = \"\";\r\n    public layoutStretchClass: string = \"\";\r\n    public layoutWrapClass: string = \"\";\r\n    public override cssClass: string  = \"\";\r\n    public header: string = \"\";\r\n    public headerVisible: boolean = false;\r\n\r\n    readonly children: Array<ScreenComponentViewModel> = [];\r\n    readonly visibleChildren: Array<ScreenComponentViewModel> = [];\r\n\r\n    public combinedCss: string = \"\";\r\n    public childrenPlainCss = \"\";\r\n    public contentConstraintCss = \"\";\r\n    public headerCss: string = \"\";\r\n\r\n    public clickable: boolean;\r\n\r\n    childrenPanelDeltaHeightRem = 0;\r\n\r\n    private static GRID_REM_SIZE: number = 3;\r\n\r\n    constructor(override readonly shared: ScreenSharedViewModel,\r\n                readonly externalEventBus: ScreenExternalEventBus,\r\n                override readonly parent: ScreenContainerViewModel|null,\r\n                override readonly definition: SectionContainerDefinition,\r\n                override readonly componentScreenId: string,\r\n                override readonly ref: SectionContainerRef,\r\n                override readonly refScreenId: string,\r\n                override readonly componentState: SectionContainerState,\r\n                override readonly refState: SectionContainerRefState,\r\n                readonly context: VariableId,\r\n                readonly serverModel: ScreenInstanceServerModel,\r\n                readonly componentsState: ScreenComponentsState,\r\n                readonly createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n      super(parent, componentState, refState, definition, shared);\r\n      this.clickable = definition.actionProperties.getActions(\"onClick\").length > 0;\r\n      this.update();\r\n    }\r\n\r\n    onClick() {\r\n      if(this.definition.actionProperties.getActions(\"onClick\").length > 0) {\r\n        this.serverModel.executeAction(this.componentRefPath(), \"onClick\")\r\n      }\r\n    }\r\n\r\n    getAllChildren(): Array<ScreenComponentViewModel> {\r\n      return this.children;\r\n    }\r\n\r\n    override componentName(): string {\r\n      if(this.headerVisible && this.header.trim().length > 0) {\r\n        return this.header;\r\n      } else {\r\n        return super.componentName();\r\n      }\r\n    }\r\n\r\n    getLayoutForComponent(componentRefId: ScreenComponentRefId) {\r\n      return LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n    }\r\n\r\n\r\n\r\n    updateContainer(deep: boolean): void {\r\n\r\n      const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n      if(this.uncoveredAndVisible && this.status == ComponentStatus.initialized) {\r\n\r\n        const maxHeight = this.definition.sizeProperties.maxHeight.currentValue(() => this.componentState.boxState.maxHeight).valueOrDefault(None());\r\n        const maxWidth = this.definition.sizeProperties.maxWidth.currentValue(() => this.componentState.boxState.maxHeight).valueOrDefault(None());\r\n        const contentMinHeight = this.definition.sizeProperties.contentMinHeight.currentValue(() => this.componentState.boxState.contentMinHeight).valueOrDefault(None());\r\n        const contentMinWidth = this.definition.sizeProperties.contentMinWidth.currentValue(() => this.componentState.boxState.contentMinWidth).valueOrDefault(None());\r\n\r\n        const headerOption = this.definition.header.currentValue(() => this.componentState.header).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n        this.header = headerOption.getOrElse(\"\");\r\n        this.headerVisible = headerOption.isDefined();\r\n\r\n        const layout = LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n\r\n        const childrenContext = this.componentState.innerContext.getOrElse(this.context);\r\n        const modelProperty = this.definition.model.currentValue(() => this.componentState.properties.optionalModelProperty(\"model\"));\r\n        if(modelProperty.isSuccess()) {\r\n          const children = this.definition.children.map((childRefId, index) => {\r\n            return __(this.children).find(child => child.ref.id.id == childRefId.id && child.context.id === childrenContext.id)\r\n              .getOrElseLazy(() => this.createViewModel(this, ScreenComponentRefIdInScreen.of(this.componentScreenId, childRefId), this.componentState.innerContext));\r\n          });\r\n          overwriteArray(this.children, children);\r\n        }\r\n\r\n        let css = \"\";\r\n\r\n        const textSize = this.definition.contentTextSize(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n        const textColor = this.definition.contentTextColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextColor).valueOrDefault(None());\r\n        const textFont = this.definition.contentTextFont(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n        const contentMinHeightValue = contentMinHeight.map(v => SizeProperty.sizeToCss(unit, v));\r\n        const headerMinHeightValue = this.definition.headerProperties.headerMinHeight(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.headerState.headerMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n        const font = CssUtils.font(textFont, textSize, false, false, false, false, textColor);\r\n        const paddings = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState);\r\n\r\n        this.childrenPlainCss = font + paddings;\r\n\r\n        this.childrenPlainCss += CssUtils.childrenPlainMinHeight(contentMinHeightValue, headerMinHeightValue, this.headerVisible, Some(this.childrenPanelDeltaHeightRem + \"rem\"));\r\n\r\n        const contentMinWidthValue = contentMinWidth.map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n        if(contentMinWidth.isDefined()){\r\n          this.childrenPlainCss += CssUtils.minSizes(contentMinWidthValue.orElse(Some(\"0rem\")), None());\r\n        }\r\n\r\n        this.childrenPlainCss += CssUtils.sectionContentOverflow(maxWidth, maxHeight);\r\n\r\n        if (layout.isGrid()) {\r\n\r\n          const rows = this.definition.layoutsProperties.rows.currentValue(() => this.componentState.layoutsState.rows).valueOrDefault(2);\r\n          const columns = this.definition.layoutsProperties.columns.currentValue(() => this.componentState.layoutsState.columns).valueOrDefault(2);\r\n\r\n          const columnsCss =  range(columns).map(r =>  GridSizeProperty.sizeToCss(unit, this.definition.properties.getStringProperty(\"column|\"+r+\"|width\", SectionContainerDefinition.DEFAULT_PROPERTIES).currentValue(() => this.componentState.properties.stringProperty(\"column|\"+r+\"|width\")).valueOrDefault(\"auto\")));\r\n          const rowsCss =  range(rows).map(r =>  GridSizeProperty.sizeToCss(unit, this.definition.properties.getStringProperty(\"row|\"+r+\"|height\", SectionContainerDefinition.DEFAULT_PROPERTIES).currentValue(() => this.componentState.properties.stringProperty(\"row|\"+r+\"|height\")).valueOrDefault(\"auto\")));\r\n\r\n          this.childrenPlainCss += \"grid-template-columns: \" + columnsCss.join(\" \") + \";\";\r\n          this.childrenPlainCss += \"grid-template-rows: \" + rowsCss.join(\" \") + \";\";\r\n        }\r\n\r\n        if(!layout.isStatic()) {\r\n          const gapColumn = this.definition.layoutsProperties.gapColumn.currentValue(() => this.componentState.layoutsState.gapColumn).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n          const gapRow = this.definition.layoutsProperties.gapRow.currentValue(() => this.componentState.layoutsState.gapRow).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n          this.childrenPlainCss += CssUtils.gaps(gapRow, gapColumn);\r\n        }\r\n\r\n        const backgroundColorValue = this.definition.backgroundsProperties.backgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.backgroundsState.backgroundColor).valueOrDefault(None());\r\n\r\n        this.childrenPlainCss += CssUtils.backgroundColor(backgroundColorValue);\r\n\r\n          css += ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n        const defaultHeight = this.ref.positionProperties.desiredHeight.currentValue(() => this.refState.positionState.desiredHeight).valueOrDefault(None());\r\n        const defaultWidth = this.ref.positionProperties.desiredWidth.currentValue(() => this.refState.positionState.desiredWidth).valueOrDefault(None());\r\n\r\n        css += CssUtils.minSizes(\r\n          defaultWidth.map(v => SizeProperty.sizeToCss(unit, v)),\r\n          defaultHeight.map(v => SizeProperty.sizeToCss(unit, v))\r\n        );\r\n\r\n        css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n\r\n\r\n\r\n        this.headerCss = ComponentViewModelUtils.toHeaderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.headerProperties, this.componentState.headerState);\r\n\r\n\r\n        this.layoutClass = layout.name;\r\n\r\n        const layoutAlign = LayoutAlign.byName(this.definition.layoutsProperties.layoutAlign.currentValue(() => this.componentState.layoutsState.layoutAlign).valueOrDefault(LayoutAlign.DEFAULT.name));\r\n        this.layoutAlignClass = layoutAlign.name;\r\n        const layoutStretch = LayoutStretch.byName(this.definition.layoutsProperties.layoutStretch.currentValue(() => this.componentState.layoutsState.layoutStretch).valueOrDefault(LayoutStretch.DEFAULT.name));\r\n        this.layoutStretchClass = layoutStretch.name;\r\n        const layoutWrap = LayoutWrap.byName(this.definition.layoutsProperties.layoutWrap.currentValue(() => this.componentState.layoutsState.layoutWrap).valueOrDefault(LayoutWrap.wrap.name));\r\n        this.layoutWrapClass = layoutWrap.name;\r\n\r\n        super.updatePosition();\r\n        this.combinedCss = css + this.sizeCss;\r\n\r\n        clearArray(this.visibleChildren);\r\n        this.visibleChildren.push(... this.children.filter(c => c.visible));\r\n\r\n      }\r\n    }\r\n\r\n\r\n    ifDefined(propertyName: string, value: string|null) {\r\n      if(value == null || value.length === 0) {\r\n        return \"\";\r\n      } else {\r\n        return propertyName+\":\"+value+\";\";\r\n      }\r\n    }\r\n\r\n    childDeltaHeightChanged(): void {\r\n      // shift down only children that are below start of added space\r\n\r\n      const layout = LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n\r\n      if(layout.isStatic()) {\r\n\r\n        const allDeltas: Array<AddedSpace> = ___(this.children).filter(t => t.getDefaultStaticBottom().isDefined()).map(t => {\r\n          const bottomRem = t.getDefaultStaticBottom().get() * SectionContainerViewModel.GRID_REM_SIZE;\r\n          const deltaHeightRem = t.deltaHeightRem;\r\n          return new AddedSpace(bottomRem, deltaHeightRem);\r\n        }).filter(d => d.sizeRem > 0).value();\r\n\r\n        this.childrenPanelDeltaHeightRem = ___(this.combineDeltas(allDeltas)).map(d => d.sizeRem).sum();\r\n\r\n        this.children.forEach(child => {\r\n          const componentTop = child.getDefaultStaticTop();\r\n          if (componentTop.isDefined()) {\r\n            const top = componentTop.get() * SectionContainerViewModel.GRID_REM_SIZE;\r\n            const deltasAbove = allDeltas.filter(d => d.fromRem <= top);\r\n            const combinedDeltasAbove = this.combineDeltas(deltasAbove);\r\n            const deltasSum = ___(combinedDeltasAbove).map(d => d.sizeRem).sum();\r\n            child.changeDeltaTopRem(deltasSum);\r\n          }\r\n\r\n        });\r\n      } else {\r\n        this.childrenPanelDeltaHeightRem = 0;\r\n        this.children.forEach(child => {\r\n          child.changeDeltaTopRem(0);\r\n        });\r\n      }\r\n\r\n      this.update();\r\n    }\r\n\r\n    private combineDeltas(deltas: Array<AddedSpace>) {\r\n      if(deltas.length > 0) {\r\n        const sorted = __(deltas).sortBy(d => d.fromRem);\r\n\r\n        const current = sorted[0];\r\n        let last: AddedSpace = new AddedSpace(current.fromRem, current.sizeRem);\r\n        const combined: Array<AddedSpace> = [last];\r\n        sorted.forEach(current => {\r\n          const lastTo = last.fromRem + last.sizeRem;\r\n          if(current.fromRem >= last.fromRem && current.fromRem <= lastTo) {\r\n            last.sizeRem = Math.max(last.sizeRem, current.fromRem + current.sizeRem - last.fromRem);\r\n          } else {\r\n            last = new AddedSpace(current.fromRem, current.sizeRem);\r\n            combined.push(last);\r\n          }\r\n        });\r\n        return combined;\r\n      } else {\r\n        return deltas;\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n      if(this.id == id) {\r\n        return Some(this);\r\n      } else {\r\n        for(let i = 0; i < this.children.length; i++) {\r\n          const child = this.children[i];\r\n          if(child.id == id) {\r\n            return Some(child);\r\n          } else if(child.isContainer()) {\r\n            const childSuccessor = (<ScreenContainerViewModel>child).getComponentById(id);\r\n            if(childSuccessor.isDefined()) {\r\n              return childSuccessor;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return None();\r\n    }\r\n\r\n\r\n    static create(shared: ScreenSharedViewModel,\r\n                  externalEventBus: ScreenExternalEventBus,\r\n                  parent: ScreenContainerViewModel|null,\r\n                  context: VariableId,\r\n                  definition: SectionContainerDefinition,\r\n                  componentScreenId: string,\r\n                  ref: SectionContainerRef,\r\n                  refScreenId: string,\r\n                  componentState: SectionContainerState,\r\n                  refState: SectionContainerRefState,\r\n                  serverModel: ScreenInstanceServerModel,\r\n                  componentsState: ScreenComponentsState,\r\n                  createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n\r\n      return new SectionContainerViewModel(shared, externalEventBus, parent, definition, componentScreenId, ref, refScreenId, componentState, refState, context, serverModel, componentsState, createViewModel);\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {SectionContainerViewModel} from \"./SectionContainerViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-section-container[viewModel]',\r\n  templateUrl: './section-container.component.html',\r\n  // styleUrls: ['./section-container.component.scss']\r\n})\r\nexport class SectionContainerComponent {\r\n  @Input() viewModel!: SectionContainerViewModel;\r\n\r\n}\r\n","<div class=\"SectionContainer componentBody {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     [style]=\"viewModel.combinedCss\"\r\n     [ngClass]=\"{withHeader: viewModel.headerVisible, clickable: viewModel.clickable}\" (click)=\"viewModel.onClick()\">\r\n  <div class=\"clickableGlass\" *ngIf=\"viewModel.clickable\"></div>\r\n  <div class=\"sectionHeader\" *ngIf=\"viewModel.headerVisible\" [style]=\"viewModel.headerCss\">{{viewModel.header}}</div>\r\n  <div\r\n    class=\"childrenPlain layout_{{viewModel.layoutClass}} layoutAlign_{{viewModel.layoutAlignClass}} layoutStretch_{{viewModel.layoutStretchClass}} layoutWrap_{{viewModel.layoutWrapClass}}\"\r\n    [style]=\"viewModel.childrenPlainCss\">\r\n    <ng-container *ngFor=\"let component of viewModel.children\">\r\n      <div *ngIf=\"component.visible\" class=\"ViewComponent ViewComponent{{component.id}} layout_{{component.layoutClass}} {{component.errorClass}}\"\r\n           [style]=\"component.positionCss\">\r\n      <div class=\"componentBodyContainer labelPosition_{{component.label?.positionClass}}\">\r\n        <!--              SHARED -->\r\n        <ng-container [ngSwitch]=\"component.typeName\">\r\n          <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n          <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n          <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n          <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n          <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n          <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n          <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n          <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n          <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n          <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n          <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n          <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n          <my-date-input-component *ngSwitchCase=\"'DateInput'\" [viewModel]=\"$any(component)\"></my-date-input-component>\r\n\r\n          <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n          <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n          <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n          <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n          <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n          <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n          <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n          <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n          <div *ngSwitchDefault>\r\n            Unsupported Component {{component.typeName}}\r\n          </div>\r\n        </ng-container>\r\n        <div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n          <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n        </div>\r\n\r\n        <div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n        <!--              SHARED -->\r\n      </div>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","import {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {LabeledValuesProperty, OptionalBooleanProperty, OptionalI18nTextProperty} from \"@screens\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class DropListComponentRef extends InputComponentRef {\r\n  static className = \"DropListComponentRef\";\r\n\r\n  className() {\r\n    return DropListComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: DropListComponentRef): DropListComponentRef {\r\n    return new DropListComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"DropListRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = DropListComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class DropListComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"DropListComponentDefinition\";\r\n  className() {\r\n    return DropListComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"DropList\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,DropListComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get placeholder(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"placeholder\", this.defaultPropertiesProvider)}\r\n\r\n  get options(): LabeledValuesProperty {return this.properties.getLabeledValuesProperty(\"options\", this.defaultPropertiesProvider)}\r\n  innerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"innerShadow\", defaultProvider);\r\n  }\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n\r\n  static copy(other: DropListComponentDefinition): DropListComponentDefinition {\r\n    return new DropListComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [DropListComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"DropListComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"placeholder\": return OptionalI18nTextProperty.disabled();\r\n      case \"innerShadow\": return OptionalBooleanProperty.disabled(true);\r\n      case \"options\": return LabeledValuesProperty.of([\"ABC\", \"DEF\", \"GHI\"]);\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n}\r\n","import {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\nimport {DropListComponentDefinition} from \"./DropListComponentDefinition\";\nimport {\n  BackgroundsPropertiesState,\n  BordersPropertiesState, LabelPropertiesState,\n  PaddingsPropertiesState,\n  PropertiesStateHolder,\n  TextPropertiesState\n} from \"@screens\";\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\nimport {Option} from \"@libs/Option\";\n\nexport class DropListComponentState extends LabeledScreenComponentState {\n  static className = \"DropListComponentState\";\n  className() {\n    return DropListComponentState.className;\n  }\n  readonly textState = new TextPropertiesState(this.properties);\n  override readonly labelState = new LabelPropertiesState(this.properties);\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\n  readonly bordersState = new BordersPropertiesState(this.properties);\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\n\n  constructor(readonly properties: PropertiesStateHolder) {\n    super(properties);\n  }\n\n  get model() {\n    return this.properties.optionalModelProperty(DropListComponentDefinition.MODEL);\n  }\n\n  get placeholder() {\n    return this.properties.optionalI18nTextProperty(\"placeholder\");\n  }\n\n  get options() {\n    return this.properties.labeledValuesProperty(\"options\");\n  }\n\n  get innerShadow() {\n    return this.properties.optionalBooleanProperty(\"innerShadow\");\n  }\n\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\n    switch (modelName) {\n      case DropListComponentDefinition.MODEL:\n        if(value.isDefined()) {\n          this.properties.putValue(DropListComponentDefinition.MODEL, value.get());\n        } else {\n          this.properties.clearValue(DropListComponentDefinition.MODEL);\n        }\n        break;\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\n    }\n  }\n\n  static copy(other: DropListComponentState) {\n    return new DropListComponentState(PropertiesStateHolder.copy(other.properties));\n  }\n\n}\n\nexport class DropListComponentRefState extends ScreenComponentRefState {\n  static className = \"DropListComponentRefState\";\n  className() {\n    return DropListComponentRefState.className;\n  }\n\n  get required() {\n    return this.properties.booleanProperty(\"required\");\n  }\n\n  constructor(readonly properties: PropertiesStateHolder) {\n    super(properties);\n  }\n\n  static copy(other: DropListComponentRefState) {\n    return new DropListComponentRefState(PropertiesStateHolder.copy(other.properties));\n  }\n\n}\n","import {BusinessVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {\r\n  ComponentsCommon,\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel\r\n} from \"@screens\";\r\nimport {DropListComponentDefinition, DropListComponentRef} from \"./DropListComponentDefinition\";\r\nimport {DropListComponentRefState, DropListComponentState} from \"./DropListComponentState\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {depolonize, depolonizeLowerCase} from \"@libs/Internationalization\";\r\nimport {i18n} from \"../../../shared/internationalization/i18n.service\";\r\n\r\nexport class SelectComponentOption {\r\n  constructor(readonly id: string,\r\n              public selected: boolean,\r\n              readonly label: string,\r\n              readonly value: BusinessVariable | undefined) {}\r\n\r\n  static of(index: number, value: BusinessVariable) {\r\n    if(value instanceof ObjectVariable) {\r\n      if(value.valueFor(\"label\").isDefined() && value.valueFor(\"value\")) {\r\n        return new SelectComponentOption(index+\"\", false, value.valueFor(\"label\").get().valueToSimpleString(), value.valueFor(\"value\").get());\r\n      } else {\r\n        throw new Error(\"Objects in options must have fields 'value' and 'label'\");\r\n      }\r\n    } else {\r\n      return new SelectComponentOption(index+\"\", false, value.valueToSimpleString(), value);\r\n    }\r\n  }\r\n\r\n  static EMPTY(placeholder: string) {\r\n    return new SelectComponentOption(\"xnp7Y6uPONKZiKEr\", false, placeholder, undefined);\r\n  }\r\n}\r\n\r\nexport class DropListComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"DropList\";\r\n\r\n\r\n  public notSelected: boolean = true;\r\n  public valueId: string|undefined;\r\n  public valueLabel: string|undefined;\r\n  public valueDefined: boolean = false;\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public placeholder: string = \"\";\r\n  public outsideCss: string = \"\";\r\n  public innerCss: string = \"\";\r\n  public required: boolean = false\r\n\r\n  public options!: Array<SelectComponentOption>;\r\n  public filterVisible: boolean = false;\r\n\r\n  // Temporary state\r\n  public filter: string = \"\";\r\n  public visibleOptions!: Array<SelectComponentOption>;\r\n  public activeIndex = 0;\r\n\r\n  public outerShadowCss = \"\";\r\n  public css = \"\";\r\n\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: DropListComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: DropListComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: DropListComponentState,\r\n              readonly refState: DropListComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.innerCss =  ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.placeholder = this.definition.placeholder.currentValue(() => this.componentState.placeholder).valueOrDefault(None()).map(p => p.getCurrentWithFallback()).getOrElse(\"-- \"+i18n(\"screen_select_select\")+\" --\");\r\n\r\n    this.options = [SelectComponentOption.EMPTY(this.placeholder)].concat(this.definition.options.currentValue(() => this.componentState.options).valueOrDefault([]).map((s, index) => SelectComponentOption.of(index, s)));\r\n    this.filterVisible = this.options.length > 5;\r\n\r\n    this.prepareValue();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.outerShadowCss = ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n    const innerShadow = this.definition.innerShadow(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.innerShadow).valueOrDefault(None());\r\n    this.innerCss += ComponentsCommon.innerShadowCss(innerShadow);\r\n\r\n    console.log(\"css updated\");\r\n\r\n    this.updateTemporaryState();\r\n    super.updatePosition();\r\n\r\n    this.css = this.innerCss + this.sizeCss;\r\n  }\r\n\r\n  private matches(option: SelectComponentOption, filter: string): boolean {\r\n    const trimmedFilter = filter.trim();\r\n    if(trimmedFilter.length == 0) {\r\n      return true;\r\n    } else {\r\n\r\n      const normalizedFilter = depolonize(trimmedFilter);\r\n      const normalizedLowercaseFilter = normalizedFilter.toLocaleLowerCase();\r\n\r\n      const labelLowercase = depolonizeLowerCase(option.label.trim());\r\n      if(labelLowercase.indexOf(normalizedLowercaseFilter) >= 0) {\r\n        return true;\r\n      } else {\r\n       const splittedWords = normalizedLowercaseFilter.split(/\\s/).map(w => w.toLocaleLowerCase());\r\n       if(splittedWords.length > 1) {\r\n         return __(splittedWords).all(w => labelLowercase.indexOf(w) >= 0);\r\n       } else {\r\n         const camelCaseWords = normalizedFilter.split(/(?=[A-Z])/).map(w => w.toLocaleLowerCase());\r\n         return __(camelCaseWords).all(w => labelLowercase.indexOf(w) >= 0);\r\n       }\r\n      }\r\n    }\r\n  }\r\n\r\n  updateTemporaryState() {\r\n    this.visibleOptions = this.options.filter(o => this.matches(o, this.filter));\r\n    this.updateActiveIndexToSelected();\r\n  }\r\n\r\n  updateActiveIndexToSelected() {\r\n    this.activeIndex = __(this.visibleOptions).findIndexOf(o => o.id == this.valueId).getOrElse(0);\r\n  }\r\n\r\n  activeNext(){\r\n    this.activeIndex++;\r\n    if(this.activeIndex >= this.visibleOptions.length){\r\n      this.activeIndex = 0;\r\n    }\r\n  }\r\n\r\n  activePrevious(){\r\n    this.activeIndex--;\r\n    if(this.activeIndex < 0){\r\n      this.activeIndex = this.visibleOptions.length - 1;\r\n    }\r\n  }\r\n\r\n  selectActive(){\r\n    if(this.visibleOptions.length > this.activeIndex) {\r\n      this.optionSelected(this.visibleOptions[this.activeIndex]);\r\n    }\r\n  }\r\n\r\n  filterUpdated() {\r\n    this.updateTemporaryState();\r\n  }\r\n\r\n  clearFilter() {\r\n    this.filter = \"\";\r\n    this.filterUpdated();\r\n  }\r\n\r\n  prepareValue(): void {\r\n    const valueOption = this.componentState.model.valueOrDefault(None());\r\n    this.notSelected = valueOption.isEmpty();\r\n    const value = valueOption.getOrUndefined();\r\n    const existing = __(this.options).find(o => o.value == undefined && value == undefined || o.value != undefined && o.value.isEqual(value));\r\n\r\n    if(existing.isDefined()) {\r\n      this.valueId = existing.get().id;\r\n      this.valueLabel = existing.get().label;\r\n    } else {\r\n      this.valueId = \"-0\"; // TODO handle missing option\r\n      this.valueLabel = \"???\";\r\n    }\r\n    this.valueDefined = valueOption.isDefined();\r\n  }\r\n\r\n\r\n\r\n  optionSelected(option: SelectComponentOption) {\r\n    this.valueId = option.id;\r\n    this.valueLabel = option.label;\r\n\r\n    if (option.value === undefined || option.value === null) {\r\n      this.notSelected = true;\r\n      this.componentState.updateModel(DropListComponentDefinition.MODEL, None());\r\n      this.serverModel.clearModelWithAction(this.componentRefPath(), DropListComponentDefinition.MODEL, DropListComponentDefinition.ON_CHANGE);\r\n    } else {\r\n      this.notSelected = false;\r\n      this.componentState.updateModel(DropListComponentDefinition.MODEL, Some(option.value));\r\n      this.serverModel.changeModelWithAction(this.componentRefPath(), DropListComponentDefinition.MODEL, option.value, DropListComponentDefinition.ON_CHANGE);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import {\r\n  BackgroundsProperties,\r\n  BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties,\r\n  ComponentValidationRules,\r\n  DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabeledValuesProperty,\r\n  LabelProperties, OptionalStringProperty,\r\n  PaddingsProperties,\r\n  ScreenComponentDefinitionWithLabel,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId,\r\n  StringProperty,\r\n  TextsProperties\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SelectEntriesLayoutType {\r\n  static horizontal = new SelectEntriesLayoutType(\"horizontal\");\r\n  static vertical = new SelectEntriesLayoutType(\"vertical\");\r\n\r\n  constructor(readonly name: string) {}\r\n\r\n  static of(name: string) {\r\n    switch (name) {\r\n      case SelectEntriesLayoutType.horizontal.name: return SelectEntriesLayoutType.horizontal;\r\n      case SelectEntriesLayoutType.vertical.name: return SelectEntriesLayoutType.vertical;\r\n      default: throw new Error(\"Incorrect entries layout value [\"+name+\"]\");\r\n    }\r\n  }\r\n\r\n  isHorizontal() {\r\n    return this.name === SelectEntriesLayoutType.horizontal.name;\r\n  }\r\n\r\n  isVertical() {\r\n    return this.name === SelectEntriesLayoutType.vertical.name;\r\n  }\r\n\r\n  toCssClass() {\r\n    switch (this.name) {\r\n      case SelectEntriesLayoutType.horizontal.name: return SelectEntriesLayoutType.horizontal.name;\r\n      case SelectEntriesLayoutType.vertical.name: return SelectEntriesLayoutType.vertical.name;\r\n      default: throw new Error(\"Incorrect entries layout value [\"+this.name+\"]\");\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class MultiCheckboxComponentRef extends InputComponentRef {\r\n  static className = \"MultiCheckboxComponentRef\";\r\n\r\n  className() {\r\n    return MultiCheckboxComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: MultiCheckboxComponentRef): MultiCheckboxComponentRef {\r\n    return new MultiCheckboxComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"MultiCheckboxRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = MultiCheckboxComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class MultiCheckboxComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"MultiCheckboxComponentDefinition\";\r\n  className() {\r\n    return MultiCheckboxComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"MultiCheckbox\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,MultiCheckboxComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get options(): LabeledValuesProperty {return this.properties.getLabeledValuesProperty(\"options\", this.defaultPropertiesProvider)};\r\n\r\n  get entriesLayout(): StringProperty {return this.properties.getStringProperty(\"entriesLayout\", this.defaultPropertiesProvider)}\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  iconBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"iconBackgroundColor\", defaultProvider);\r\n  }\r\n\r\n  static copy(other: MultiCheckboxComponentDefinition): MultiCheckboxComponentDefinition {\r\n    return new MultiCheckboxComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [MultiCheckboxComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"MultiCheckboxComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"options\": return LabeledValuesProperty.of([\"ABC\", \"DEF\", \"GHI\"]);\r\n      case \"iconBackgroundColor\": return OptionalStringProperty.disabled(\"#000000ff\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionEntriesLayout,\r\n    DefaultPropertyProvider.definitionBorders, DefaultPropertyProvider.definitionPaddings);\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState,\r\n  LabeledScreenComponentState,\r\n  LabelPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  ScreenComponentRefState,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {ArrayVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {MultiCheckboxComponentDefinition} from \"./MultiCheckboxComponentDefinition\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class MultiCheckboxComponentState extends LabeledScreenComponentState {\r\n  static className = \"MultiCheckboxComponentState\";\r\n  className() {\r\n    return MultiCheckboxComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalArrayProperty(MultiCheckboxComponentDefinition.MODEL);\r\n  }\r\n\r\n  get options() {\r\n    return this.properties.labeledValuesProperty(\"options\");\r\n  }\r\n\r\n  get entriesLayout() {\r\n    return this.properties.stringProperty(\"entriesLayout\")\r\n  }\r\n\r\n  get iconBackgroundColor() {return this.properties.optionalStringProperty(\"iconBackgroundColor\")}\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case MultiCheckboxComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get().className() === ArrayVariable.className && (<ArrayVariable<BusinessVariable>>value.get()).nonEmpty()) {\r\n          this.properties.putValue(MultiCheckboxComponentDefinition.MODEL, value.get());\r\n        } else if(value.isDefined()) {\r\n          throw Error(\"Unable to set value, expected Array but was [\"+value.get().className()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(MultiCheckboxComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: MultiCheckboxComponentState) {\r\n    return new MultiCheckboxComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class MultiCheckboxComponentRefState extends ScreenComponentRefState {\r\n  static className = \"MultiCheckboxComponentRefState\";\r\n  className() {\r\n    return MultiCheckboxComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: MultiCheckboxComponentRefState) {\r\n    return new MultiCheckboxComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel, CssUtils,\r\n  ScreenContainerViewModel,\r\n  ScreenInstanceServerModel,\r\n  ScreenSharedViewModel\r\n} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {\r\n  MultiCheckboxComponentDefinition,\r\n  MultiCheckboxComponentRef,\r\n  SelectEntriesLayoutType\r\n} from \"./MultiCheckboxComponentDefinition\";\r\nimport {MultiCheckboxComponentRefState, MultiCheckboxComponentState} from \"./MultiCheckboxComponentState\";\r\nimport {SelectComponentOption} from \"./select-common\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {ArrayVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {randomString} from \"@libs/Strings\";\r\n\r\nexport class MultiCheckboxComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"MultiCheckbox\";\r\n\r\n\r\n  public value: Array<string> = [];\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public css: string = \"\";\r\n  public required: boolean = false;\r\n  public invalid: boolean = false; //TODO\r\n  public classes = \"\";\r\n\r\n  public iconBackgroundColorCss: string|null = null;\r\n\r\n  public options: Array<SelectComponentOption> = [];\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: MultiCheckboxComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: MultiCheckboxComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: MultiCheckboxComponentState,\r\n              readonly refState: MultiCheckboxComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onSelect(changed: SelectComponentOption) {\r\n    if(this.uncoveredAndVisible && this.editable) {\r\n\r\n      changed.selected = !changed.selected;\r\n      if (changed.selected) {\r\n        this.value.push(changed.id);\r\n      } else {\r\n        this.value.splice(this.value.indexOf(changed.id), 1);\r\n      }\r\n\r\n      if (this.value.length === 0) {\r\n        this.componentState.updateModel(MultiCheckboxComponentDefinition.MODEL, None());\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), MultiCheckboxComponentDefinition.MODEL, new ArrayVariable([]), MultiCheckboxComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        const value: Array<BusinessVariable> = this.value.map(v => __(this.options).find(o => o.id === v).getOrError(\"No value in checkbox found\")).map(v => v.value!);\r\n        this.componentState.updateModel(MultiCheckboxComponentDefinition.MODEL, Some(new ArrayVariable(value.map(v => Typed.of(v)))));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), MultiCheckboxComponentDefinition.MODEL, new ArrayVariable(value.map(v => Typed.of(v))), MultiCheckboxComponentDefinition.ON_CHANGE);\r\n      }\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.options = this.definition.options.currentValue(() => this.componentState.options).valueOrDefault([]).map((s, index) => SelectComponentOption.of(index, s));\r\n    this.value = this.prepareValue();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    const entriesLayoutCssClass = SelectEntriesLayoutType.of(this.definition.entriesLayout.currentValue(() => this.componentState.entriesLayout).valueOrDefault(SelectEntriesLayoutType.vertical.name)).toCssClass();\r\n    this.classes = (this.cssClass+\" \"+entriesLayoutCssClass).trim()+` MultiCheckboxComponent_${this.id}`;\r\n\r\n    this.iconBackgroundColorCss = this.definition.iconBackgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.iconBackgroundColor).valueOrDefault(None()).getOrNull();\r\n\r\n    super.updatePosition();\r\n\r\n  }\r\n\r\n  prepareValue(): Array<string> {\r\n    const value = this.componentState.model.valueOrDefault(None()).getOrElse(new ArrayVariable([])).unwrappedValue();\r\n    this.options.forEach(o => o.selected = false);\r\n    const existing = __(this.options).filter(o => __(value).exists(v => v.isEqual(o.value)));\r\n    existing.forEach(o => o.selected = true);\r\n    return existing.map(e => e.id);\r\n  }\r\n\r\n}\r\n","import {\r\n  BackgroundsProperties, BordersProperties,\r\n  ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider, InputComponentRef,\r\n  LabelProperties, OptionalStringProperty, PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {LabeledValuesProperty, StringProperty} from \"../../model/PropertiesModel\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"../../model/ScreenSimpleModel\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class RadioButtonComponentRef extends InputComponentRef {\r\n  static className = \"RadioButtonComponentRef\";\r\n  className() {\r\n    return RadioButtonComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: RadioButtonComponentRef): RadioButtonComponentRef {\r\n    return new RadioButtonComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"RadioButtonRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = RadioButtonComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class RadioButtonComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"RadioButtonComponentDefinition\";\r\n  className() {\r\n    return RadioButtonComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"RadioButton\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,RadioButtonComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get options(): LabeledValuesProperty {return this.properties.getLabeledValuesProperty(\"options\", this.defaultPropertiesProvider)}\r\n\r\n  get entriesLayout(): StringProperty {return this.properties.getStringProperty(\"entriesLayout\", this.defaultPropertiesProvider)}\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  iconBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"iconBackgroundColor\", defaultProvider);\r\n  }\r\n\r\n  static copy(other: RadioButtonComponentDefinition): RadioButtonComponentDefinition {\r\n    return new RadioButtonComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [RadioButtonComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"RadioButtonComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"options\": return LabeledValuesProperty.of([\"ABC\", \"DEF\", \"GHI\"]);\r\n      case \"iconBackgroundColor\": return OptionalStringProperty.disabled(\"#000000ff\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionEntriesLayout,\r\n    DefaultPropertyProvider.definitionBorders, DefaultPropertyProvider.definitionPaddings);\r\n}\r\n","import {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\nimport {\n  BackgroundsPropertiesState,\n  BordersPropertiesState, LabelPropertiesState,\n  PaddingsPropertiesState,\n  PropertiesStateHolder,\n  TextPropertiesState\n} from \"@screens\";\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\nimport {RadioButtonComponentDefinition} from \"./RadioButtonComponentDefinition\";\nimport {Option} from \"@libs/Option\";\n\nexport class RadioButtonComponentState extends LabeledScreenComponentState {\n  static className = \"RadioButtonComponentState\";\n  className() {\n    return RadioButtonComponentState.className;\n  }\n  readonly textState = new TextPropertiesState(this.properties);\n  override readonly labelState = new LabelPropertiesState(this.properties);\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\n  readonly bordersState = new BordersPropertiesState(this.properties);\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\n\n  constructor(readonly properties: PropertiesStateHolder) {\n    super(properties);\n  }\n\n  get model() {\n    return this.properties.optionalModelProperty(RadioButtonComponentDefinition.MODEL);\n  }\n\n  get options() {\n    return this.properties.labeledValuesProperty(\"options\");\n  }\n\n  get entriesLayout() {\n    return this.properties.stringProperty(\"entriesLayout\")\n  }\n\n  get iconBackgroundColor() {return this.properties.optionalStringProperty(\"iconBackgroundColor\")}\n\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\n    switch (modelName) {\n      case RadioButtonComponentDefinition.MODEL:\n        if(value.isDefined()) {\n          this.properties.putValue(RadioButtonComponentDefinition.MODEL, value.get());\n        } else {\n          this.properties.clearValue(RadioButtonComponentDefinition.MODEL);\n        }\n        break;\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\n    }\n  }\n\n  static copy(other: RadioButtonComponentState) {\n    return new RadioButtonComponentState(PropertiesStateHolder.copy(other.properties));\n  }\n\n}\n\nexport class RadioButtonComponentRefState extends ScreenComponentRefState {\n  static className = \"RadioButtonComponentRefState\";\n  className() {\n    return RadioButtonComponentRefState.className;\n  }\n\n  get required() {\n    return this.properties.booleanProperty(\"required\");\n  }\n\n  constructor(readonly properties: PropertiesStateHolder) {\n    super(properties);\n  }\n\n  static copy(other: RadioButtonComponentRefState) {\n    return new RadioButtonComponentRefState(PropertiesStateHolder.copy(other.properties));\n  }\n\n}\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel,\r\n  ScreenContainerViewModel\r\n} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {RadioButtonComponentRefState, RadioButtonComponentState} from \"./RadioButtonComponentState\";\r\nimport {SelectEntriesLayoutType} from \"./MultiCheckboxComponentDefinition\";\r\nimport {SelectComponentOption} from \"./select-common\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {RadioButtonComponentDefinition, RadioButtonComponentRef} from \"./RadioButtonComponentDefinition\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\n\r\nexport class RadioButtonComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"RadioButton\";\r\n\r\n  public value: string|undefined;\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public css: string = \"\";\r\n  public required: boolean = false;\r\n  public invalid: boolean = false; //TODO\r\n\r\n  public classes = \"\";\r\n\r\n  public iconBackgroundColorCss: string|null = null;\r\n\r\n  public options: Array<SelectComponentOption> = [];\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: RadioButtonComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: RadioButtonComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: RadioButtonComponentState,\r\n              readonly refState: RadioButtonComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onSelect(selected: SelectComponentOption) {\r\n    if(this.uncoveredAndVisible && this.editable) {\r\n      this.options.filter(o => o !== selected).forEach(o => o.selected = false);\r\n      selected.selected = !selected.selected;\r\n\r\n      if (selected.selected) {\r\n        this.value = selected.id;\r\n      } else {\r\n        this.value = undefined;\r\n      }\r\n\r\n      if (this.value === undefined || this.value === null) {\r\n        this.componentState.updateModel(RadioButtonComponentDefinition.MODEL, None());\r\n        this.serverModel.clearModelWithAction(this.componentRefPath(), RadioButtonComponentDefinition.MODEL, RadioButtonComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        this.componentState.updateModel(RadioButtonComponentDefinition.MODEL, Some(selected.value!));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), RadioButtonComponentDefinition.MODEL, selected.value!, RadioButtonComponentDefinition.ON_CHANGE);\r\n      }\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n\r\n    this.options = this.definition.options.currentValue(() => this.componentState.options).valueOrDefault([]).map((s, index) => SelectComponentOption.of(index, s));\r\n    this.value = this.prepareValue();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n    const entriesLayoutCssClass = SelectEntriesLayoutType.of(this.definition.entriesLayout.currentValue(() => this.componentState.entriesLayout).valueOrDefault(SelectEntriesLayoutType.vertical.name)).toCssClass();\r\n    this.classes = (this.cssClass+\" \"+entriesLayoutCssClass).trim()+` RadioButtonComponent_${this.id}`;\r\n    super.updatePosition();\r\n\r\n    this.iconBackgroundColorCss = this.definition.iconBackgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.iconBackgroundColor).valueOrDefault(None()).getOrNull();\r\n\r\n  }\r\n\r\n  prepareValue(): string {\r\n    const value = this.componentState.model.valueOrDefault(None()).getOrUndefined();\r\n    this.options.forEach(o => o.selected = false);\r\n    const existing = __(this.options).find(o => o.value == undefined && value == undefined || o.value != undefined && o.value.isEqual(value));\r\n    existing.forEach(o => o.selected = true);\r\n    if(existing.isDefined()) {\r\n      return existing.get().id;\r\n    } else {\r\n      return \"-0\"; // TODO handle missing option\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import {OptionalStringProperty, ScreenComponentId, ScreenComponentRefId} from \"@screens\";\r\nimport {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties,\r\n  PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {\r\n  BooleanProperty,\r\n  I18nTextProperty,\r\n  TrileanProperty\r\n} from \"../../model/PropertiesModel\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SingleCheckboxComponentRef extends InputComponentRef {\r\n  static className = \"SingleCheckboxComponentRef\";\r\n\r\n  className() {\r\n    return SingleCheckboxComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: SingleCheckboxComponentRef): SingleCheckboxComponentRef {\r\n    return new SingleCheckboxComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"SingleCheckboxRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = SingleCheckboxComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class SingleCheckboxComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"SingleCheckboxComponentDefinition\";\r\n  className() {\r\n    return SingleCheckboxComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"SingleCheckbox\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules, SingleCheckboxComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get valueLabel(): I18nTextProperty {return this.properties.getI18nTextProperty(\"valueLabel\", this.defaultPropertiesProvider)}\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n\r\n  get threeStates(): BooleanProperty {return this.properties.getBooleanProperty(\"threeStates\", this.defaultPropertiesProvider)};\r\n\r\n  iconBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"iconBackgroundColor\", defaultProvider);\r\n  }\r\n\r\n  static copy(other: SingleCheckboxComponentDefinition): SingleCheckboxComponentDefinition {\r\n    return new SingleCheckboxComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [SingleCheckboxComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"SingleCheckboxComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"threeStates\": return BooleanProperty.ofFalse();\r\n      case \"defaultValue\": return TrileanProperty.ofFalse();\r\n      case \"iconBackgroundColor\": return OptionalStringProperty.disabled(\"#000000ff\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n\r\n}\r\n","import {\r\n  BackgroundsPropertiesState,\r\n  BordersPropertiesState, LabelPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {BooleanVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\r\nimport {SingleCheckboxComponentDefinition} from \"./SingleCheckboxComponentDefinition\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SingleCheckboxComponentState extends LabeledScreenComponentState {\r\n  static className = \"SingleCheckboxComponentState\";\r\n  className() {\r\n    return SingleCheckboxComponentState.className;\r\n  }\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get model() {\r\n    return this.properties.optionalBooleanProperty(SingleCheckboxComponentDefinition.MODEL);\r\n  }\r\n\r\n  get valueLabel() {\r\n    return this.properties.i18nTextProperty(\"valueLabel\");\r\n  }\r\n\r\n  get options() {\r\n    return this.properties.labeledValuesProperty(\"options\");\r\n  }\r\n\r\n  get threeStates() {\r\n    return this.properties.booleanProperty(\"threeStates\");\r\n  }\r\n\r\n  get iconBackgroundColor() {return this.properties.optionalStringProperty(\"iconBackgroundColor\")}\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case SingleCheckboxComponentDefinition.MODEL:\r\n        if(value.isDefined() && value.get().className() === BooleanVariable.className) {\r\n          this.properties.putValue(SingleCheckboxComponentDefinition.MODEL, value.get());\r\n        } else if(value.isDefined()) {\r\n          throw Error(\"Unable to set value, expected Boolean but was [\"+value.get().className()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(SingleCheckboxComponentDefinition.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: SingleCheckboxComponentState) {\r\n    return new SingleCheckboxComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class SingleCheckboxComponentRefState extends ScreenComponentRefState {\r\n  static className = \"SingleCheckboxComponentRefState\";\r\n  className() {\r\n    return SingleCheckboxComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: SingleCheckboxComponentRefState) {\r\n    return new SingleCheckboxComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\n\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel, CssUtils,\r\n  ScreenContainerViewModel\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {SingleCheckboxComponentRefState, SingleCheckboxComponentState} from \"./SingleCheckboxComponentState\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {SingleCheckboxComponentDefinition, SingleCheckboxComponentRef} from \"./SingleCheckboxComponentDefinition\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {BooleanVariable} from \"@libs/ProcessVariables\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {randomString} from \"@libs/Strings\";\r\n\r\nexport class SingleCheckboxComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"SingleCheckbox\";\r\n\r\n  private threeStates: boolean = false;\r\n  public selected: boolean|null = false;\r\n  public tooltip: Option<string> = Option.NoneSingleton;\r\n  public valueLabel: string = \"\";\r\n  public css: string = \"\";\r\n  public required: boolean = false;\r\n  public invalid: boolean = false; //TODO\r\n\r\n  public requiredIconVisible = false;\r\n\r\n  public iconBackgroundColorCss: string|null = null;\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: SingleCheckboxComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: SingleCheckboxComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: SingleCheckboxComponentState,\r\n              readonly refState: SingleCheckboxComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n  ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onChange() {\r\n\r\n    if(this.uncoveredAndVisible && this.editable) {\r\n\r\n      if (this.threeStates) {\r\n        if (this.selected === true) {\r\n          this.selected = false;\r\n        } else if (this.selected === false) {\r\n          this.selected = null;\r\n        } else {\r\n          this.selected = true;\r\n        }\r\n      } else {\r\n        this.selected = !this.selected;\r\n      }\r\n\r\n      if (this.selected === null) {\r\n        this.componentState.updateModel(SingleCheckboxComponentDefinition.MODEL, None());\r\n        this.serverModel.clearModelWithAction(this.componentRefPath(), SingleCheckboxComponentDefinition.MODEL, SingleCheckboxComponentDefinition.ON_CHANGE);\r\n      } else {\r\n        this.componentState.updateModel(SingleCheckboxComponentDefinition.MODEL, Some(new BooleanVariable(this.selected)));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), SingleCheckboxComponentDefinition.MODEL, new BooleanVariable(this.selected), SingleCheckboxComponentDefinition.ON_CHANGE);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  updateComponent(deep: boolean): void {\r\n\r\n\r\n    this.css = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.valueLabel = this.definition.valueLabel.currentValue(() => this.componentState.valueLabel).valueOrDefault(I18nText.ofCurrent(\"!not label!\")).getCurrentWithFallback();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n\r\n    this.threeStates = this.definition.threeStates.currentValue(() => this.componentState.threeStates).valueOrDefault(false);\r\n\r\n    this.selected = this.componentState.model.valueOrDefault(None()).getOrElse(<any>(this.threeStates ? null : false));\r\n\r\n    this.requiredIconVisible = this.required && (!this.label || !this.label.visible);\r\n\r\n    this.cssClass = `SingleCheckboxComponent_${this.id}`;\r\n\r\n    this.iconBackgroundColorCss = this.definition.iconBackgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.iconBackgroundColor).valueOrDefault(None()).getOrNull();\r\n\r\n\r\n    super.updatePosition();\r\n  }\r\n\r\n\r\n}\r\n","import {Component, ElementRef, Input, OnDestroy, OnInit, ViewChild, ViewContainerRef} from \"@angular/core\";\r\nimport {DropListComponentViewModel, SelectComponentOption} from \"@screens\";\r\nimport {onFormFocusLost} from \"@libs/Dom\";\r\n\r\n@Component({\r\n  selector: 'my-drop-list-component[viewModel]',\r\n  templateUrl: './drop-list-component.component.html',\r\n  // styleUrls: ['./drop-list-component.component.scss']\r\n})\r\nexport class DropListComponentComponent implements OnDestroy {\r\n  @Input() viewModel!: DropListComponentViewModel;\r\n\r\n  @ViewChild(\"DropListComponent\") container: ElementRef<HTMLElement>|undefined;\r\n  @ViewChild(\"dropListPopup\") dropListPopup: ElementRef<HTMLElement>|undefined;\r\n\r\n  enabled = true;\r\n  open = false;\r\n  focused = false;\r\n\r\n  private keyboardListeningEnabled = false;\r\n\r\n  constructor(private readonly viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  private isEnabled(){\r\n    return this.viewModel.editable;\r\n  }\r\n\r\n  onClick = () => {\r\n    if(this.isEnabled()) {\r\n      if(this.open) {\r\n        this.closePicker();\r\n      } else {\r\n        this.openPicker();\r\n      }\r\n    }\r\n  }\r\n\r\n  openPicker = () => {\r\n    this.open = true;\r\n  }\r\n\r\n  onDropMenuOpened(popup: HTMLElement) {\r\n    setTimeout(() => {\r\n      const dropListFilter = <HTMLInputElement>popup.querySelector(\".dropListFilter\");\r\n      if(dropListFilter !== null) { // it's optional\r\n        dropListFilter.select();\r\n      }\r\n    });\r\n  }\r\n\r\n  private closePicker = () => {\r\n    this.open = false;\r\n  }\r\n\r\n  optionSelected = (option: SelectComponentOption) => {\r\n    this.closePicker();\r\n    this.viewModel.optionSelected(option);\r\n  }\r\n\r\n\r\n  onFocus = () => {\r\n\r\n    if(!this.keyboardListeningEnabled) {\r\n      this.enableKeyEvents();\r\n    }\r\n\r\n    if(!this.focused && this.isEnabled()){\r\n      this.focused = true;\r\n\r\n      if(this.container === undefined) {\r\n        throw new Error(\"No container\");\r\n      } else {\r\n        this.container.nativeElement.classList.add(\"focused\");\r\n        onFormFocusLost([this.viewContainerRef.element.nativeElement], this.onBlur);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n   onBlur = () => {\r\n     if(this.focused){\r\n       if(this.container === undefined) {\r\n         throw new Error(\"No container\");\r\n       } else {\r\n         this.focused = false;\r\n         this.container.nativeElement.classList.remove(\"focused\");\r\n       }\r\n     }\r\n   }\r\n\r\n  onKeyEvent = (event: KeyboardEvent) => {\r\n    if (this.isEnabled() && this.focused) {\r\n      if (this.open) {\r\n        switch (event.key) {\r\n          case 'ArrowUp' : {\r\n            this.viewModel.activePrevious();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n          case 'ArrowDown' : {\r\n            this.viewModel.activeNext();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n          case 'Enter' : {\r\n            this.viewModel.selectActive();\r\n            setTimeout(this.closePicker);\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n          case 'Escape' : {\r\n            this.closePicker();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        switch(event.key){\r\n          case 'Enter' : {\r\n            this.onClick();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n          case 'ArrowUp' : {\r\n            this.viewModel.activePrevious();\r\n            this.viewModel.selectActive();\r\n            this.viewModel.updateActiveIndexToSelected();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n          case 'ArrowDown' : {\r\n            this.viewModel.activeNext();\r\n            this.viewModel.selectActive();\r\n            this.viewModel.updateActiveIndexToSelected();\r\n            event.preventDefault();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private enableKeyEvents() {\r\n    this.keyboardListeningEnabled = true;\r\n    window.addEventListener('keydown', this.onKeyEvent);\r\n  }\r\n\r\n  private disableKeyEvents() {\r\n    this.keyboardListeningEnabled = false;\r\n    window.removeEventListener('keydown', this.onKeyEvent);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if(this.keyboardListeningEnabled) {\r\n      this.disableKeyEvents();\r\n    }\r\n  }\r\n\r\n  onDropMenuClosed() {\r\n    this.viewModel.clearFilter();\r\n  }\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" style=\"{{viewModel.labelSizeCss}}\">\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\n</div>\n<div #DropListComponent class=\"componentBody DropListComponent {{viewModel.cssClass}}\" [ngClass]=\"{preview: viewModel.preview, validationError: viewModel.validationError}\" *ngIf=\"viewModel.uncoveredAndVisible\" style=\"{{viewModel.outerShadowCss}}\">\n  <button class=\"dropListValue\" style=\"{{viewModel.css}}\" *ngIf=\"viewModel.editable\" tabindex=\"0\" (focus)=\"onFocus()\" (click)=\"onClick()\" [ngClass]=\"{notSelected: viewModel.notSelected}\">\n    {{viewModel.valueLabel}}\n  </button>\n  <button class=\"dropListValue disabled\" disabled=\"disabled\" *ngIf=\"!viewModel.editable\" [style]=\"viewModel.css\" tabindex=\"-1\">\n    <span *ngIf=\"viewModel.valueDefined\">{{viewModel.valueLabel}}</span><span *ngIf=\"!viewModel.valueDefined\">-</span>\n  </button>\n  <div class=\"expandArrow ss-navigatedown expanded\" *ngIf=\"viewModel.editable\"></div>\n\n  <my-drop-menu [cssClass]=\"'dropListPopup'\" [(visible)]=\"open\" [anchor]=\"DropListComponent\" (opened)=\"onDropMenuOpened($event)\" (closed)=\"onDropMenuClosed()\">\n    <div class=\"filterContainer\" *ngIf=\"viewModel.filterVisible\">\n      <input class=\"dropListFilter\" type=\"text\" [(ngModel)]=\"viewModel.filter\" tabindex=\"-1\" (ngModelChange)=\"viewModel.filterUpdated()\"/>\n      <button class=\"clearFilter\" (click)=\"viewModel.clearFilter()\" *ngIf=\"viewModel.filter.length > 0\"><i class=\"ss-delete\"></i></button>\n    </div>\n    <div class=\"options\">\n      <div class=\"option\" *ngFor=\"let option of viewModel.visibleOptions; let index = index\"\n           (click)=\"optionSelected(option)\"\n           [ngClass]=\"{active: index == viewModel.activeIndex}\">{{option.label}}</div>\n    </div>\n  </my-drop-menu>\n</div>\n","import {Component, Input} from \"@angular/core\";\r\nimport {MultiCheckboxComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-multi-checkbox-component[viewModel]',\r\n  templateUrl: './multi-checkbox-component.component.html',\r\n  // styleUrls: ['./multi-checkbox-component.component.scss']\r\n})\r\nexport class MultiCheckboxComponentComponent {\r\n  @Input() viewModel!: MultiCheckboxComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\n</div>\n<div class=\"componentBody MultiCheckboxComponent {{viewModel.classes}}\" [ngClass]=\"{enabled: viewModel.editable, invalid: viewModel.invalid, validationError: viewModel.validationError}\">\n<button class=\"checkboxEntry\" (click)=\"viewModel.onSelect(option)\" *ngFor=\"let option of viewModel.options\"\n   my-on-spacebar=\"viewModel.onSelect(option)\" [ngClass]=\"{'checked': option.selected}\"><!--\n--><svg viewBox=\"0 0 20 20\" class=\"checkBoxSvg\">\n  <path class=\"box\" [style.fill]=\"(option.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" d=\"M2,0.5h14c0.8,0,1.5,0.7,1.5,1.5v14c0,0.8-0.7,1.5-1.5,1.5H2c-0.8,0-1.5-0.7-1.5-1.5V2C0.5,1.2,1.2,0.5,2,0.5z\" />\n  <path class=\"background\" [style.fill]=\"(option.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" d=\"M16,1c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H2c-0.6,0-1-0.4-1-1V2c0-0.6,0.4-1,1-1H16 M16,0H2C0.9,0,0,0.9,0,2v14 c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V2C18,0.9,17.1,0,16,0L16,0z\"/>\n  <path class=\"ticker\" d=\"M4.5,8.5l0.8-0.6l3,3.5L12.6,5l0.9,0.5L8.4,13L4.5,8.5z\"/>\n</svg><!--\n--><div class=\"checkboxLabel\">{{option.label}}</div><!--\n--></button>\n</div>\n","import {Component, Input} from \"@angular/core\";\r\nimport {RadioButtonComponentViewModel} from \"./RadioButtonComponentViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-radio-button-component[viewModel]',\r\n  templateUrl: './radio-button-component.component.html',\r\n  // styleUrls: ['./radio-button-component.component.scss']\r\n})\r\nexport class RadioButtonComponentComponent {\r\n  @Input() viewModel!: RadioButtonComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\n</div>\n<div class=\"componentBody RadioButtonComponent {{viewModel.classes}}\" [ngClass]=\"{enabled: viewModel.editable, invalid: viewModel.invalid, validationError: viewModel.validationError}\">\n<button class=\"radioEntry\" (click)=\"viewModel.onSelect(option)\" *ngFor=\"let option of viewModel.options\"\n        my-on-spacebar=\"viewModel.onSelect(option)\" [ngClass]=\"{checked: option.selected}\"><!--\n  --><svg viewBox=\"0 0 20 20\" class=\"radioButtonSvg\">\n  <circle class=\"outsideCircle\" [style.fill]=\"(option.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" cx=\"9\" cy=\"9\" r=\"8.5\"/>\n  <path class=\"path\" [style.fill]=\"(option.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" d=\"M299.5,192a8,8,0,1,1-8,8,8,8,0,0,1,8-8m0-1a9,9,0,1,0,9,9,9,9,0,0,0-9-9h0Z\" transform=\"translate(-290.5 -191)\"/>\n  <circle class=\"insideCircle\" cx=\"9\" cy=\"9\" r=\"4\"/>\n</svg><!--\n--><div class=\"radioButtonLabel\">{{option.label}}</div><!--\n--></button>\n</div>\n","import {BusinessVariable, ObjectVariable} from \"@libs/ProcessVariables\";\r\n\r\nexport class SelectComponentOption {\r\n  constructor(readonly id: string,\r\n              public selected: boolean,\r\n              readonly label: string,\r\n              readonly value: BusinessVariable | undefined) {}\r\n\r\n  static of(index: number, value: BusinessVariable) {\r\n    if(value instanceof ObjectVariable) {\r\n      if(value.valueFor(\"label\").isDefined() && value.valueFor(\"value\")) {\r\n        return new SelectComponentOption(index+\"\", false, value.valueFor(\"label\").get().valueToSimpleString(), value.valueFor(\"value\").get());\r\n      } else {\r\n        throw new Error(\"Objects in options must have fields 'value' and 'label'\");\r\n      }\r\n    } else {\r\n      return new SelectComponentOption(index+\"\", false, value.valueToSimpleString(), value);\r\n    }\r\n  }\r\n\r\n  static EMPTY(placeholder: string) {\r\n    return new SelectComponentOption(\"xnp7Y6uPONKZiKEr\", false, placeholder, undefined);\r\n  }\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {SingleCheckboxComponentViewModel} from \"./SingleCheckboxComponentViewModel\";\r\n\r\n@Component({\r\n  selector: 'my-single-checkbox-component[viewModel]',\r\n  templateUrl: './single-checkbox-component.component.html',\r\n  // styleUrls: ['./single-checkbox-component.component.scss']\r\n})\r\nexport class SingleCheckboxComponentComponent {\r\n  @Input() viewModel!: SingleCheckboxComponentViewModel;\r\n\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\n</div>\n<div class=\"componentBody SingleCheckboxComponent {{viewModel.cssClass}}\" [ngClass]=\"{enabled: viewModel.editable, invalid: viewModel.invalid, validationError: viewModel.validationError}\">\n<button (click)=\"viewModel.onChange()\"\n   class=\"checkboxEntry\" [ngClass]=\"{'checked': viewModel.selected === true, 'unknown': viewModel.selected !== false && viewModel.selected !== true}\"><!--\n--><svg viewBox=\"0 0 20 20\" class=\"checkBoxSvg\">\n  <path class=\"box\" [style.fill]=\"(viewModel.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" d=\"M2,0.5h14c0.8,0,1.5,0.7,1.5,1.5v14c0,0.8-0.7,1.5-1.5,1.5H2c-0.8,0-1.5-0.7-1.5-1.5V2C0.5,1.2,1.2,0.5,2,0.5z\" />\n  <path class=\"background\" [style.fill]=\"(viewModel.selected ? viewModel.iconBackgroundColorCss : null) | sanitizeStyle\" d=\"M16,1c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H2c-0.6,0-1-0.4-1-1V2c0-0.6,0.4-1,1-1H16 M16,0H2C0.9,0,0,0.9,0,2v14 c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V2C18,0.9,17.1,0,16,0L16,0z\"/>\n  <path class=\"ticker\" d=\"M4.5,8.5l0.8-0.6l3,3.5L12.6,5l0.9,0.5L8.4,13L4.5,8.5z\"/>\n  <rect class=\"unknown\" width=\"14\" height=\"14\" x=\"2\" y=\"2\"></rect>\n  <text class=\"unknown\" x=\"6.5\" y=\"12.5\">?</text>\n</svg><!--\n--><div class=\"checkboxLabel\">{{viewModel.valueLabel}}<span class=\"requiredIcon\" *ngIf=\"viewModel.requiredIconVisible\">*</span></div><!--\n--></button>\n</div>\n","import {\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider,\r\n  InputComponentRef,\r\n  LabelProperties, OptionalStringProperty,\r\n  PaddingsProperties, ScreenComponentDefinitionWithLabel, TextsProperties\r\n} from \"@screens\";\r\nimport {BooleanProperty, OptionalI18nTextProperty, TrileanProperty} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ScreenComponentId, ScreenComponentRefId} from \"@screens\";\r\nimport {Option,Some} from \"@libs/Option\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\n\r\nexport class SwitchComponent {\r\n  static MODEL = \"model\";\r\n}\r\n\r\nexport class SwitchComponentRef extends InputComponentRef {\r\n  static className = \"SwitchComponentRef\";\r\n  className() {\r\n    return SwitchComponentRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: SwitchComponentRef): SwitchComponentRef {\r\n    return new SwitchComponentRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    );\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.ofFallbacks(\"SwitchComponentRef\", DefaultPropertyProvider.ref, DefaultPropertyProvider.refRequiredInput);\r\n  override defaultPropertiesProvider = SwitchComponentRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class SwitchComponentDefinition extends ScreenComponentDefinitionWithLabel {\r\n\r\n  static MODEL = \"model\";\r\n  static ON_CHANGE = \"onChange\";\r\n\r\n  static className = \"SwitchComponentDefinition\";\r\n  className() {\r\n    return SwitchComponentDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Switch\";\r\n  }\r\n\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              readonly actionProperties: ComponentActionProperties,\r\n              override readonly validationRules: ComponentValidationRules) {\r\n    super(id, identifier, properties, validationRules,SwitchComponentDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  labelProperties = new LabelProperties(this.properties);\r\n  textProperties = new TextsProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n\r\n  get threeStates(): BooleanProperty {return this.properties.getBooleanProperty(\"threeStates\", this.defaultPropertiesProvider)};\r\n\r\n  override get tooltip(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"tooltip\", this.defaultPropertiesProvider)};\r\n\r\n  get yesLabel(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"yesLabel\", this.defaultPropertiesProvider)};\r\n\r\n  get noLabel(): OptionalI18nTextProperty {return this.properties.getOptionalI18nTextProperty(\"noLabel\", this.defaultPropertiesProvider)};\r\n\r\n  yesBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"yesBackgroundColor\", defaultProvider);\r\n  }\r\n\r\n  noBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"noBackgroundColor\", defaultProvider);\r\n  }\r\n\r\n  noTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"noTextColor\", defaultProvider);\r\n  }\r\n\r\n  knobColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"knobColor\", defaultProvider);\r\n  }\r\n\r\n  static copy(other: SwitchComponentDefinition): SwitchComponentDefinition {\r\n    return new SwitchComponentDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules)\r\n    );\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [SwitchComponentDefinition.MODEL];\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES = DefaultPropertyProvider.of(\"SwitchComponentDefinition\",\r\n    (name: string) => {switch (name) {\r\n      case \"threeStates\": return BooleanProperty.ofFalse();\r\n      case \"defaultValue\": return TrileanProperty.ofFalse();\r\n      case \"yesLabel\": return OptionalI18nTextProperty.of(I18nText.of(Some(\"Tak\"), Some(\"Yes\")));\r\n      case \"noLabel\": return OptionalI18nTextProperty.of(I18nText.of(Some(\"Nie\"), Some(\"No\")));\r\n      case \"knobColor\": return OptionalStringProperty.disabled(\"#ffffffff\");\r\n      case \"yesBackgroundColor\": return OptionalStringProperty.disabled(\"#ffffffff\");\r\n      case \"noBackgroundColor\": return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"noTextColor\": return OptionalStringProperty.disabled(\"#000000ff\");\r\n      default: return null;\r\n    }},\r\n    DefaultPropertyProvider.definitionComponent, DefaultPropertyProvider.definitionText,\r\n    DefaultPropertyProvider.definitionLabel, DefaultPropertyProvider.definitionTooltip,\r\n    DefaultPropertyProvider.definitionBackgrounds, DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionPaddings);\r\n}\r\n\r\n","import {BooleanVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {LabeledScreenComponentState, ScreenComponentRefState} from \"@screens\";\r\nimport {\r\n  BackgroundsPropertiesState, BordersPropertiesState, LabelPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder,\r\n  TextPropertiesState\r\n} from \"@screens\";\r\nimport {SwitchComponent} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class SwitchComponentState extends LabeledScreenComponentState {\r\n  static className = \"SwitchComponentState\";\r\n  className() {\r\n    return SwitchComponentState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  readonly textState = new TextPropertiesState(this.properties);\r\n  override readonly labelState = new LabelPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties)\r\n\r\n  get model() {\r\n    return this.properties.optionalBooleanProperty(SwitchComponent.MODEL);\r\n  }\r\n\r\n  get yesLabel() {\r\n    return this.properties.optionalI18nTextProperty(\"yesLabel\");\r\n  }\r\n\r\n  get noLabel() {\r\n    return this.properties.optionalI18nTextProperty(\"noLabel\");\r\n  }\r\n\r\n  get threeStates() {\r\n    return this.properties.booleanProperty(\"threeStates\");\r\n  }\r\n\r\n  get knobColor() {return this.properties.optionalStringProperty(\"knobColor\")}\r\n\r\n  get yesBackgroundColor() {return this.properties.optionalStringProperty(\"yesBackgroundColor\")}\r\n  get noBackgroundColor() {return this.properties.optionalStringProperty(\"noBackgroundColor\")}\r\n\r\n  get noTextColor() {return this.properties.optionalStringProperty(\"noTextColor\")}\r\n\r\n\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case SwitchComponent.MODEL:\r\n        if(value.isDefined() && value.get() instanceof BooleanVariable) {\r\n          this.properties.putValue(SwitchComponent.MODEL, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type Boolean but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(SwitchComponent.MODEL);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n  static copy(other: SwitchComponentState) {\r\n    return new SwitchComponentState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\nexport class SwitchComponentRefState extends ScreenComponentRefState {\r\n  static className = \"SwitchComponentRefState\";\r\n  className() {\r\n    return SwitchComponentRefState.className;\r\n  }\r\n\r\n  get required() {\r\n    return this.properties.booleanProperty(\"required\");\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: SwitchComponentRefState) {\r\n    return new SwitchComponentRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n}\r\n\r\n\r\n","import {\r\n  ComponentViewModelUtils,\r\n  ComponentViewModelWithLabel, CssUtils,\r\n  ScreenContainerViewModel\r\n} from \"@screens\";\r\nimport {ComponentLabelViewModel} from \"@screens\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenSharedViewModel} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {ScreenInstanceServerModel} from \"@screens\";\r\nimport {BooleanVariable} from \"@libs/ProcessVariables\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {SwitchComponent, SwitchComponentDefinition, SwitchComponentRef} from \"@screens\";\r\nimport {SwitchComponentRefState, SwitchComponentState} from \"@screens\";\r\nimport {randomString} from \"@libs/Strings\";\r\n\r\nexport class SwitchComponentViewModel extends ComponentViewModelWithLabel {\r\n\r\n  override typeName = \"Switch\";\r\n\r\n  private threeStates: boolean = false;\r\n  public value: boolean | undefined;\r\n  public tooltip: Option<string> = None();\r\n  public css: string = \"\";\r\n  public required: boolean = false;\r\n  public override label!: ComponentLabelViewModel;\r\n  public yesLabel: string = \"\";\r\n  public noLabel: string = \"\";\r\n\r\n  public knobCss: string|null = null;\r\n\r\n  yesBackgroundColorCss: string|null = null;\r\n  noBackgroundColorCss: string|null = null;\r\n  noTextColorCss: string|null = null;\r\n\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              readonly context: VariableId,\r\n              override readonly definition: SwitchComponentDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: SwitchComponentRef,\r\n              override readonly refScreenId: string,\r\n              override readonly componentState: SwitchComponentState,\r\n              readonly refState: SwitchComponentRefState,\r\n              readonly serverModel: ScreenInstanceServerModel\r\n              ) {\r\n    super(parent, definition, componentState, refState, shared);\r\n    this.update();\r\n  }\r\n\r\n  onClick() {\r\n    if(this.uncoveredAndVisible && this.editable) {\r\n\r\n      if(this.threeStates) {\r\n        if(this.value === true) {\r\n          this.value = false;\r\n        } else if(this.value === false) {\r\n          this.value = undefined;\r\n        } else {\r\n          this.value = true;\r\n        }\r\n      } else {\r\n        this.value = !this.value;\r\n      }\r\n      if(this.value === undefined) {\r\n        this.componentState.updateModel(SwitchComponent.MODEL, None());\r\n        this.serverModel.clearModelWithAction(this.componentRefPath(), SwitchComponent.MODEL, \"onChange\");\r\n      } else {\r\n        this.componentState.updateModel(SwitchComponent.MODEL, Some(new BooleanVariable(this.value)));\r\n        this.serverModel.changeModelWithAction(this.componentRefPath(), SwitchComponent.MODEL, new BooleanVariable(this.value), \"onChange\");\r\n      }\r\n    }\r\n  }\r\n\r\n  updateComponent(deep: boolean) {\r\n    const css =\r\n      ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState) +\r\n      ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState) +\r\n      ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState) +\r\n      ComponentViewModelUtils.toTextCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider,this.definition.textProperties, this.componentState.textState);\r\n\r\n    this.value = this.componentState.model.valueOrDefault(None()).getOrUndefined();\r\n    this.tooltip = this.definition.tooltip.currentValue(() => this.componentState.tooltip).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n    this.yesLabel = this.definition.yesLabel.currentValue(() => this.componentState.yesLabel).valueOrDefault(None()).getOrElseLazy(() => I18nText.empty()).getCurrentWithFallback();\r\n    this.noLabel = this.definition.noLabel.currentValue(() => this.componentState.noLabel).valueOrDefault(None()).getOrElseLazy(() => I18nText.empty()).getCurrentWithFallback();\r\n    this.required = this.ref.required.currentValue(() => this.refState.required).valueOrDefault(false);\r\n\r\n    this.threeStates = this.definition.threeStates.currentValue(() => this.componentState.threeStates).valueOrDefault(false);\r\n\r\n    super.updatePosition();\r\n\r\n    this.knobCss = this.definition.knobColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.knobColor).valueOrDefault(None()).getOrNull();\r\n\r\n    this.yesBackgroundColorCss = this.definition.yesBackgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.yesBackgroundColor).valueOrDefault(None()).getOrNull();\r\n    this.noBackgroundColorCss = this.definition.noBackgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.noBackgroundColor).valueOrDefault(None()).getOrNull();\r\n    this.noTextColorCss = this.definition.noTextColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.noTextColor).valueOrDefault(None()).getOrNull();\r\n\r\n    this.css = css+this.sizeCss;\r\n\r\n  }\r\n\r\n}\r\n\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {SwitchComponentViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-switch-component[viewModel]',\r\n  templateUrl: './switch-component.component.html',\r\n  // styleUrls: ['./switch-component.component.scss']\r\n})\r\nexport class SwitchComponentComponent {\r\n  @Input() viewModel!: SwitchComponentViewModel;\r\n}\r\n","<div class=\"componentLabel\" *ngIf=\"viewModel.label && viewModel.label.visible\" [style]=\"viewModel.labelSizeCss\">\r\n  <my-component-label [viewModel]=\"viewModel.label\"></my-component-label>\r\n</div>\r\n<div class=\"componentBody SwitchComponent {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\"\r\n     [style]=\"viewModel.css\" [ngClass]=\"{readonly: !viewModel.editable, validationError: viewModel.validationError}\">\r\n    <button class=\"slider round\" (click)=\"viewModel.onClick()\" tabindex=\"0\"\r\n            [style.background-color]=\"(viewModel.value === true ? viewModel.yesBackgroundColorCss : viewModel.noBackgroundColorCss) | sanitizeStyle\"\r\n          [ngClass]=\"{confirm: viewModel.value === true, deny: viewModel.value === false, undefined: viewModel.value === undefined}\">\r\n      <div class=\"yesLabel\">{{viewModel.yesLabel}}</div>\r\n      <div class=\"noLabel\" [style.color]=\"viewModel.noTextColorCss | sanitizeStyle\">{{viewModel.noLabel}}</div>\r\n      <div class=\"circle\" [style.background-color]=\"viewModel.knobCss\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQI12P4DwQACfsD/WMmxY8AAAAASUVORK5CYII=\"/></div>\r\n    </button>\r\n</div>\r\n\r\n","import {\r\n  ScreenContainerRef,\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules,\r\n  DefaultPropertyProvider, HeaderProperties, LayoutsProperties,\r\n  PaddingsProperties, RepeatableContextContainerDefinition,\r\n  BooleanProperty,\r\n  I18nTextProperty, ModelProperty,\r\n  OptionalI18nTextProperty, OptionalNumberProperty,\r\n  OptionalStringProperty,\r\n  StringProperty,\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  ScreenComponentId,\r\n  ScreenComponentRefId\r\n} from \"@screens\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {i18n} from \"../../../shared/internationalization/i18n.service\";\r\n\r\nexport class TableContainer {\r\n  static model = \"model\"\r\n}\r\n\r\nexport class TableContainerRef extends ScreenContainerRef {\r\n  static className = \"TableContainerRef\";\r\n  className() {\r\n    return TableContainerRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  get lengthEditable() {\r\n    return this.properties.getBooleanProperty(\"lengthEditable\", this.defaultPropertiesProvider);\r\n  }\r\n\r\n  static copy(other: TableContainerRef): TableContainerRef {\r\n    return new TableContainerRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    )\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"TableRef\", (name:string) => {\r\n    switch (name) {\r\n      case \"lengthEditable\": return BooleanProperty.ofFalse();\r\n      default: return null;\r\n    }\r\n  }, DefaultPropertyProvider.ref);\r\n\r\n  override defaultPropertiesProvider = TableContainerRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\nexport class TableColumnDefinition {\r\n  constructor(\r\n    readonly componentRefId: ScreenComponentRefId) {}\r\n\r\n  static copy(other: TableColumnDefinition) {\r\n    return new TableColumnDefinition(ScreenComponentRefId.copy(other.componentRefId));\r\n  }\r\n\r\n}\r\n\r\nexport class TableContainerDefinition extends RepeatableContextContainerDefinition {\r\n\r\n  static className = \"TableContainerDefinition\";\r\n\r\n  className() {\r\n    return TableContainerDefinition.className;\r\n  }\r\n\r\n  typeName() {\r\n    return \"Table\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules,\r\n    readonly columns: Array<TableColumnDefinition>) {\r\n    super(id, identifier, properties, validationRules, TableContainerDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  get header(): OptionalI18nTextProperty {\r\n    return this.properties.getOptionalI18nTextProperty(\"header\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get headerVisible(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerVisible\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get model(): ModelProperty {\r\n    return this.properties.getModelProperty(\"model\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get entriesLayout(): StringProperty {\r\n    return this.properties.getStringProperty(\"entriesLayout\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get addLabel(): I18nTextProperty {\r\n    return this.properties.getI18nTextProperty(\"addLabel\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get entryVisible(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"entryVisible\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get entryEditable(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"entryEditable\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  layoutsProperties = new LayoutsProperties(\"\", this.properties, this.defaultPropertiesProvider);\r\n\r\n  contentTextSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"contentTextSize\", defaultProvider)\r\n  }\r\n\r\n  contentTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"contentTextColor\", defaultProvider)\r\n  }\r\n\r\n  contentTextFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"contentTextFont\", defaultProvider)\r\n  }\r\n\r\n  paddingsProperties = new PaddingsProperties(\"\", this.properties);\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n  headerProperties = new HeaderProperties(this.properties);\r\n\r\n  override getChildren(): Array<ScreenComponentRefId> {\r\n    return this.columns.map(c => c.componentRefId);\r\n  }\r\n\r\n  get minEntries() {\r\n    return this.properties.getOptionalNumberProperty(\"minEntries\", this.defaultPropertiesProvider);\r\n  }\r\n\r\n  get maxEntries() {\r\n    return this.properties.getOptionalNumberProperty(\"maxEntries\", this.defaultPropertiesProvider);\r\n  }\r\n\r\n\r\n  static copy(other: TableContainerDefinition): TableContainerDefinition {\r\n    return new TableContainerDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules),\r\n      other.columns.map(TableColumnDefinition.copy)\r\n    )\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"TableDefinition\",\r\n    (name: string) => {\r\n      if (name.indexOf(\"column|\") == 0) {\r\n        const subName = name.substring(name.indexOf(\"|\", name.indexOf(\"|\") + 1) + 1, name.length);\r\n        const columnSubName = subName.substring(subName.indexOf(\"|\", subName.indexOf(\"|\") + 1) + 1, subName.length);\r\n        switch (columnSubName) {\r\n          case \"width\":\r\n            return StringProperty.of(\"auto\");\r\n          case \"visible\":\r\n            return BooleanProperty.ofTrue();\r\n          case \"editable\":\r\n            return BooleanProperty.ofFalse();\r\n          default:\r\n            return null;\r\n        }\r\n      } else {\r\n        switch (name) {\r\n          case \"headerVisible\":\r\n            return BooleanProperty.ofFalse();\r\n          case \"addLabel\":\r\n            return I18nTextProperty.of(I18nText.ofCurrent(i18n(\"screen_default_add_label\")));\r\n          case \"minEntries\":\r\n            return OptionalNumberProperty.disabled(1);\r\n          case \"maxEntries\":\r\n            return OptionalNumberProperty.disabled(10);\r\n          case \"entryEditable\":\r\n            return BooleanProperty.ofTrue();\r\n          case \"entryVisible\":\r\n            return BooleanProperty.ofTrue();\r\n          case \"gapColumn\":\r\n            return OptionalStringProperty.disabled(\"0cm\");\r\n          case \"gapRow\":\r\n            return OptionalStringProperty.disabled(\"0cm\");\r\n          case \"layout\":\r\n            return StringProperty.of(LayoutType.horizontal.name);\r\n          case \"layoutAlign\":\r\n            return StringProperty.of(LayoutAlign.start.name);\r\n          case \"layoutStretch\":\r\n            return StringProperty.of(LayoutStretch.start.name);\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n    },\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.containerPlain,\r\n    DefaultPropertyProvider.containerPaddings,\r\n    DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionBackgrounds,\r\n    DefaultPropertyProvider.definitionSectionHeader,\r\n    DefaultPropertyProvider.definitionComponent,\r\n    DefaultPropertyProvider.definitionBorders);\r\n}\r\n","import {RepeatableContextComponentState, ScreenComponentRefState,\r\n  BackgroundsPropertiesState, BordersPropertiesState,\r\n  HeaderPropertiesState,\r\n  LayoutsPropertiesState,\r\n  PaddingsPropertiesState, PropertiesStateHolder, RepeatableContext,\r\n  TableContainer\r\n} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {overwriteArray} from \"@libs/Collections\";\r\nimport {ArrayVariable, BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class TableContainerState extends RepeatableContextComponentState {\r\n  static className = \"TableContainerState\";\r\n  className() {\r\n    return TableContainerState.className;\r\n  }\r\n\r\n  readonly layoutsState = new LayoutsPropertiesState(\"\", this.properties);\r\n  readonly paddingsState = new PaddingsPropertiesState(\"\", this.properties);\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n\r\n  constructor(public innerContext: Option<RepeatableContext>,\r\n              readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get contentTextSize() {return this.properties.optionalStringProperty(\"textSize\")}\r\n  get contentTextColor() {return this.properties.optionalStringProperty(\"textColor\")}\r\n  get contentTextFont() {return this.properties.optionalStringProperty(\"textFont\")}\r\n\r\n  get header() {return this.properties.optionalI18nTextProperty(\"header\")}\r\n\r\n  get headerVisible() {return this.properties.booleanProperty(\"headerVisible\")}\r\n\r\n  readonly headerState = new HeaderPropertiesState(this.properties);\r\n\r\n  get minEntries() {\r\n    return this.properties.optionalNumberProperty(\"minEntries\");\r\n  }\r\n\r\n  get maxEntries() {\r\n    return this.properties.optionalNumberProperty(\"maxEntries\");\r\n  }\r\n\r\n  get entriesLayout() {\r\n    return this.properties.stringProperty(\"entriesLayout\");\r\n  }\r\n\r\n  pushToInnerContext(entryId: VariableId) {\r\n    this.innerContext.getOrError(\"No inner context\").entries.push(entryId);\r\n  }\r\n\r\n  removeFromModel(entryId: VariableId) {\r\n    const innerContext = this.innerContext.getOrError(\"No inner context\");\r\n    const index = __(innerContext.entries).findIndexOf(e => e.id == entryId.id);\r\n    if(index.isDefined()) {\r\n      innerContext.entries.splice(index.get(), 1);\r\n    }\r\n  }\r\n\r\n  updateInnerContext(innerContext: RepeatableContext) {\r\n    if(this.innerContext.isDefined() && this.innerContext.get().contextId.id == innerContext.contextId.id) {\r\n      overwriteArray(this.innerContext.get().entries, innerContext.entries);\r\n    } else {\r\n      this.innerContext = Some(innerContext);\r\n    }\r\n  }\r\n\r\n  clearInnerContext(): void {\r\n    this.innerContext = None();\r\n  }\r\n\r\n  override updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    switch (modelName) {\r\n      case TableContainer.model:\r\n        if(value.isDefined() && value.get() instanceof ArrayVariable) {\r\n          this.properties.putValue(TableContainer.model, value.get());\r\n        } else if (value.isDefined()) {\r\n          throw new Error(\"Model is not of expected type Array[Object] but [\" + value.get().simpleValueType()+\"]\");\r\n        } else {\r\n          this.properties.clearValue(TableContainer.model);\r\n        }\r\n        break;\r\n      default: throw new Error(\"Model [\"+modelName+\"] is not supported by \"+this.className());\r\n    }\r\n  }\r\n\r\n\r\n  static copy(other: TableContainerState) {\r\n    return new TableContainerState(\r\n      Option.copy(other.innerContext, RepeatableContext.copy),\r\n      PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class TableContainerRefState extends ScreenComponentRefState {\r\n  static className = \"TableContainerRefState\";\r\n  className() {\r\n    return TableContainerRefState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  get lengthEditable() {\r\n    return this.properties.booleanProperty(\"lengthEditable\");\r\n  }\r\n\r\n  static copy(other: TableContainerRefState) {\r\n    return new TableContainerRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen, TextFont,\r\n  ComponentStatus, ComponentViewModelUtils, ComponentViewModelWithLabel,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  SizeProperty,\r\n  SizeUtils,\r\n  TableContainerDefinition, TableContainerRef,\r\n  ScreenInstanceServerModel, TableContainerRefState,\r\n  TableContainerState, CssUtils, ScreenFormConfig,\r\n  ScreenComponentDefinition,\r\n  ScreenComponentRef,\r\n  ScreenComponents,\r\n  ScreenComponentsState,\r\n  ScreenSharedViewModel\r\n} from \"@screens\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {clearArray} from \"@libs/Collections\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class ColumnLabelViewModel {\r\n\r\n  label: string;\r\n  css = \"\";\r\n  private prefix: string;\r\n  constructor(\r\n    readonly parentTableState: TableContainerState,\r\n    readonly columnComponentRef: ScreenComponentRef,\r\n    readonly columnComponentDefinition: ScreenComponentDefinition) {\r\n\r\n    this.prefix = \"child|\"+columnComponentDefinition.id.id+\"|\";\r\n\r\n    this.label = this.columnComponentDefinition.properties.getOptionalI18nTextProperty(\"label\", columnComponentDefinition.defaultPropertiesProvider)\r\n      .currentValue(() => this.parentTableState.properties.optionalI18nTextProperty(this.prefix+\"label\")).valueOrDefault(None()).map(t => t.getCurrentWithFallback()).getOrElse(\"-dynamic not supported-\");\r\n  }\r\n\r\n  updateView() {\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const desiredWidth = this.columnComponentRef.positionProperties.desiredWidth.currentValue(() => this.parentTableState.properties.optionalStringProperty(this.prefix+\"desiredWidth\")).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n    const maxWidth = this.columnComponentDefinition.sizeProperties.maxWidth.currentValue(() => this.parentTableState.properties.optionalStringProperty(this.prefix+\"maxWidth\")).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n    this.css = CssUtils.columnLabelWidth(desiredWidth, maxWidth);\r\n\r\n  }\r\n}\r\n\r\nexport class TableContainerEntryViewModel {\r\n\r\n\r\n  css = \"\";\r\n  childrenPanelDeltaHeightRem = 0;\r\n\r\n  constructor(readonly contextId: VariableId,\r\n              readonly serverModel: ScreenInstanceServerModel,\r\n              readonly children: Array<ScreenComponentViewModel>,\r\n              readonly ref: TableContainerRef,\r\n              readonly refState: TableContainerRefState) {}\r\n\r\n  getDeltaHeight() {\r\n    return 0;\r\n  }\r\n\r\n  getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n    for(let i = 0; i < this.children.length; i++) {\r\n      const child = this.children[i];\r\n      if(child.id == id) {\r\n        return Some(child);\r\n      } else if(child.isContainer()) {\r\n        const childSuccessor = (<ScreenContainerViewModel>child).getComponentById(id);\r\n        if(childSuccessor.isDefined()) {\r\n          return childSuccessor;\r\n        }\r\n      }\r\n    }\r\n    return None();\r\n  }\r\n\r\n  updateCss(minWidthCss: string, minHeightCss: string) {\r\n\r\n    this.children.forEach(child => {\r\n      if(child instanceof ComponentViewModelWithLabel) {\r\n        child.forceHideLabel(true);\r\n      }\r\n    })\r\n\r\n    this.css += \"display: inline-block;\";\r\n\r\n    this.css += CssUtils.minSizes(Some(minWidthCss), Some(minHeightCss));\r\n  }\r\n}\r\n\r\nexport class TableContainerRow {\r\n  constructor(readonly entryContextId: VariableId,\r\n              readonly cells: Array<TableContainerCell>) {}\r\n}\r\n\r\nexport class TableContainerCell {\r\n  constructor(readonly entryContextId: VariableId,\r\n              readonly child: ScreenComponentViewModel|null,\r\n              readonly childArray: Array<ScreenComponentViewModel>|null, // so ng-include will have properly named component\r\n              readonly deleteRow: boolean) {}\r\n}\r\n\r\n\r\nexport class TableContainerViewModel extends ScreenContainerViewModel {\r\n\r\n  override typeName = \"Table\";\r\n\r\n  readonly columns: Array<ColumnLabelViewModel>;\r\n  readonly entries: Array<TableContainerEntryViewModel>;\r\n\r\n  public rows: Array<TableContainerRow> = [];\r\n  // public allChildren: Array<TableContainerCell>; // flattened children for need of css grid\r\n\r\n  public canAddEntry: boolean = false;\r\n  public canDeleteEntries: boolean = false;\r\n\r\n\r\n  public override layoutClass: string = \"\";\r\n  public layoutAlignClass: string = \"\";\r\n  public layoutStretchClass: string = \"\";\r\n\r\n  public layout: string = \"\";\r\n  public entriesLayout: string = \"\";\r\n  public override cssClass: string = \"\";\r\n  public header: string = \"\";\r\n  public headerVisible: boolean = false;\r\n  public addLabel: string = \"\";\r\n\r\n  public tableCss = \"\";\r\n  public css = \"\";\r\n  public entriesCss = \"\";\r\n  public childrenPlainCss = \"\";\r\n\r\n  public headerCss: string = \"\";\r\n  public clickableEntry: boolean = false;\r\n\r\n  columnsCount = 0;\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              override readonly definition: TableContainerDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: TableContainerRef,\r\n              override readonly refScreenId: string,\r\n              readonly componentState: TableContainerState,\r\n              readonly refState: TableContainerRefState,\r\n              readonly context: VariableId,\r\n              readonly serverModel: ScreenInstanceServerModel,\r\n              readonly screensComponents: {[screenId: string]: ScreenComponents},\r\n              readonly componentsState: ScreenComponentsState,\r\n              readonly createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n    super(parent, componentState, refState, definition, shared);\r\n    this.clickableEntry = definition.actionProperties.getActions(\"onEntryClick\").length > 0;\r\n    this.entries = [];\r\n    this.columns = definition.columns.map(column => {\r\n      const childRef = screensComponents[componentScreenId].getRef(column.componentRefId);\r\n      const childDefinition = screensComponents[childRef.applicationScreen.map(s => s.id).getOrElse(componentScreenId)].getDefinition(childRef.componentId);\r\n      return new ColumnLabelViewModel(componentState, childRef, childDefinition);\r\n    });\r\n    this.update();\r\n  }\r\n\r\n  onRowClick(row: TableContainerRow) {\r\n    if(this.definition.actionProperties.getActions(\"onEntryClick\").length > 0) {\r\n      this.serverModel.executeEntryAction(this.componentRefPath(), row.entryContextId, \"onEntryClick\");\r\n    }\r\n  }\r\n\r\n  getAllChildren(): Array<ScreenComponentViewModel> {\r\n    return __(this.entries).flatMap(e => e.children);\r\n  }\r\n\r\n  override componentName(): string {\r\n    if(this.headerVisible && this.header.trim().length > 0) {\r\n      return this.header;\r\n    } else {\r\n      return super.componentName();\r\n    }\r\n  }\r\n\r\n  getLayoutForComponent(componentRefId: ScreenComponentRefId): LayoutType {\r\n    return LayoutType.horizontal;\r\n  }\r\n\r\n  updateContainer(deep: boolean): void {\r\n    // must be after entries initialization\r\n\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    if(this.uncoveredAndVisible && this.status == ComponentStatus.initialized) {\r\n\r\n\r\n      const layout = LayoutType.horizontal;\r\n      const layoutAlign = LayoutAlign.byName(this.definition.layoutsProperties.layoutAlign.currentValue(() => this.componentState.layoutsState.layoutAlign).valueOrDefault(LayoutAlign.stretch.name));\r\n      const layoutStretch = LayoutStretch.byName(this.definition.layoutsProperties.layoutStretch.currentValue(() => this.componentState.layoutsState.layoutStretch).valueOrDefault(LayoutStretch.DEFAULT.name));\r\n      this.layoutClass = layout.name;\r\n      this.layoutAlignClass = layoutAlign.name;\r\n      this.layoutStretchClass = layoutStretch.name;\r\n\r\n      let css = \"\";\r\n\r\n      const textSize = this.definition.contentTextSize(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n      const textColor = this.definition.contentTextColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextColor).valueOrDefault(None());\r\n      const textFont = this.definition.contentTextFont(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.contentTextFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n      const font = CssUtils.font(textFont, textSize, false, false, false, false, textColor);\r\n      const paddings = ComponentViewModelUtils.toPaddingsCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.paddingsProperties, this.componentState.paddingsState)\r\n\r\n      this.childrenPlainCss = font + paddings;\r\n\r\n      const contentMinHeight = this.definition.sizeProperties.contentMinHeight.currentValue(() => this.componentState.boxState.contentMinHeight).valueOrDefault(None());\r\n      const contentMinWidth = this.definition.sizeProperties.contentMinWidth.currentValue(() => this.componentState.boxState.contentMinWidth).valueOrDefault(None());\r\n\r\n\r\n      const headerOption = this.definition.header.currentValue(() => this.componentState.header).valueOrDefault(None()).map(t => t.getCurrentWithFallback());\r\n      this.header = headerOption.getOrElse(\"\");\r\n      this.headerVisible = headerOption.isDefined();\r\n\r\n      const headerHeightValue = this.definition.headerProperties.headerMinHeight(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider)\r\n        .currentValue(() => this.componentState.headerState.headerMinHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n      // TODO ?\r\n      const childrenPanelDeltaHeightRem = 0;\r\n\r\n      this.childrenPlainCss += CssUtils.childrenPlainMinHeight(\r\n        contentMinHeight.map(v => SizeProperty.sizeToCss(unit, v)),\r\n        headerHeightValue,\r\n        this.headerVisible,\r\n        Some(childrenPanelDeltaHeightRem + \"rem\")\r\n      );\r\n\r\n      const gapColumn = this.definition.layoutsProperties.gapColumn.currentValue(() => this.componentState.layoutsState.gapColumn).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n      const gapRow = this.definition.layoutsProperties.gapRow.currentValue(() => this.componentState.layoutsState.gapRow).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n      this.childrenPlainCss += CssUtils.gaps(gapRow, gapColumn);\r\n\r\n\r\n      const backgroundColorValue = this.definition.backgroundsProperties.backgroundColor(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider).currentValue(() => this.componentState.backgroundsState.backgroundColor).valueOrDefault(None());\r\n\r\n      css += CssUtils.backgroundColor(backgroundColorValue);\r\n\r\n      css += ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n      css += ComponentViewModelUtils.toOuterShadowCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n\r\n      this.css = css;\r\n\r\n      this.entriesCss = \"\";\r\n\r\n      const maxHeight = this.definition.sizeProperties.maxHeight.currentValue(() => this.componentState.boxState.maxHeight).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n      const maxWidth = this.definition.sizeProperties.maxWidth.currentValue(() => this.componentState.boxState.maxWidth).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n\r\n      this.entriesCss += CssUtils.entriesMaxSizes(maxWidth, maxHeight, headerHeightValue, this.headerVisible);\r\n\r\n      const innerLayout = LayoutType.byName(this.definition.layoutsProperties.layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n\r\n      // if(this.componentState.innerContext.isDefined()) {\r\n\r\n      const existingEntries = this.entries.slice();\r\n      clearArray(this.entries);\r\n\r\n\r\n      this.componentState.innerContext.getOrError(\"No inner context available\").entries.forEach(contextEntry => {\r\n\r\n        const existing = __(existingEntries).find(e => e.contextId.id == contextEntry.id);\r\n        if (existing.isDefined()) {\r\n          this.entries.push(existing.get());\r\n        } else {\r\n          const children = this.definition.columns.map((column, index) => {\r\n            return this.createViewModel(this, ScreenComponentRefIdInScreen.of(this.componentScreenId, column.componentRefId), Some(contextEntry));\r\n          });\r\n          this.entries.push(new TableContainerEntryViewModel(contextEntry, this.serverModel, children, this.ref, this.refState));\r\n        }\r\n      });\r\n\r\n      this.columnsCount = this.definition.columns.length;\r\n\r\n      // } else {\r\n      //   clearArray(this.entries);\r\n      // }\r\n\r\n\r\n      this.entries.forEach(entry => entry.updateCss(contentMinWidth.getOrElse(\"1cm\"), contentMinHeight.getOrElse(\"1cm\")));\r\n\r\n      const lengthEditable = this.ref.lengthEditable.currentValue(() => this.refState.lengthEditable).valueOrDefault(false);\r\n      const minEntries = this.definition.minEntries.currentValue(() => this.componentState.minEntries).valueOrDefault(None()).getOrElse(0);\r\n      const maxEntries = this.definition.maxEntries.currentValue(() => this.componentState.maxEntries).valueOrDefault(None()).getOrElse(1000000);\r\n\r\n      this.canAddEntry = lengthEditable && this.entries.length < maxEntries;\r\n      this.canDeleteEntries = lengthEditable && this.entries.length > minEntries;\r\n\r\n      this.layout = layout.name;\r\n\r\n      this.addLabel = this.definition.addLabel.currentValue(() => this.componentState.properties.i18nTextProperty(\"addLabel\")).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n\r\n      this.headerCss = ComponentViewModelUtils.toHeaderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.headerProperties, this.componentState.headerState);\r\n\r\n\r\n      this.tableCss = \"\";\r\n\r\n      const deleteColumnWidth = this.canDeleteEntries ? (layoutAlign.isStretch() ? \" 0.01fr\" : \" 1fr\") : \"\"; // 0.01fr to make it minimal, 1fr to fill remaining space\r\n\r\n      if(layoutAlign.isStretch()) {\r\n        this.tableCss += \"grid-template-columns: \"+this.definition.columns.map(c => {\r\n          const columnRef = this.screensComponents[this.componentScreenId].getRef(c.componentRefId);\r\n          const desiredWidth = columnRef.positionProperties.desiredWidth.currentValue(() => this.componentState.properties.optionalStringProperty(\"child|\"+c.componentRefId.id+\"|desiredWidth\")).valueOrDefault(None());\r\n          return desiredWidth.map(v => parseFloat(v)+\"fr\").getOrElse(\"1fr\");\r\n        }).join(\" \")+deleteColumnWidth+\";\";\r\n      } else {\r\n        this.tableCss += \"grid-template-columns: \"+this.definition.columns.map(c => {\r\n          const columnRef = this.screensComponents[this.componentScreenId].getRef(c.componentRefId);\r\n          const desiredWidth = columnRef.positionProperties.desiredWidth.currentValue(() => this.componentState.properties.optionalStringProperty(\"child|\"+c.componentRefId.id+\"|desiredWidth\")).valueOrDefault(None());\r\n          return desiredWidth.map(v => SizeProperty.sizeToCss(unit, v)).getOrElse(\"1fr\");\r\n        }).join(\" \")+deleteColumnWidth+\";\";\r\n\r\n        if(layoutAlign.isStart()) {\r\n          this.tableCss += \"justify-content: start;\";\r\n        } else if(layoutAlign.isCenter()) {\r\n          this.tableCss += \"justify-content: center;\";\r\n        } else if(layoutAlign.isEnd()) {\r\n          this.tableCss += \"justify-content: end;\";\r\n        }\r\n      }\r\n\r\n      this.columns.forEach(c => c.updateView());\r\n\r\n      this.rows = __(this.entries).map(e => {\r\n        const children = e.children.map(ch => new TableContainerCell(e.contextId, ch, [ch], false));\r\n        if(this.canDeleteEntries) {\r\n          return new TableContainerRow(e.contextId, children.concat([new TableContainerCell(e.contextId, null, null,true)]));\r\n        } else {\r\n          return new TableContainerRow(e.contextId, children);\r\n        }\r\n      });\r\n\r\n    }\r\n    super.updatePosition();\r\n    this.parent?.updateTop();\r\n  }\r\n\r\n  override isTable() {\r\n    return true;\r\n  }\r\n\r\n\r\n  addEntry(): void {\r\n    this.serverModel.addRepeatableContextEntry(this.componentRefPath(), () => {\r\n\r\n    });\r\n  }\r\n\r\n  deleteEntry(row: TableContainerRow): void {\r\n    this.serverModel.deleteRepeatableContextEntry(this.componentRefPath(), row.entryContextId, __(this.entries).findIndexOf(e => e.contextId.id === row.entryContextId.id).getOrError(\"No entry\"), () => {\r\n      this.updateContainer(false);\r\n    });\r\n    this.updateContainer(false);\r\n  }\r\n\r\n  getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n    for(let i = 0; i < this.entries.length; i++) {\r\n      const fromEntry = this.entries[i].getComponentById(id);\r\n      if (fromEntry.isDefined()) {\r\n        return fromEntry;\r\n      }\r\n\r\n    }\r\n    return None();\r\n  }\r\n\r\n\r\n\r\n  static create(shared: ScreenSharedViewModel,\r\n                parent: ScreenContainerViewModel|null,\r\n                context: VariableId,\r\n                definition: TableContainerDefinition,\r\n                componentScreenId: string,\r\n                ref: TableContainerRef,\r\n                refScreenId: string,\r\n                componentState: TableContainerState,\r\n                refState: TableContainerRefState,\r\n                serverModel: ScreenInstanceServerModel,\r\n                screensComponents: {[screenId: string]: ScreenComponents},\r\n                componentsState: ScreenComponentsState,\r\n                createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n\r\n    return new TableContainerViewModel(shared, parent, definition, componentScreenId, ref, refScreenId, componentState, refState, context, serverModel, screensComponents, componentsState,\r\n      createViewModel);\r\n\r\n  }\r\n\r\n  childDeltaHeightChanged(): void {\r\n  }\r\n\r\n}\r\n","import {TableContainerViewModel} from \"@screens\";\r\nimport {Component, Input} from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: 'my-table-container[viewModel]',\r\n  templateUrl: './table-container.component.html',\r\n  // styleUrls: ['./table-container.component.scss']\r\n})\r\nexport class TableContainerComponent {\r\n  @Input() viewModel!: TableContainerViewModel;\r\n\r\n  trackByIndex(index: number, element: any) {\r\n    return index;\r\n  };\r\n}\r\n\r\n\r\n","<div class=\"componentBody TableContainer {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\" style=\"{{viewModel.css}}\" [ngClass]=\"{withHeader: viewModel.headerVisible}\">\r\n  <div class=\"sectionHeader\" *ngIf=\"viewModel.headerVisible\" [style]=\"viewModel.headerCss\">{{viewModel.header}}</div>\r\n  <div class=\"tableEntriesScroll\">\r\n    <div class=\"tableEntries childrenPlain layout_{{viewModel.layoutClass}} layoutAlign_{{viewModel.layoutAlignClass}} layoutStretch_{{viewModel.layoutStretchClass}}\"\r\n         style=\"{{viewModel.tableCss + viewModel.childrenPlainCss}}\">\r\n      <div class=\"tableEntryHeader\">\r\n        <div class=\"clickableGlassCell\" *ngIf=\"viewModel.clickableEntry\"></div>\r\n        <div class=\"tableColumnHeader\" *ngFor=\"let column of viewModel.columns\" style=\"{{column.css}}\">\r\n          <div class=\"columnLabelText\" *ngIf=\"column.label.length > 0\">{{column.label}}</div>\r\n        </div>\r\n        <div class=\"deleteRowColumnHeader\" *ngIf=\"viewModel.canDeleteEntries\"></div>\r\n      </div>\r\n      <div class=\"tableEntryRow\" *ngIf=\"viewModel.rows.length == 0\">\r\n        <div class=\"tableEntryCell\">-</div>\r\n      </div>\r\n      <div class=\"tableEntryRow\" *ngFor=\"let row of viewModel.rows trackBy: trackByIndex\"\r\n           [ngClass]=\"{clickable: viewModel.clickableEntry}\" (click)=\"viewModel.onRowClick(row)\">\r\n        <div class=\"clickableGlassCell\" *ngIf=\"viewModel.clickableEntry\"><div class=\"clickableGlass\"></div></div>\r\n        <div class=\"tableEntryCell\" *ngFor=\"let cell of row.cells trackBy: trackByIndex\">\r\n          <ng-container *ngFor=\"let component of cell.childArray\">\r\n            <div class=\"ViewComponent ViewComponent{{cell.child?.id}} {{cell.child?.errorClass}}\" *ngIf=\"cell.child?.uncoveredAndVisible && !cell.deleteRow\">\r\n\r\n              <div class=\"componentBodyContainer labelPosition_{{cell.child?.label?.positionClass}}\">\r\n\r\n                <!--              SHARED -->\r\n                <ng-container [ngSwitch]=\"component.typeName\">\r\n                  <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n                  <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n                  <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n                  <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n                  <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n                  <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n                  <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n                  <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n                  <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n                  <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n                  <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n                  <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n                  <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n                  <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n                  <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n                  <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n                  <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n                  <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n                  <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n                  <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n                  <div *ngSwitchDefault>\r\n                    Unsupported Component {{component.typeName}}\r\n                  </div>\r\n                </ng-container>\r\n                <div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n                  <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n                </div>\r\n\r\n                <div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n                <!--              SHARED -->\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </ng-container>\r\n          <div class=\"deleteRow\" *ngIf=\"viewModel.canDeleteEntries && cell.deleteRow\">\r\n            <button class=\"deleteButton\" (click)=\"viewModel.deleteEntry(row)\"><i class=\"ss-trash\"></i></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"addButtonPanel\" *ngIf=\"viewModel.canAddEntry\">\r\n      <button class=\"addButton\" (click)=\"viewModel.addEntry()\"><i class=\"ss-plus\"></i>{{viewModel.addLabel}}</button>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n","import {__} from \"@libs/FunctionalExtensions\";\r\nimport {\r\n  ScreenComponentId, ScreenComponentRefId,\r\n  BackgroundsProperties, BordersProperties, ComponentActionProperties,\r\n  ComponentProperties, ComponentValidationRules, DefaultPropertyProvider, HeaderProperties, LayoutsProperties,\r\n  OptionalContextContainerDefinition,\r\n  PaddingsProperties, ScreenContainerRef,\r\n  BooleanProperty,\r\n  I18nTextProperty,\r\n  OptionalModelProperty,\r\n  OptionalStringProperty,\r\n  StringProperty\r\n} from \"@screens\";\r\nimport {ScreenId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class TabEntryDefinition {\r\n  constructor(readonly id: number,\r\n              readonly children: Array<ScreenComponentRefId>) {}\r\n\r\n\r\n  getHeader(properties: ComponentProperties): I18nTextProperty {return properties.getI18nTextProperty(\"tab|\"+this.id+\"|header\", TabsContainerDefinition.DEFAULT_PROPERTIES)};\r\n  getVisible(properties: ComponentProperties): BooleanProperty {return properties.getBooleanProperty(\"tab|\"+this.id+\"|visible\", TabsContainerDefinition.DEFAULT_PROPERTIES)};\r\n  getEditable(properties: ComponentProperties): BooleanProperty {return properties.getBooleanProperty(\"tab|\"+this.id+\"|editable\", TabsContainerDefinition.DEFAULT_PROPERTIES)};\r\n  getUncovered(properties: ComponentProperties): BooleanProperty {return properties.getBooleanProperty(\"tab|\"+this.id+\"|uncovered\", TabsContainerDefinition.DEFAULT_PROPERTIES)};\r\n  getEnabled(properties: ComponentProperties): BooleanProperty {return properties.getBooleanProperty(\"tab|\"+this.id+\"|enabled\", TabsContainerDefinition.DEFAULT_PROPERTIES)};\r\n\r\n  contentTextSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider, properties: ComponentProperties): OptionalStringProperty {return properties.getOptionalStringProperty(\"tab|\"+this.id+\"|contentTextSize\", defaultProvider)}\r\n  contentTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider, properties: ComponentProperties): OptionalStringProperty {return properties.getOptionalStringProperty(\"tab|\"+this.id+\"|contentTextColor\", defaultProvider)}\r\n  contentTextFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider, properties: ComponentProperties): OptionalStringProperty {return properties.getOptionalStringProperty(\"tab|\"+this.id+\"|contentTextFont\", defaultProvider)}\r\n\r\n\r\n  layoutsProperties(properties: ComponentProperties) {\r\n    return new LayoutsProperties(\"tab|\"+this.id+\"|\", properties, TabsContainerDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  paddingsProperties(properties: ComponentProperties) {\r\n    return new PaddingsProperties(\"tab|\"+this.id+\"|\", properties);\r\n  }\r\n\r\n  backgroundsProperties(properties: ComponentProperties) {\r\n    return new BackgroundsProperties(\"tab|\"+this.id+\"|\", properties);\r\n  }\r\n\r\n  static copy(other: TabEntryDefinition) {\r\n    return new TabEntryDefinition(\r\n      other.id,\r\n      other.children.map(ScreenComponentRefId.copy)\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport class TabsContainerRef extends ScreenContainerRef {\r\n  static className = \"TabsContainerRef\";\r\n  className() {\r\n    return TabsContainerRef.className;\r\n  }\r\n\r\n  constructor(\r\n    readonly id: ScreenComponentRefId,\r\n    readonly componentId: ScreenComponentId,\r\n    readonly applicationScreen: Option<ScreenId>,\r\n    readonly properties: ComponentProperties\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static copy(other: TabsContainerRef): TabsContainerRef {\r\n    return new TabsContainerRef(\r\n      ScreenComponentRefId.copy(other.id),\r\n      ScreenComponentId.copy(other.componentId),\r\n      Option.copy(other.applicationScreen, ScreenId.copy),\r\n      ComponentProperties.copy(other.properties)\r\n    )\r\n  }\r\n\r\n\r\n  static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.ofFallbacks(\"TabsRef\", DefaultPropertyProvider.ref);\r\n\r\n  override defaultPropertiesProvider = TabsContainerRef.DEFAULT_PROPERTIES;\r\n}\r\n\r\n\r\nexport class TabsContainerDefinition extends OptionalContextContainerDefinition {\r\n  static className = \"TabsContainerDefinition\";\r\n  className() {\r\n    return TabsContainerDefinition.className;\r\n  }\r\n  typeName() {\r\n    return \"Tabs\";\r\n  }\r\n\r\n  constructor(\r\n    override readonly id: ScreenComponentId,\r\n    override readonly identifier: Option<string>,\r\n    override readonly properties: ComponentProperties,\r\n    readonly actionProperties: ComponentActionProperties,\r\n    override readonly validationRules: ComponentValidationRules,\r\n    readonly tabs: Array<TabEntryDefinition>) {\r\n    super(id, identifier, properties, validationRules,TabsContainerDefinition.DEFAULT_PROPERTIES);\r\n  }\r\n\r\n  bordersProperties = new BordersProperties(this.properties);\r\n  backgroundsProperties = new BackgroundsProperties(\"\", this.properties);\r\n  headerProperties = new HeaderProperties(this.properties);\r\n\r\n  static copy(other: TabsContainerDefinition): TabsContainerDefinition {\r\n    return new TabsContainerDefinition(\r\n      ScreenComponentId.copy(other.id),\r\n      Option.copy(other.identifier),\r\n      ComponentProperties.copy(other.properties),\r\n      ComponentActionProperties.copy(other.actionProperties),\r\n      ComponentValidationRules.copy(other.validationRules),\r\n      other.tabs.map(TabEntryDefinition.copy)\r\n    )\r\n  }\r\n\r\n  get model(): OptionalModelProperty {return this.properties.getOptionalModelProperty(\"model\", this.defaultPropertiesProvider)};\r\n\r\n  override getChildren(): Array<ScreenComponentRefId> {\r\n    return __(this.tabs).flatMap(t => t.children);\r\n  }\r\n\r\n  static DEFAULT_PROPERTIES: DefaultPropertyProvider = DefaultPropertyProvider.of(\"TabsDefinition\", (name:string) => {\r\n\r\n    if(name.indexOf(\"tab|\") == 0) {\r\n      const tabSubName = name.substring(name.indexOf(\"|\", name.indexOf(\"|\") + 1) + 1, name.length);\r\n      if(tabSubName.indexOf(\"row|\") == 0) {\r\n        const rowSubName = tabSubName.substring(tabSubName.indexOf(\"|\", tabSubName.indexOf(\"|\") + 1) + 1, tabSubName.length);\r\n        switch (rowSubName) {\r\n          case \"height\": return StringProperty.of(\"auto\");\r\n          default: return null;\r\n        }\r\n      } else if(tabSubName.indexOf(\"column|\") == 0) {\r\n        const columnSubName = tabSubName.substring(tabSubName.indexOf(\"|\", tabSubName.indexOf(\"|\") + 1) + 1, tabSubName.length);\r\n        switch (columnSubName) {\r\n          case \"width\": return StringProperty.of(\"auto\");\r\n          default: return null;\r\n        }\r\n      } else {\r\n        return DefaultPropertyProvider.ofFallbacks(tabSubName,\r\n          DefaultPropertyProvider.containerPlain,\r\n          DefaultPropertyProvider.containerPaddings,\r\n          DefaultPropertyProvider.definitionBorders,\r\n          DefaultPropertyProvider.definitionBackgrounds).getIfExistsOrNull(tabSubName);\r\n      }\r\n\r\n    } else {\r\n      switch (name) {\r\n        default: return null;\r\n      }\r\n    }\r\n\r\n  },\r\n    DefaultPropertyProvider.definitionLabel,\r\n    DefaultPropertyProvider.definitionComponent,\r\n    DefaultPropertyProvider.definitionBorders,\r\n    DefaultPropertyProvider.definitionBackgrounds,\r\n    DefaultPropertyProvider.definitionSectionHeader\r\n  );\r\n}\r\n","import {\r\n  OptionalContextComponentState, ScreenComponentRefState,\r\n  BackgroundsPropertiesState, BordersPropertiesState,\r\n  HeaderPropertiesState,\r\n  LayoutsPropertiesState,\r\n  PaddingsPropertiesState,\r\n  PropertiesStateHolder\r\n} from \"@screens\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport class TabState {\r\n\r\n  constructor(readonly properties: PropertiesStateHolder,\r\n              readonly id: number) {\r\n  }\r\n\r\n\r\n  get header() {\r\n    return this.properties.i18nTextProperty(\"header\");\r\n  }\r\n\r\n  get enabled() {\r\n    return this.properties.booleanProperty(\"enabled\");\r\n  }\r\n\r\n\r\n  get layoutsState() {\r\n    return new LayoutsPropertiesState(\"tab|\"+this.id+\"|\", this.properties);\r\n  }\r\n\r\n  get paddingsState() {\r\n    return new PaddingsPropertiesState(\"tab|\"+this.id+\"|\", this.properties);\r\n  }\r\n\r\n  get backgroundsState() {\r\n    return new BackgroundsPropertiesState(\"tab|\"+this.id+\"|\", this.properties);\r\n  }\r\n\r\n  get contentTextSize() {return this.properties.optionalStringProperty(\"tab|\"+this.id+\"|textSize\")}\r\n  get contentTextColor() {return this.properties.optionalStringProperty(\"tab|\"+this.id+\"|textColor\")}\r\n  get contentTextFont() {return this.properties.optionalStringProperty(\"tab|\"+this.id+\"|textFont\")}\r\n\r\n\r\n}\r\n\r\nexport class  TabsContainerState extends OptionalContextComponentState {\r\n  static className = \"TabsContainerState\";\r\n  className() {\r\n    return TabsContainerState.className;\r\n  }\r\n\r\n  constructor(public innerContext: Option<VariableId>,\r\n              readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  readonly bordersState = new BordersPropertiesState(this.properties);\r\n  readonly backgroundsState = new BackgroundsPropertiesState(\"\", this.properties);\r\n  readonly headerState = new HeaderPropertiesState(this.properties);\r\n\r\n  updateInnerContext(innerContext: Option<VariableId>): void {\r\n    this.innerContext = innerContext;\r\n  }\r\n\r\n  static copy(other: TabsContainerState) {\r\n    return new TabsContainerState(Option.copy(other.innerContext).map(VariableId.copy),\r\n      PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n\r\nexport class TabsContainerRefState extends ScreenComponentRefState {\r\n  static className = \"TabsContainerRefState\";\r\n  className() {\r\n    return TabsContainerRefState.className;\r\n  }\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n    super(properties);\r\n  }\r\n\r\n  static copy(other: TabsContainerRefState) {\r\n    return new TabsContainerRefState(PropertiesStateHolder.copy(other.properties));\r\n  }\r\n\r\n}\r\n","import {\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  LayoutWrap,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen, TextFont,\r\n  TabEntryDefinition, TabsContainerDefinition, TabsContainerRef,\r\n  TabsContainerRefState, TabsContainerState, TabState,\r\n  ComponentStatus, ComponentViewModelUtils,\r\n  ScreenComponentViewModel,\r\n  ScreenContainerViewModel,\r\n  SizeProperty,\r\n  SizeUtils,\r\n  ScreenSharedViewModel,\r\n  ScreenInstanceServerModel,\r\n  ScreenFormConfig,\r\n  CssUtils} from \"@screens\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {overwriteArray} from \"@libs/Collections\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\n\r\nexport class TabEntryViewModel {\r\n\r\n  public header: string = \"\";\r\n  public visible: boolean = false;\r\n  public editable: boolean = false;\r\n  public uncovered: boolean = false;\r\n  public enabled: boolean = false;\r\n\r\n  public uncoveredAndVisible: boolean = false;\r\n\r\n  public layoutClass: string = \"\";\r\n  public layoutAlignClass: string = \"\";\r\n  public layoutStretchClass: string = \"\";\r\n  public layoutWrapClass: string = \"\";\r\n\r\n  public childrenPlainCss = \"\";\r\n\r\n  public childrenPanelDeltaHeightRem = 0;\r\n\r\n  readonly children: Array<ScreenComponentViewModel> = [];\r\n\r\n  constructor(readonly parent: TabsContainerViewModel,\r\n              readonly definition: TabEntryDefinition,\r\n              readonly componentState: TabState,\r\n              readonly prefix: string) {}\r\n\r\n  update(deep: boolean) {\r\n    const unit = ScreenFormConfig.panelUnitRemSize;\r\n\r\n    const layout = LayoutType.byName(this.definition.layoutsProperties(this.parent.definition.properties).layout.currentValue(() => this.componentState.layoutsState.layout).valueOrDefault(LayoutType.horizontal.name));\r\n    const layoutAlign = LayoutAlign.byName(this.definition.layoutsProperties(this.parent.definition.properties).layoutAlign.currentValue(() => this.componentState.layoutsState.layoutAlign).valueOrDefault(LayoutAlign.DEFAULT.name));\r\n    const layoutStretch = LayoutStretch.byName(this.definition.layoutsProperties(this.parent.definition.properties).layoutStretch.currentValue(() => this.componentState.layoutsState.layoutStretch).valueOrDefault(LayoutStretch.DEFAULT.name));\r\n    const layoutWrap = LayoutWrap.byName(this.definition.layoutsProperties(this.parent.definition.properties).layoutWrap.currentValue(() => this.componentState.layoutsState.layoutWrap).valueOrDefault(LayoutWrap.wrap.name));\r\n    this.layoutClass = layout.name;\r\n    this.layoutAlignClass = layoutAlign.name;\r\n    this.layoutStretchClass = layoutStretch.name;\r\n    this.layoutWrapClass = layoutWrap.name;\r\n\r\n    // this.css = ComponentViewModelUtils.toBoxCss(this.definition.boxProperties, this.componentState.boxState);\r\n    const childrenContext = this.parent.componentState.innerContext.getOrElse(this.parent.context);\r\n    const modelProperty = this.parent.definition.model.currentValue(() => this.parent.componentState.properties.optionalModelProperty(\"model\"));\r\n    if(modelProperty.isSuccess()) {\r\n      const children = this.definition.children.map((childRefId, _index) => {\r\n        return __(this.children).find(child => child.ref.id.id === childRefId.id && child.context.id === childrenContext.id)\r\n          .getOrElseLazy(() => this.parent.createViewModel(this.parent, ScreenComponentRefIdInScreen.of(this.parent.componentScreenId, childRefId), this.parent.componentState.innerContext));\r\n      });\r\n      overwriteArray(this.children, children);\r\n    }\r\n\r\n    this.children.forEach(child => child.updateComponent(deep));\r\n\r\n    this.header = this.definition.getHeader(this.parent.definition.properties).currentValue(() => this.parent.componentState.properties.i18nTextProperty(\"tab|\"+this.definition.id +\"|header\")).valueOrDefault(I18nText.empty()).getCurrentWithFallback();\r\n    this.visible = this.definition.getVisible(this.parent.definition.properties).currentValue(() => this.parent.componentState.properties.booleanProperty(\"tab|\"+this.definition.id +\"|visible\")).valueOrDefault(false);\r\n    this.editable = this.definition.getEditable(this.parent.definition.properties).currentValue(() => this.parent.componentState.properties.booleanProperty(\"tab|\"+this.definition.id +\"|editable\")).valueOrDefault(true);\r\n    this.uncovered = this.definition.getUncovered(this.parent.definition.properties).currentValue(() => this.parent.componentState.properties.booleanProperty(\"tab|\"+this.definition.id +\"|uncovered\")).valueOrDefault(true);\r\n    this.enabled = this.definition.getEnabled(this.parent.definition.properties).currentValue(() => this.parent.componentState.properties.booleanProperty(\"tab|\"+this.definition.id +\"|enabled\")).valueOrDefault(true);\r\n\r\n    this.uncoveredAndVisible = this.uncovered && this.visible;\r\n\r\n    const textSize = this.definition.contentTextSize(this.parent.skinName, this.parent.typeName, this.parent.componentClass, this.parent.defaultPropertyProvider, this.parent.definition.properties).currentValue(() => this.componentState.contentTextSize).valueOrDefault(None()).map(v => SizeUtils.sizeToCss(v));\r\n    const textColor = this.definition.contentTextColor(this.parent.skinName, this.parent.typeName, this.parent.componentClass, this.parent.defaultPropertyProvider, this.parent.definition.properties).currentValue(() => this.componentState.contentTextColor).valueOrDefault(None());\r\n    const textFont = this.definition.contentTextFont(this.parent.skinName, this.parent.typeName, this.parent.componentClass, this.parent.defaultPropertyProvider, this.parent.definition.properties).currentValue(() => this.componentState.contentTextFont).valueOrDefault(None()).map(f => TextFont.getFontCss(f));\r\n\r\n    const font = CssUtils.font(textFont, textSize, false, false, false, false, textColor);\r\n\r\n    const contentMinHeight = this.parent.definition.sizeProperties.contentMinHeight.currentValue(() => this.parent.componentState.boxState.contentMinHeight).valueOrDefault(None());\r\n    const contentMinWidth = this.parent.definition.sizeProperties.contentMinWidth.currentValue(() => this.parent.componentState.boxState.contentMinWidth).valueOrDefault(None());\r\n\r\n    const paddings = ComponentViewModelUtils.toPaddingsCss(this.parent.skinName, this.parent.typeName, this.parent.componentClass, this.parent.defaultPropertyProvider, this.definition.paddingsProperties(this.parent.definition.properties), this.componentState.paddingsState);\r\n\r\n    this.childrenPlainCss = font + paddings;\r\n\r\n    // TODO: calculate header height when header settings will be implemented to TabsContainer\r\n    const headerMinHeight = Some(\"3rem\");\r\n\r\n    this.childrenPlainCss += CssUtils.childrenPlainMinHeight(\r\n      contentMinHeight.map(v => SizeProperty.sizeToCss(unit, v)),\r\n      headerMinHeight, true,\r\n      Some(this.childrenPanelDeltaHeightRem + \"rem\")\r\n    );\r\n\r\n    this.childrenPlainCss += CssUtils.childrenPlainMinWidth(\r\n      contentMinWidth.orElse(Some(\"1cm\")).map(v => SizeProperty.sizeToCss(unit, v))\r\n    );\r\n\r\n    const backgroundColorValue = this.definition.backgroundsProperties(this.parent.definition.properties).backgroundColor(this.parent.skinName, this.parent.typeName, this.parent.componentClass, this.parent.defaultPropertyProvider).currentValue(() => this.componentState.backgroundsState.backgroundColor).valueOrDefault(None());\r\n    this.childrenPlainCss += CssUtils.backgroundColor(backgroundColorValue);\r\n\r\n    if(!layout.isStatic()) {\r\n      const gapColumn = this.definition.layoutsProperties(this.parent.definition.properties).gapColumn.currentValue(() => this.componentState.layoutsState.gapColumn).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n      const gapRow = this.definition.layoutsProperties(this.parent.definition.properties).gapRow.currentValue(() => this.componentState.layoutsState.gapRow).valueOrDefault(None()).map(v => SizeProperty.sizeToCss(unit, v));\r\n      this.childrenPlainCss += CssUtils.gaps(gapRow, gapColumn);\r\n    }\r\n\r\n  }\r\n\r\n  getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n    for(let i = 0; i < this.children.length; i++) {\r\n      const child = this.children[i];\r\n      if(child.id == id) {\r\n        return Some(child);\r\n      } else if(child.isContainer()) {\r\n        const childSuccessor = (<ScreenContainerViewModel>child).getComponentById(id);\r\n        if(childSuccessor.isDefined()) {\r\n          return childSuccessor;\r\n        }\r\n      }\r\n    }\r\n    return None();\r\n  }\r\n\r\n  static create(parent: TabsContainerViewModel, definition: TabEntryDefinition, componentState: TabState, prefix: string) {\r\n\r\n    return new TabEntryViewModel(parent, definition, componentState, prefix);\r\n  }\r\n}\r\n\r\nexport class TabsContainerViewModel extends ScreenContainerViewModel {\r\n\r\n  override typeName = \"Tabs\";\r\n\r\n  public activeTab: TabEntryViewModel|null = null;\r\n\r\n  public override cssClass: string = \"\";\r\n  public css: string = \"\";\r\n  public headerCss: string = \"\";\r\n\r\n  constructor(override readonly shared: ScreenSharedViewModel,\r\n              override readonly parent: ScreenContainerViewModel|null,\r\n              override readonly definition: TabsContainerDefinition,\r\n              override readonly componentScreenId: string,\r\n              readonly ref: TabsContainerRef,\r\n              override readonly refScreenId: string,\r\n              readonly componentState: TabsContainerState,\r\n              readonly refState: TabsContainerRefState,\r\n              readonly context: VariableId,\r\n              readonly serverModel: ScreenInstanceServerModel,\r\n              public tabs: Array<TabEntryViewModel>,\r\n              readonly createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n    super(parent, componentState, refState, definition, shared);\r\n  }\r\n\r\n  getLayoutForComponent(componentRefId: ScreenComponentRefId) {\r\n    const tabDefinition = __(this.definition.tabs).find(t => __(t.children).exists(c => c.id == componentRefId.id)).getOrError(\"No tab found\");\r\n    const tab = __(this.tabs).find(t => t.definition.id === tabDefinition.id).getOrError(\"No tab view model found\");\r\n    const layoutName = this.parent ?\r\n      tabDefinition.layoutsProperties(this.parent.definition.properties)\r\n        .layout.currentValue(() => tab.componentState.layoutsState.layout)\r\n        .valueOrDefault(LayoutType.horizontal.name) :\r\n      LayoutType.horizontal.name;\r\n    return LayoutType.byName(layoutName);\r\n  }\r\n\r\n  injectTabs(tabs: Array<TabEntryViewModel>) {\r\n    this.tabs = tabs;\r\n    this.update();\r\n  }\r\n\r\n  getAllChildren(): Array<ScreenComponentViewModel> {\r\n    return __(this.tabs).flatMap(t => t.children);\r\n  }\r\n\r\n  selectTab(tab: TabEntryViewModel) {\r\n    this.activeTab = tab;\r\n  }\r\n\r\n  updateContainer(deep: boolean) {\r\n\r\n    if(this.uncoveredAndVisible && this.status == ComponentStatus.initialized) {\r\n\r\n      const bordersCss = ComponentViewModelUtils.toBorderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.bordersProperties, this.componentState.bordersState);\r\n      const backgroundCss = ComponentViewModelUtils.toBackgroundCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.backgroundsProperties, this.componentState.backgroundsState);\r\n\r\n      this.css = bordersCss + backgroundCss;\r\n      this.headerCss = this.headerCss = ComponentViewModelUtils.toHeaderCss(this.skinName, this.typeName, this.componentClass, this.defaultPropertyProvider, this.definition.headerProperties, this.componentState.headerState);\r\n\r\n      this.tabs.forEach(t => t.update(deep));\r\n\r\n      if(this.activeTab == null) {\r\n        this.activeTab = ___(this.tabs).filter(t => t.visible).firstOption().getOrNull();\r\n      }\r\n    }\r\n    super.updatePosition();\r\n  }\r\n\r\n\r\n  static create(shared: ScreenSharedViewModel,\r\n                parent: ScreenContainerViewModel|null,\r\n                context: VariableId,\r\n                definition: TabsContainerDefinition,\r\n                componentScreenId: string,\r\n                ref: TabsContainerRef,\r\n                refScreenId: string,\r\n                componentState: TabsContainerState,\r\n                refState: TabsContainerRefState,\r\n                serverModel: ScreenInstanceServerModel,\r\n                createViewModel: (parent: ScreenContainerViewModel, componentRef: ScreenComponentRefIdInScreen, childContext: Option<VariableId>) => ScreenComponentViewModel) {\r\n\r\n    const viewModel =  new TabsContainerViewModel(shared, parent, definition, componentScreenId, ref, refScreenId, componentState, refState, context, serverModel, [], createViewModel);\r\n\r\n    const tabs = definition.tabs.map((tab, index) => {\r\n      return TabEntryViewModel.create(viewModel, tab, new TabState(componentState.properties, index), \"tab|\"+index+\"|\");\r\n    });\r\n\r\n    viewModel.injectTabs(tabs);\r\n\r\n    return viewModel;\r\n  }\r\n\r\n  childDeltaHeightChanged(): void {\r\n  }\r\n\r\n  getComponentById(id: number): Option<ScreenComponentViewModel> {\r\n    for(let i = 0; i < this.tabs.length; i++) {\r\n      const fromEntry = this.tabs[i].getComponentById(id);\r\n      if (fromEntry.isDefined()) {\r\n        return fromEntry;\r\n      }\r\n\r\n    }\r\n    return None();\r\n  }\r\n\r\n  override isTabs(): boolean {\r\n    return true;\r\n  }\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {TabsContainerViewModel} from \"@screens\";\r\n\r\n@Component({\r\n  selector: 'my-tabs-container[viewModel]',\r\n  templateUrl: './tabs-container.component.html',\r\n  // styleUrls: ['./tabs-container.component.scss']\r\n})\r\nexport class TabsContainerComponent {\r\n  @Input() viewModel!: TabsContainerViewModel;\r\n}\r\n\r\n","<div class=\"componentBody TabsContainer {{viewModel.cssClass}}\" *ngIf=\"viewModel.uncoveredAndVisible\" style=\"{{viewModel.css}} {{viewModel.sizeCss}}\">\r\n  <div class=\"tabsHeader\">\r\n\r\n    <ng-container *ngFor=\"let tab of viewModel.tabs\">\r\n      <span class=\"tabHeader\" *ngIf=\"tab.uncoveredAndVisible\" [ngClass]=\"{selected: tab === viewModel.activeTab, disabled: !tab.enabled}\" [style]=\"viewModel.headerCss\">\r\n        <button *ngIf=\"tab.enabled\" class=\"tab\" (click)=\"viewModel.selectTab(tab)\"  [ngClass]=\"{selected: tab === viewModel.activeTab}\">{{tab.header}}</button>\r\n        <button *ngIf=\"!tab.enabled\" class=\"tab\">{{tab.header}}</button>\r\n      </span>\r\n    </ng-container>\r\n\r\n  </div>\r\n  <div *ngIf=\"viewModel.activeTab\" class=\"childrenPlain layout_{{viewModel.activeTab.layoutClass}} layoutAlign_{{viewModel.activeTab.layoutAlignClass}} layoutStretch_{{viewModel.activeTab.layoutStretchClass}} layoutWrap_{{viewModel.activeTab.layoutWrapClass}}\"\r\n       [style]=\"viewModel.activeTab.childrenPlainCss\">\r\n\r\n    <ng-container *ngFor=\"let component of viewModel.activeTab.children\">\r\n      <div *ngIf=\"component.uncoveredAndVisible\" class=\"ViewComponent ViewComponent{{component.id}} layout_{{viewModel.activeTab.layoutClass}} {{component.errorClass}}\"\r\n           [style]=\"component?.positionCss\">\r\n        <div class=\"componentBodyContainer labelPosition_{{component.label?.positionClass}}\">\r\n\r\n          <!--              SHARED -->\r\n          <ng-container [ngSwitch]=\"component.typeName\">\r\n            <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n            <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n            <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n            <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n            <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n            <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n            <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n            <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n            <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n            <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n            <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n            <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n            <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n            <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n            <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n            <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n            <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n            <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n            <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n            <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n            <div *ngSwitchDefault>\r\n              Unsupported Component {{component.typeName}}\r\n            </div>\r\n          </ng-container>\r\n          <div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n            <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n          </div>\r\n\r\n          <div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n          <!--              SHARED -->\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","export * from \"./ScreenFormConfig\"\r\nexport * from \"./model/ScreenSimpleModel\"\r\nexport * from \"./model/ViewModel\"\r\nexport * from \"./model/PropertiesModel\"\r\nexport * from \"./model/ScreenModel\"\r\nexport * from \"./model/ComponentStateModel\"\r\nexport * from \"./model/ScreenMessages\"\r\n\r\nexport * from \"./services/BusinessVariableInputServerModel\"\r\nexport * from \"./services/files/DocumentRepositoryModel\"\r\nexport * from \"./services/files/FilesMessages\"\r\nexport * from \"./services/files/FilesService\"\r\n\r\nexport * from \"./services/ScreenEventBus\"\r\nexport * from \"./services/ScreenInstanceService\"\r\nexport * from \"./services/ScreenDefinitionEvents\"\r\nexport * from \"./services/ScreenQueryService\"\r\nexport * from \"./services/ActionsModel\"\r\nexport * from \"./services/ApplicationModel\"\r\nexport * from \"./components/ScreenComponentViewModel\"\r\nexport * from \"./components/ComponentLabelViewModel\"\r\nexport * from \"./components/ComponentsModel\"\r\n\r\nexport * from \"./components/repeatable/RepeatableContainerDefinition\"\r\nexport * from \"./components/repeatable/RepeatableContainerViewModel\"\r\nexport * from \"./components/repeatable/RepeatableContainerState\"\r\nexport * from \"./components/section/SectionContainerDefinition\"\r\nexport * from \"./components/section/SectionContainerViewModel\"\r\nexport * from \"./components/section/SectionContainerState\"\r\n\r\nexport * from \"./components/tabs/TabsContainerDefinition\"\r\nexport * from \"./components/tabs/TabsContainerViewModel\"\r\nexport * from \"./components/tabs/TabsContainerState\"\r\nexport * from \"./components/tabs/tabs-container.component\";\r\n\r\nexport * from \"./components/table/TableContainerDefinition\"\r\nexport * from \"./components/table/TableContainerViewModel\"\r\nexport * from \"./components/table/TableContainerState\"\r\nexport * from \"./components/table/table-container.component\";\r\n\r\nexport * from \"./components/label/LabelComponentDefinition\"\r\nexport * from \"./components/label/LabelComponentViewModel\"\r\nexport * from \"./components/label/LabelComponentState\"\r\nexport * from \"./components/button/ButtonComponentDefinition\"\r\nexport * from \"./components/button/ButtonComponentViewModel\"\r\nexport * from \"./components/button/ButtonComponentState\"\r\nexport * from \"./components/image/ImageComponentDefinition\"\r\nexport * from \"./components/image/ImageComponentViewModel\"\r\nexport * from \"./components/image/ImageComponentState\"\r\nexport * from \"./components/select/MultiCheckboxComponentDefinition\"\r\nexport * from \"./components/select/MultiCheckboxComponentViewModel\"\r\nexport * from \"./components/select/MultiCheckboxComponentState\"\r\nexport * from \"./components/select/SingleCheckboxComponentDefinition\"\r\nexport * from \"./components/select/SingleCheckboxComponentViewModel\"\r\nexport * from \"./components/select/SingleCheckboxComponentState\"\r\nexport * from \"./components/select/RadioButtonComponentDefinition\"\r\nexport * from \"./components/select/RadioButtonComponentViewModel\"\r\nexport * from \"./components/select/RadioButtonComponentState\"\r\nexport * from \"./components/input/NumberInputComponentDefinition\"\r\nexport * from \"./components/input/NumberInputComponentViewModel\"\r\nexport * from \"./components/input/NumberInputComponentState\"\r\nexport * from \"./components/input/TextInputComponentDefinition\"\r\nexport * from \"./components/input/TextInputComponentViewModel\"\r\nexport * from \"./components/input/TextInputComponentState\"\r\nexport * from \"./components/input/PasswordInputComponentDefinition\"\r\nexport * from \"./components/input/PasswordInputComponentViewModel\"\r\nexport * from \"./components/input/PasswordInputComponentState\"\r\nexport * from \"./components/select/DropListComponentDefinition\"\r\nexport * from \"./components/select/DropListComponentViewModel\"\r\nexport * from \"./components/select/DropListComponentState\"\r\nexport * from \"./components/link/LinkComponentDefinition\"\r\nexport * from \"./components/link/LinkComponentViewModel\"\r\nexport * from \"./components/link/LinkComponentState\"\r\nexport * from \"./components/map/MapComponentDefinition\"\r\nexport * from \"./components/map/MapComponentViewModel\"\r\nexport * from \"./components/map/MapComponentState\"\r\nexport * from \"./components/map/MapComponentController\"\r\nexport * from \"./components/attachment/AttachmentInputCommon\"\r\nexport * from \"./components/attachment/MultiAttachmentInputComponentDefinition\"\r\nexport * from \"./components/attachment/MultiAttachmentInputComponentViewModel\"\r\nexport * from \"./components/attachment/MultiAttachmentInputComponentState\"\r\nexport * from \"./components/attachment/SingleAttachmentInputComponentDefinition\"\r\nexport * from \"./components/attachment/SingleAttachmentInputComponentViewModel\"\r\nexport * from \"./components/attachment/SingleAttachmentInputComponentState\"\r\nexport * from \"./components/html/HtmlComponentDefinition\"\r\nexport * from \"./components/html/HtmlComponentViewModel\"\r\nexport * from \"./components/html/HtmlComponentState\"\r\nexport * from \"./components/switch/SwitchComponentDefinition\"\r\nexport * from \"./components/switch/SwitchComponentViewModel\"\r\nexport * from \"./components/switch/SwitchComponentState\"\r\nexport * from \"./components/date/DateInputComponentDefinition\"\r\nexport * from \"./components/date/DateInputComponentViewModel\"\r\nexport * from \"./components/date/DateInputComponentState\"\r\n\r\nexport * from \"./components/ComponentStateFactory\"\r\nexport * from \"./SkinsPropertiesProvider\"\r\nexport * from \"./CssUtils\"\r\nexport * from \"./ScreenInstanceServerModel\"\r\nexport * from \"./ScreenExternalEventBus\"\r\nexport * from \"./ScreenComponentController\"\r\nexport * from \"./ScreenViewModel\"\r\nexport * from \"./screen.component\"\r\nexport * from \"./screen-component.component\"\r\n\r\n","import {Option} from \"@libs/Option\";\r\nimport {VariableId} from \"@libs/IdModel\";\r\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\r\nimport {\r\n  BoxPropertiesState,\r\n  LabelPropertiesState,\r\n  PropertiesStateHolder,\r\n  RefPositionPropertiesState, RepeatableContext\r\n} from \"@screens\";\r\n\r\nexport interface UpdateableState {\r\n  updated(): void;\r\n}\r\n\r\n\r\nexport abstract class ScreenComponentState implements UpdateableState {\r\n  abstract className(): string;\r\n  abstract readonly properties: PropertiesStateHolder;\r\n  readonly boxState: BoxPropertiesState;\r\n  protected constructor(properties: PropertiesStateHolder) {\r\n    this.boxState = new BoxPropertiesState(properties);\r\n  }\r\n\r\n  get uncovered() {\r\n    return this.properties.booleanProperty(\"uncovered\");\r\n  }\r\n  get visible() {\r\n    return this.properties.booleanProperty(\"visible\");\r\n  }\r\n  get editable() {\r\n    return this.properties.booleanProperty(\"editable\");\r\n  }\r\n\r\n  get status() {\r\n    return this.properties.numberProperty(\"$status\");\r\n  }\r\n\r\n  readonly updateListeners: Array<() => void> = [];\r\n  onUpdate(callback: () => void) {\r\n    this.updateListeners.push(callback);\r\n  }\r\n  updated() {\r\n    this.updateListeners.forEach(callback => callback());\r\n  }\r\n\r\n  updateModel(modelName: string, value: Option<BusinessVariable>) {\r\n    throw new Error(\"Model [\"+modelName+\"] is not supported by \" + this.className());\r\n  }\r\n\r\n  setModelInProgress(modelName: string) {\r\n    this.properties.putInProgress(modelName);\r\n  }\r\n\r\n}\r\n\r\nexport abstract class RepeatableContextComponentState extends ScreenComponentState {\r\n  abstract updateInnerContext(innerContext: RepeatableContext): void;\r\n\r\n  abstract clearInnerContext(): void;\r\n\r\n  abstract innerContext: Option<RepeatableContext>;\r\n}\r\n\r\n\r\nexport abstract class LabeledScreenComponentState extends ScreenComponentState {\r\n  readonly labelState: LabelPropertiesState;\r\n  protected constructor(properties: PropertiesStateHolder) {\r\n    super(properties);\r\n    this.labelState = new LabelPropertiesState(properties);\r\n  }\r\n\r\n  get tooltip() {\r\n    return this.properties.optionalI18nTextProperty(\"tooltip\");\r\n  }\r\n}\r\n\r\n\r\nexport abstract class OptionalContextComponentState extends ScreenComponentState {\r\n  abstract updateInnerContext(innerContext: Option<VariableId>): void;\r\n  abstract innerContext: Option<VariableId>;\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport abstract class ScreenComponentRefState implements UpdateableState {\r\n  abstract className(): string;\r\n  abstract readonly properties: PropertiesStateHolder;\r\n  readonly positionState: RefPositionPropertiesState;\r\n  protected constructor(properties: PropertiesStateHolder) {\r\n    this.positionState = new RefPositionPropertiesState(properties);\r\n  }\r\n\r\n\r\n  get uncovered() {\r\n    return this.properties.booleanProperty(\"uncovered\");\r\n  }\r\n\r\n  get visible() {\r\n    return this.properties.booleanProperty(\"visible\");\r\n  }\r\n\r\n  get editable() {\r\n    return this.properties.booleanProperty(\"editable\");\r\n  }\r\n\r\n  get preview() {\r\n    return this.properties.optionalBooleanProperty(\"preview\");\r\n  }\r\n\r\n\r\n  readonly updateListeners: Array<() => void> = [];\r\n  onUpdate(callback: () => void) {\r\n    this.updateListeners.push(callback);\r\n  }\r\n  updated() {\r\n    this.updateListeners.forEach(callback => callback());\r\n  }\r\n}\r\n","import { FileUri } from \"@libs/FileUri\";\r\nimport { I18nText } from \"@libs/I18nText\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport { Trilean } from \"@libs/Trilean\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {Duration, LocalDate, LocalDateTime, LocalTime} from \"@libs/Types\";\r\nimport {VariablePath} from \"@libs/VariablePath\";\r\nimport {\r\n  BooleanVariable,\r\n  BusinessVariable, NumberVariable,\r\n  ObjectVariable,\r\n  OrganizationNodeVariable,\r\n  StringVariable\r\n} from \"@libs/ProcessVariables\";\r\nimport {validateVariableName, validateVariablePath} from \"@libs/Variables\";\r\nimport {arraysEqual, arraysEqualBy} from \"@libs/Array\";\r\n\r\nexport class PropertyValueError {\r\n  constructor(readonly timestamp: LocalDateTime,\r\n              readonly message: string) {}\r\n\r\n  static copy(other: PropertyValueError) {\r\n    return new PropertyValueError(LocalDateTime.copy(other.timestamp), other.message);\r\n  }\r\n\r\n  toString() {\r\n    return this.timestamp+\": \"+this.message;\r\n  }\r\n}\r\n\r\nexport class ComponentPropertyFactory {\r\n    static copy(other: ComponentProperty<any>): ComponentProperty<any> {\r\n      return ComponentPropertyFactory.copyByType(other, other.className());\r\n    }\r\n\r\n    static copyTyped(other: Typed<ComponentProperty<any>>): Typed<ComponentProperty<any>> {\r\n      return Typed.of(ComponentPropertyFactory.copyByType(Typed.value(other), Typed.className(other)));\r\n    }\r\n\r\n    static copyByType(other: ComponentProperty<any>, className: string): ComponentProperty<any> {\r\n      switch (className) {\r\n        case TrileanProperty.className: return TrileanProperty.copy(<TrileanProperty>other);\r\n        case BooleanProperty.className: return BooleanProperty.copy(<BooleanProperty>other);\r\n        case OptionalBooleanProperty.className: return OptionalBooleanProperty.copy(<OptionalBooleanProperty>other);\r\n        case I18nTextProperty.className: return I18nTextProperty.copy(<I18nTextProperty>other);\r\n        case OptionalI18nTextProperty.className: return OptionalI18nTextProperty.copy(<OptionalI18nTextProperty>other);\r\n        case StringProperty.className: return StringProperty.copy(<StringProperty>other);\r\n        case OptionalStringProperty.className: return OptionalStringProperty.copy(<OptionalStringProperty>other);\r\n        case FileProperty.className: return FileProperty.copy(<FileProperty>other);\r\n        case OptionalFileProperty.className: return OptionalFileProperty.copy(<OptionalFileProperty>other);\r\n        case NumberProperty.className: return NumberProperty.copy(<NumberProperty>other);\r\n        case OptionalNumberProperty.className: return OptionalNumberProperty.copy(<OptionalNumberProperty>other);\r\n        case LabeledValuesProperty.className: return LabeledValuesProperty.copy(<LabeledValuesProperty>other);\r\n        case OptionalOrganizationNodesProperty.className: return OptionalOrganizationNodesProperty.copy(<OptionalOrganizationNodesProperty>other);\r\n        case OptionalStringArrayProperty.className: return OptionalStringArrayProperty.copy(<OptionalStringArrayProperty>other);\r\n        case DateTimeProperty.className: return DateTimeProperty.copy(<DateTimeProperty>other);\r\n        case TimeProperty.className: return TimeProperty.copy(<TimeProperty>other);\r\n        case DurationProperty.className: return DurationProperty.copy(<DurationProperty>other);\r\n        case OptionalDateTimeProperty.className: return OptionalDateTimeProperty.copy(<OptionalDateTimeProperty>other);\r\n        case OptionalTimeProperty.className: return OptionalTimeProperty.copy(<OptionalTimeProperty>other);\r\n        case OptionalDurationProperty.className: return OptionalDurationProperty.copy(<OptionalDurationProperty>other);\r\n        case DateProperty.className: return DateProperty.copy(<DateProperty>other);\r\n        case OptionalDateProperty.className: return OptionalDateProperty.copy(<OptionalDateProperty>other);\r\n        case ModelProperty.className: return ModelProperty.copy(<ModelProperty>other);\r\n        case OptionalModelProperty.className: return OptionalModelProperty.copy(<OptionalModelProperty>other);\r\n        default: throw new Error(\"Not supported [\"+className+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class PropertyTryError {\r\n    constructor(readonly timestamp: Option<LocalDateTime>,\r\n                readonly message: string) {}\r\n\r\n    static copy(other: PropertyTryError) {\r\n      return new PropertyTryError(Option.copy(other.timestamp).map(LocalDateTime.copy), other.message);\r\n    }\r\n\r\n    toString() {\r\n      if(this.timestamp.isDefined()) {\r\n        return this.timestamp.get()+\": \"+this.message;\r\n      } else {\r\n        return this.message;\r\n      }\r\n    }\r\n  }\r\n\r\n  export class PropertyTry<VALUE_TYPE> {\r\n    constructor(readonly p: boolean,\r\n                readonly v: VALUE_TYPE | null,\r\n                readonly e: PropertyTryError | null) {\r\n      if(!p && v == null && e == null) {\r\n        throw new Error(\"Both value and error cannot be null\");\r\n      } else if(!p && v !== null && e !== null) {\r\n        throw new Error(\"Both value and error cannot be not null if not in progress\");\r\n      }\r\n    }\r\n\r\n    static success<VALUE_TYPE>(inProgress: boolean, value: VALUE_TYPE) {\r\n      return new PropertyTry<VALUE_TYPE>(inProgress, value, null);\r\n    }\r\n\r\n    static successCompleted<VALUE_TYPE>(value: VALUE_TYPE) {\r\n      return new PropertyTry<VALUE_TYPE>(false, value, null);\r\n    }\r\n\r\n    static error<VALUE_TYPE>(inProgress: boolean, message: string) {\r\n      return new PropertyTry<VALUE_TYPE>(inProgress, null, new PropertyTryError(None(), message));\r\n    }\r\n\r\n    static errorCompleted<VALUE_TYPE>(message: string) {\r\n      return new PropertyTry<VALUE_TYPE>(false, null, new PropertyTryError(None(), message));\r\n    }\r\n\r\n    static errorOf<VALUE_TYPE>(inProgress: boolean, error: PropertyValueError) {\r\n      return new PropertyTry<VALUE_TYPE>(inProgress, null, new PropertyTryError(Some(error.timestamp), error.message));\r\n    }\r\n\r\n    static errorFrom<VALUE_TYPE>(inProgress: boolean, error: PropertyTryError) {\r\n      return new PropertyTry<VALUE_TYPE>(inProgress, null, error);\r\n    }\r\n\r\n    static inProgressEmpty<VALUE_TYPE>() {\r\n      return new PropertyTry<VALUE_TYPE>(true, null, null);\r\n    }\r\n\r\n\r\n    isError() {\r\n      return this.e !== null;\r\n    }\r\n\r\n    isSuccess() {\r\n      return this.v !== null;\r\n    }\r\n\r\n    get error(): PropertyTryError {\r\n      if(this.e == null) {\r\n        throw new Error(\"Cannot get error from Success\");\r\n      } else {\r\n        return this.e;\r\n      }\r\n    }\r\n\r\n    get value(): VALUE_TYPE {\r\n      if(this.v == null) {\r\n        throw new Error(\"Cannot get value from Error\");\r\n      } else {\r\n        return this.v;\r\n      }\r\n    }\r\n\r\n    get valueIsDefined(): boolean {\r\n      return this.v != null;\r\n    }\r\n\r\n    valueOrDefault(d: VALUE_TYPE): VALUE_TYPE {\r\n      if(this.v == null) {\r\n        return d;\r\n      } else {\r\n        return this.v;\r\n      }\r\n    }\r\n  }\r\n\r\n  export interface PropertySettings {\r\n    className(): string;\r\n    equals(other: PropertySettings): boolean;\r\n    searchText(): string;\r\n\r\n    convertTo(settingsType: PropertySettingsType): PropertySettings;\r\n    toSettingsType(): PropertySettingsType;\r\n  }\r\n\r\n  export class PropertySettingsType {\r\n\r\n    constructor(readonly name: string) {}\r\n\r\n    static StaticValue = new PropertySettingsType(\"StaticValue\");\r\n    static BoundVariablePath = new PropertySettingsType(\"BoundVariablePath\");\r\n    static BoundExpression = new PropertySettingsType(\"BoundExpression\");\r\n\r\n    nonStaticValue() {\r\n      return this.name !== PropertySettingsType.StaticValue.name;\r\n    }\r\n\r\n    isStaticValue() {\r\n      return this.name === PropertySettingsType.StaticValue.name;\r\n    }\r\n\r\n    isBoundExpression() {\r\n      return this.name === PropertySettingsType.BoundExpression.name;\r\n    }\r\n\r\n    isBoundVariablePath() {\r\n      return this.name === PropertySettingsType.BoundVariablePath.name;\r\n    }\r\n\r\n  }\r\n\r\n  export class PropertySettingsFactory {\r\n    static copy(settings: PropertySettings): PropertySettings {\r\n      return PropertySettingsFactory.copyByType(settings, settings.className());\r\n    }\r\n\r\n    static copyTyped(settings: Typed<PropertySettings>): Typed<PropertySettings> {\r\n      return Typed.of(PropertySettingsFactory.copyByType(Typed.value(settings), Typed.className(settings)));\r\n    }\r\n\r\n    static copyByType(settings: PropertySettings, className: string): PropertySettings {\r\n      switch (className) {\r\n        case StaticValue.className: return StaticValue.copy(<StaticValue>settings);\r\n        case BoundExpression.className: return BoundExpression.copy(<BoundExpression>settings);\r\n        case BoundVariablePath.className: return BoundVariablePath.copy(<BoundVariablePath>settings);\r\n        default: throw new Error(\"Unsupported variable class: \" + className);\r\n      }\r\n    }\r\n  }\r\n\r\n  export class StaticValue implements PropertySettings {\r\n\r\n    static readonly INSTANCE = new StaticValue();\r\n\r\n    static className = \"StaticValue\"\r\n\r\n    className(): string {\r\n      return StaticValue.className;\r\n    }\r\n\r\n    static copy(other: StaticValue): StaticValue {\r\n      return StaticValue.INSTANCE;\r\n    }\r\n\r\n    equals(other: PropertySettings): boolean {\r\n      if(other instanceof StaticValue) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    searchText(): string {\r\n      return \"\";\r\n    }\r\n\r\n    convertTo(settingsType: PropertySettingsType): PropertySettings {\r\n      switch (settingsType.name) {\r\n        case PropertySettingsType.StaticValue.name: return this;\r\n        case PropertySettingsType.BoundExpression.name: return new BoundExpression(\"\", false);\r\n        case PropertySettingsType.BoundVariablePath.name: return new BoundVariablePath(VariablePath.empty());\r\n        default: throw new Error(\"Settings of type '\"+settingsType.name+\"' not supported\");\r\n      }\r\n    }\r\n\r\n    toSettingsType(): PropertySettingsType {\r\n      return PropertySettingsType.StaticValue;\r\n    }\r\n  }\r\n\r\n  export class BoundExpression implements PropertySettings {\r\n    static className = \"BoundExpression\"\r\n\r\n    className(): string {\r\n      return BoundExpression.className;\r\n    }\r\n\r\n    constructor(public expression: string,\r\n                public async: boolean) {}\r\n\r\n    static copy(other: BoundExpression): BoundExpression {\r\n      return new BoundExpression(other.expression, other.async);\r\n    }\r\n\r\n    equals(other: PropertySettings): boolean {\r\n      if(other instanceof BoundExpression) {\r\n        return this.expression === other.expression && this.async === other.async;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    searchText(): string {\r\n      return this.expression;\r\n    }\r\n\r\n    convertTo(settingsType: PropertySettingsType): PropertySettings {\r\n      switch (settingsType.name) {\r\n        case PropertySettingsType.StaticValue.name: return StaticValue.INSTANCE;\r\n        case PropertySettingsType.BoundExpression.name: return this;\r\n        case PropertySettingsType.BoundVariablePath.name: return new BoundVariablePath(VariablePath.empty());\r\n        default: throw new Error(\"Settings of type '\"+settingsType.name+\"' not supported\");\r\n      }\r\n    }\r\n\r\n    toSettingsType(): PropertySettingsType {\r\n      return PropertySettingsType.BoundExpression;\r\n    }\r\n\r\n  }\r\n\r\n  export class BoundVariablePath implements PropertySettings {\r\n    static className = \"BoundVariablePath\"\r\n\r\n    className(): string {\r\n      return BoundVariablePath.className;\r\n    }\r\n\r\n    constructor(public path: VariablePath) {}\r\n\r\n    static copy(other: BoundVariablePath): BoundVariablePath {\r\n      return new BoundVariablePath(VariablePath.copy(other.path));\r\n    }\r\n\r\n    equals(other: PropertySettings): boolean {\r\n      if(other instanceof BoundVariablePath) {\r\n        return this.path.isEqual(other.path);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    searchText(): string {\r\n      return this.path.path;\r\n    }\r\n\r\n    convertTo(settingsType: PropertySettingsType): PropertySettings {\r\n      switch (settingsType.name) {\r\n        case PropertySettingsType.StaticValue.name: return StaticValue.INSTANCE;\r\n        case PropertySettingsType.BoundExpression.name: return new BoundExpression(this.path.path, false);\r\n        case PropertySettingsType.BoundVariablePath.name: return this;\r\n        default: throw new Error(\"Settings of type '\"+settingsType.name+\"' not supported\");\r\n      }\r\n    }\r\n\r\n    toSettingsType(): PropertySettingsType {\r\n      return PropertySettingsType.BoundVariablePath;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  export interface ComponentProperty<VALUE_TYPE> {\r\n    readonly settings: Typed<PropertySettings>\r\n    className(): string;\r\n    settingsUnwrapped(): PropertySettings;\r\n    currentValue(fromState: () => PropertyTry<any>): PropertyTry<VALUE_TYPE>;\r\n    isOptional(): boolean;\r\n    isEnabled(): boolean;\r\n    toRequired(): ComponentProperty<any>;\r\n    toOptional(): ComponentProperty<any>;\r\n\r\n    equals(property: ComponentProperty<any>): boolean;\r\n  }\r\n\r\n  export interface OptionalComponentProperty<VALUE_TYPE> extends ComponentProperty<VALUE_TYPE> {\r\n    enabled: boolean;\r\n  }\r\n\r\n\r\n  export class TrileanProperty implements ComponentProperty<Trilean> {\r\n    static className = \"TrileanProperty\";\r\n    className() {\r\n      return TrileanProperty.className;\r\n    }\r\n\r\n    constructor(public staticValue: Trilean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    static ofTrue() {\r\n      return new TrileanProperty(Trilean.TRUE, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofFalse() {\r\n      return new TrileanProperty(Trilean.FALSE, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    get isTrue() {\r\n      return this.settingsUnwrapped() instanceof StaticValue && this.staticValue;\r\n    }\r\n\r\n    get isFalse() {\r\n      return this.settingsUnwrapped() instanceof StaticValue && !this.staticValue;\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Trilean>): PropertyTry<Trilean> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static copy(other: TrileanProperty) {\r\n      return new TrileanProperty(Trilean.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    equals(other: ComponentProperty<Trilean>): boolean {\r\n      if (other instanceof TrileanProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.equals(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, value: Trilean) {\r\n      return new TrileanProperty(value, Typed.of(settings));\r\n    }\r\n\r\n    static static(staticValue: Trilean) {\r\n      return new TrileanProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired(): TrileanProperty {\r\n      return this;\r\n    }\r\n\r\n    toOptional(): ComponentProperty<Trilean> {\r\n      throw new Error(\"No Optional Trillean Property\");\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class BooleanProperty implements ComponentProperty<boolean> {\r\n    static className = \"BooleanProperty\";\r\n    className() {\r\n      return BooleanProperty.className;\r\n    }\r\n\r\n    constructor(public staticValue: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    static ofTrue() {\r\n      return new BooleanProperty(true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofFalse() {\r\n      return new BooleanProperty(false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    get isTrue() {\r\n      return this.settingsUnwrapped() instanceof StaticValue && this.staticValue;\r\n    }\r\n\r\n    get isFalse() {\r\n      return this.settingsUnwrapped() instanceof StaticValue && !this.staticValue;\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<boolean>): PropertyTry<boolean> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static copy(other: BooleanProperty) {\r\n      return new BooleanProperty(other.staticValue, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    equals(other: ComponentProperty<boolean>): boolean {\r\n      if (other instanceof BooleanProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, value: boolean) {\r\n      return new BooleanProperty(value, Typed.of(settings));\r\n    }\r\n\r\n    static static(staticValue: boolean) {\r\n      return new BooleanProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static toRequired(property: BooleanProperty|OptionalBooleanProperty) {\r\n      if(property instanceof BooleanProperty) {\r\n        return property;\r\n      } else if(property.enabled) {\r\n        return new BooleanProperty(property.staticValue, property.settings);\r\n      } else {\r\n        throw new Error(\"Non enabled optional property cannot be converted to non optional\");\r\n      }\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalBooleanProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class OptionalBooleanProperty implements ComponentProperty<Option<boolean>> {\r\n    static className = \"OptionalBooleanProperty\";\r\n    className() {\r\n      return OptionalBooleanProperty.className;\r\n    }\r\n\r\n    constructor(public staticValue: boolean,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    static ofTrue() {\r\n      return new OptionalBooleanProperty(true, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofFalse() {\r\n      return new OptionalBooleanProperty(false, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static disabled(defaultValue: boolean) {\r\n      return new OptionalBooleanProperty(defaultValue, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    get isTrue() {\r\n      return this.enabled && this.settingsUnwrapped() instanceof StaticValue && this.staticValue;\r\n    }\r\n\r\n    get isFalse() {\r\n      return this.enabled && this.settingsUnwrapped() instanceof StaticValue && !this.staticValue;\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<boolean>>): PropertyTry<Option<boolean>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static copy(other: OptionalBooleanProperty) {\r\n      return new OptionalBooleanProperty(other.staticValue, other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<boolean>>): boolean {\r\n      return other instanceof OptionalBooleanProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalBooleanProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, value: boolean, enabled: boolean) {\r\n      return new OptionalBooleanProperty(value, enabled, Typed.of(settings));\r\n    }\r\n\r\n\r\n\r\n    static static(staticValue: boolean) {\r\n      return new OptionalBooleanProperty(staticValue, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static toOptional(property: BooleanProperty|OptionalBooleanProperty) {\r\n      if(property instanceof BooleanProperty) {\r\n        return new OptionalBooleanProperty(property.staticValue, true, property.settings);\r\n      } else {\r\n        return property;\r\n      }\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new BooleanProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  export class I18nTextProperty implements ComponentProperty<I18nText> {\r\n    static className = \"I18nTextProperty\";\r\n    className() {\r\n      return I18nTextProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: I18nText,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n\r\n    static static(staticValue: I18nText) {\r\n      return new I18nTextProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    toOptional() {\r\n      return new OptionalI18nTextProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<I18nText>): boolean {\r\n      if (other instanceof I18nTextProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<I18nText>): PropertyTry<I18nText> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static empty() {\r\n      return new I18nTextProperty(I18nText.empty(), Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static plText(text: string) {\r\n      return new I18nTextProperty(I18nText.pl(text), Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static of(text: I18nText) {\r\n      return new I18nTextProperty(text, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static copy(other: I18nTextProperty) {\r\n      return new I18nTextProperty(I18nText.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n\r\n  }\r\n\r\n  export class OptionalI18nTextProperty implements OptionalComponentProperty<Option<I18nText>> {\r\n    static className = \"OptionalI18nTextProperty\";\r\n    className() {\r\n      return OptionalI18nTextProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: I18nText,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<I18nText>>): boolean {\r\n      return other instanceof OptionalI18nTextProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalI18nTextProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new I18nTextProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    staticValueOption() {\r\n      if(this.enabled) {\r\n        return Some(this.staticValue);\r\n      } else {\r\n        return None();\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<I18nText>>): PropertyTry<Option<I18nText>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalI18nTextProperty(I18nText.empty(), false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static of(staticValue: I18nText) {\r\n      return new OptionalI18nTextProperty(staticValue, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static copy(other: OptionalI18nTextProperty) {\r\n      return new OptionalI18nTextProperty(I18nText.copy(other.staticValue), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  export class FileProperty implements ComponentProperty<FileUri> {\r\n    static className = \"FileProperty\";\r\n    className() {\r\n      return FileProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: string,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    equals(other: ComponentProperty<FileUri>): boolean {\r\n      if (other instanceof FileProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalFileProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<FileUri>): PropertyTry<FileUri> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(FileUri.parse(this.staticValue));\r\n      }\r\n    }\r\n\r\n    static copy(other: FileProperty) {\r\n      return new FileProperty(other.staticValue, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static of(staticValue: string) {\r\n      return new FileProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: string) {\r\n      return new FileProperty(staticValue, Typed.of(settings));\r\n    }\r\n  }\r\n\r\n  export class OptionalFileProperty implements OptionalComponentProperty<Option<FileUri>> {\r\n    static className = \"OptionalFileProperty\";\r\n    className() {\r\n      return OptionalFileProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: string,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new FileProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<FileUri>>): PropertyTry<Option<FileUri>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(FileUri.parse(this.staticValue)));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n\r\n    static disabled(defaultValue: string) {\r\n      return new OptionalFileProperty(defaultValue, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    static copy(other: OptionalFileProperty) {\r\n      return new OptionalFileProperty(other.staticValue, other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static of(staticValue: string) {\r\n      return new OptionalFileProperty(staticValue, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<FileUri>>): boolean {\r\n      return other instanceof OptionalFileProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalFileProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    static static(staticValue: string, enabled: boolean) {\r\n      return new OptionalFileProperty(staticValue, enabled, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: string, enabled: boolean) {\r\n      return new OptionalFileProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class StringProperty implements ComponentProperty<string> {\r\n    static className = \"StringProperty\";\r\n    className() {\r\n      return StringProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: string,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalStringProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    static of(value: string) {\r\n      return new StringProperty(value, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    equals(other: ComponentProperty<string>): boolean {\r\n      return other instanceof StringProperty && this.isEqual(other);\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<string>): PropertyTry<string> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static copy(other: StringProperty) {\r\n      return new StringProperty(other.staticValue, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    isEqual(other: StringProperty) {\r\n      const settings = this.settingsUnwrapped();\r\n      if(settings instanceof StaticValue) {\r\n        return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n      } else {\r\n        return settings.equals(other.settingsUnwrapped());\r\n      }\r\n    }\r\n\r\n    static static(staticValue: string) {\r\n      return new StringProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: string) {\r\n      return new StringProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n  }\r\n\r\n  export class OptionalOrganizationNodesProperty implements OptionalComponentProperty<Option<Array<OrganizationNodeVariable>>> {\r\n    static className = \"OptionalOrganizationNodesProperty\";\r\n    className() {\r\n      return OptionalOrganizationNodesProperty.className;\r\n    }\r\n\r\n    constructor(readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional(): OptionalOrganizationNodesProperty {\r\n      return this;\r\n    }\r\n\r\n    toRequired(): ComponentProperty<any> {\r\n      if(this.enabled) {\r\n        throw new Error(\"No required Organization Nodes Property\");\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<Option<Array<OrganizationNodeVariable>>>): boolean {\r\n      return other instanceof OptionalOrganizationNodesProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalOrganizationNodesProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<Array<OrganizationNodeVariable>>>): PropertyTry<Option<Array<OrganizationNodeVariable>>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          throw new Error(\"Static value not supported\");\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static copy(other: OptionalOrganizationNodesProperty) {\r\n      return new OptionalOrganizationNodesProperty(other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalOrganizationNodesProperty(false, Typed.of(new BoundExpression(\"\", false)));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, enabled: boolean) {\r\n      return new OptionalOrganizationNodesProperty(enabled, Typed.of(settings));\r\n    }\r\n\r\n    static ofExpression(enabled: boolean, expression: string) {\r\n      return new OptionalOrganizationNodesProperty(enabled, Typed.of(new BoundExpression(expression, false)));\r\n    }\r\n\r\n\r\n    static ofVariablePath(enabled: boolean, expression: string) {\r\n      if(validateVariablePath(expression)) {\r\n        return new OptionalOrganizationNodesProperty(enabled, Typed.of(new BoundVariablePath(new VariablePath(expression))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class OptionalStringArrayProperty implements OptionalComponentProperty<Option<Array<string>>> {\r\n    static className = \"OptionalStringArrayProperty\";\r\n    className() {\r\n      return OptionalStringArrayProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: Array<string>,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional(): OptionalStringArrayProperty {\r\n      return this;\r\n    }\r\n\r\n    toRequired(): ComponentProperty<any> {\r\n      if(this.enabled) {\r\n        throw new Error(\"No required property\");\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<Array<string>>>): boolean {\r\n      return other instanceof OptionalStringArrayProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalStringArrayProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && arraysEqual(this.staticValue, other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<Array<string>>>): PropertyTry<Option<Array<string>>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static copy(other: OptionalStringArrayProperty) {\r\n      return new OptionalStringArrayProperty(other.staticValue.slice(), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalStringArrayProperty([], false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: Array<string>, enabled: boolean) {\r\n      return new OptionalStringArrayProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n  }\r\n\r\n  export class OptionalStringProperty implements OptionalComponentProperty<Option<string>> {\r\n    static className = \"OptionalStringProperty\";\r\n    className() {\r\n      return OptionalStringProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: string,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new StringProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<string>>): PropertyTry<Option<string>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n\r\n    static disabled(defaultValue: string) {\r\n      return new OptionalStringProperty(defaultValue, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    static copy(other: OptionalStringProperty) {\r\n      return new OptionalStringProperty(other.staticValue, other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static of(staticValue: string) {\r\n      return new OptionalStringProperty(staticValue, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<string>>): boolean {\r\n      return other instanceof OptionalStringProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalStringProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    static static(staticValue: string) {\r\n      return new OptionalStringProperty(staticValue, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: string, enabled: boolean) {\r\n      return new OptionalStringProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class NumberProperty implements ComponentProperty<number> {\r\n    static className = \"NumberProperty\";\r\n    className() {\r\n      return NumberProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: number,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalNumberProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<number>): boolean {\r\n      if (other instanceof NumberProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<number>): PropertyTry<number> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static copy(other: NumberProperty) {\r\n      return new NumberProperty(other.staticValue, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static of(staticValue: number) {\r\n      return new NumberProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: number) {\r\n      return new NumberProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n    static static(staticValue: number) {\r\n      return new NumberProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n  }\r\n\r\n\r\n  export class OptionalNumberProperty implements OptionalComponentProperty<Option<number>> {\r\n    static className = \"OptionalNumberProperty\";\r\n    className() {\r\n      return OptionalNumberProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: number,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new NumberProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<number>>): boolean {\r\n      return other instanceof OptionalNumberProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalNumberProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue === other.staticValue;\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static disabled(defaultValue: number) {\r\n      return new OptionalNumberProperty(defaultValue, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static of(value: number) {\r\n      return new OptionalNumberProperty(value, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<number>>): PropertyTry<Option<number>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static copy(other: OptionalNumberProperty) {\r\n      return new OptionalNumberProperty(other.staticValue, other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: number, enabled: boolean) {\r\n      return new OptionalNumberProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n\r\n    static ofExpression(staticValue: number, enabled: boolean, expression: string) {\r\n      return new OptionalNumberProperty(staticValue, enabled, Typed.of(new BoundExpression(expression, false)));\r\n    }\r\n\r\n    static ofVariablePath(staticValue: number, enabled: boolean, expression: string) {\r\n      if(validateVariablePath(expression)) {\r\n        return new OptionalNumberProperty(staticValue, enabled, Typed.of(new BoundVariablePath(new VariablePath(expression))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n\r\n    static static(staticValue: number, enabled: boolean) {\r\n      return new OptionalNumberProperty(staticValue, enabled, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  export class DateTimeProperty implements ComponentProperty<LocalDateTime> {\r\n    static className = \"DateTimeProperty\";\r\n    className() {\r\n      return DateTimeProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalDateTime,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalDateTimeProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<LocalDateTime>): boolean {\r\n      if (other instanceof DateTimeProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<LocalDateTime>): PropertyTry<LocalDateTime> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static of(staticValue: LocalDateTime) {\r\n      return new DateTimeProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalDateTime) {\r\n      return new DateTimeProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n    static copy(other: DateTimeProperty) {\r\n      return new DateTimeProperty(LocalDateTime.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class OptionalDateTimeProperty implements OptionalComponentProperty<Option<LocalDateTime>> {\r\n    static className = \"OptionalDateTimeProperty\";\r\n    className() {\r\n      return OptionalDateTimeProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalDateTime,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new DateTimeProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<Option<LocalDateTime>>): boolean {\r\n      return other instanceof OptionalDateTimeProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalDateTimeProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<LocalDateTime>>): PropertyTry<Option<LocalDateTime>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static of(value: LocalDateTime) {\r\n      return new OptionalDateTimeProperty(value, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalDateTime, enabled: boolean) {\r\n      return new OptionalDateTimeProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n\r\n\r\n    static disabled() {\r\n      return new OptionalDateTimeProperty(LocalDateTime.ZERO, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    static copy(other: OptionalDateTimeProperty) {\r\n      return new OptionalDateTimeProperty(LocalDateTime.copy(other.staticValue), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  export class DateProperty implements ComponentProperty<LocalDate> {\r\n    static className = \"DateProperty\";\r\n    className() {\r\n      return DateProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalDate,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalDateProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<LocalDate>): boolean {\r\n      if (other instanceof DateProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<LocalDate>): PropertyTry<LocalDate> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static of(staticValue: LocalDate) {\r\n      return new DateProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalDate) {\r\n      return new DateProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n    static copy(other: DateProperty) {\r\n      return new DateProperty(LocalDate.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n  export class OptionalDateProperty implements OptionalComponentProperty<Option<LocalDate>> {\r\n    static className = \"OptionalDateProperty\";\r\n    className() {\r\n      return OptionalDateProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalDate,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new DateProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<Option<LocalDate>>): boolean {\r\n      return other instanceof OptionalDateProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalDateProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<LocalDate>>): PropertyTry<Option<LocalDate>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static of(value: LocalDate) {\r\n      return new OptionalDateProperty(value, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalDate, enabled: boolean) {\r\n      return new OptionalDateProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n\r\n    static ofVariablePath(staticValue: LocalDate, enabled: boolean, expression: string) {\r\n      if(validateVariablePath(expression)) {\r\n        return new OptionalDateProperty(staticValue, enabled, Typed.of(new BoundVariablePath(new VariablePath(expression))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalDateProperty(LocalDate.ZERO, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    static copy(other: OptionalDateProperty) {\r\n      return new OptionalDateProperty(LocalDate.copy(other.staticValue), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class TimeProperty implements ComponentProperty<LocalTime> {\r\n    static className = \"TimeProperty\";\r\n    className() {\r\n      return TimeProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalTime,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalTimeProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<LocalTime>): boolean {\r\n      if (other instanceof TimeProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<LocalTime>): PropertyTry<LocalTime> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static of(staticValue: LocalTime) {\r\n      return new TimeProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalTime) {\r\n      return new TimeProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n    static copy(other: TimeProperty) {\r\n      return new TimeProperty(LocalTime.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n  export class OptionalTimeProperty implements OptionalComponentProperty<Option<LocalTime>> {\r\n    static className = \"OptionalTimeProperty\";\r\n    className() {\r\n      return OptionalTimeProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: LocalTime,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional(): OptionalTimeProperty {\r\n      return this;\r\n    }\r\n\r\n    toRequired(): TimeProperty {\r\n      if(this.enabled) {\r\n        return new TimeProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<LocalTime>>): boolean {\r\n      return other instanceof OptionalTimeProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalTimeProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<LocalTime>>): PropertyTry<Option<LocalTime>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static of(value: LocalTime) {\r\n      return new OptionalTimeProperty(value, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: LocalTime, enabled: boolean) {\r\n      return new OptionalTimeProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n\r\n\r\n    static disabled() {\r\n      return new OptionalTimeProperty(LocalTime.ZERO, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n\r\n    static copy(other: OptionalTimeProperty) {\r\n      return new OptionalTimeProperty(LocalTime.copy(other.staticValue), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class DurationProperty implements ComponentProperty<Duration> {\r\n    static className = \"DurationProperty\";\r\n    className() {\r\n      return DurationProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: Duration,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired() {\r\n      return this;\r\n    }\r\n\r\n    toOptional() {\r\n      return new OptionalDurationProperty(this.staticValue, true, this.settings);\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Duration>): boolean {\r\n      if (other instanceof DurationProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<Duration>): PropertyTry<Duration> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValue);\r\n      }\r\n    }\r\n\r\n    static of(staticValue: Duration) {\r\n      return new DurationProperty(staticValue, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: Duration) {\r\n      return new DurationProperty(staticValue, Typed.of(settings));\r\n    }\r\n\r\n    static copy(other: DurationProperty) {\r\n      return new DurationProperty(Duration.copy(other.staticValue), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n  export class OptionalDurationProperty implements OptionalComponentProperty<Option<Duration>> {\r\n    static className = \"OptionalDurationProperty\";\r\n    className() {\r\n      return OptionalDurationProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: Duration,\r\n                readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new DurationProperty(this.staticValue, this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    equals(other: ComponentProperty<Option<Duration>>): boolean {\r\n      return other instanceof OptionalDurationProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalDurationProperty) {\r\n      if (this.enabled === other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          if (settings instanceof StaticValue) {\r\n            return settings.equals(other.settingsUnwrapped()) && this.staticValue.isEqual(other.staticValue);\r\n          } else {\r\n            return settings.equals(other.settingsUnwrapped());\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<Duration>>): PropertyTry<Option<Duration>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          return PropertyTry.successCompleted(Some(this.staticValue));\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static of(value: Duration) {\r\n      return new OptionalDurationProperty(value, true, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static ofSettings(settings: PropertySettings, staticValue: Duration, enabled: boolean) {\r\n      return new OptionalDurationProperty(staticValue, enabled, Typed.of(settings));\r\n    }\r\n\r\n    static ofVariablePath(staticValue: Duration, enabled: boolean, expression: string) {\r\n      if(validateVariablePath(expression)) {\r\n        return new OptionalDurationProperty(staticValue, enabled, Typed.of(new BoundVariablePath(new VariablePath(expression))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalDurationProperty(Duration.ZERO, false, Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    static copy(other: OptionalDurationProperty) {\r\n      return new OptionalDurationProperty(Duration.copy(other.staticValue), other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n  }\r\n\r\n\r\n  export class ModelAutomaticEvaluation {\r\n    constructor(readonly enabled: boolean,\r\n                readonly initOnly: boolean,\r\n                readonly async: boolean,\r\n                readonly expression: string) {}\r\n\r\n    static copy(other: ModelAutomaticEvaluation) {\r\n      return new ModelAutomaticEvaluation(other.enabled, other.initOnly, other.async, other.expression);\r\n    }\r\n\r\n    static empty() {\r\n      return new ModelAutomaticEvaluation(false, false, false, \"\");\r\n    }\r\n  }\r\n\r\n  export class ModelProperty implements ComponentProperty<BusinessVariable> {\r\n    static className = \"ModelProperty\";\r\n    className() {\r\n      return ModelProperty.className;\r\n    }\r\n\r\n    constructor(readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n\r\n    toOptional(): OptionalModelProperty {\r\n      return new OptionalModelProperty(true, this.settings);\r\n    }\r\n\r\n    toRequired(): ModelProperty {\r\n      return this;\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<BusinessVariable>): boolean {\r\n      if (other instanceof ModelProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    currentValue(fromState: () => PropertyTry<BusinessVariable>): PropertyTry<BusinessVariable> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        throw new Error(\"Dynamic only\")\r\n      }\r\n    }\r\n\r\n    static copy(other: ModelProperty) {\r\n      return new ModelProperty(PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static variableName(variableName: string) {\r\n      return new ModelProperty(Typed.of(new BoundVariablePath(VariablePath.root(variableName))));\r\n    }\r\n\r\n    static ofDynamicExpression(dynamicExpression: string) {\r\n      if(validateVariableName(dynamicExpression)) {\r\n        return new ModelProperty(Typed.of(new BoundVariablePath(VariablePath.root(dynamicExpression))));\r\n      } else if(validateVariablePath(dynamicExpression)) {\r\n        return new ModelProperty(Typed.of(new BoundVariablePath(new VariablePath(dynamicExpression))));\r\n      } else {\r\n        return new ModelProperty(Typed.of(new BoundExpression(dynamicExpression, false)));\r\n      }\r\n    }\r\n\r\n    static ofExpression(expression: string) {\r\n      return new ModelProperty(Typed.of(new BoundExpression(expression, false)));\r\n    }\r\n\r\n    static ofVariableName(variableName: string) {\r\n      if(validateVariableName(variableName)) {\r\n        return new ModelProperty(Typed.of(new BoundVariablePath(VariablePath.root(variableName))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n    static ofVariablePath(variablePath: string) {\r\n      if(validateVariablePath(variablePath)) {\r\n        return new ModelProperty(Typed.of(new BoundVariablePath(new VariablePath(variablePath))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  export class OptionalModelProperty implements OptionalComponentProperty<Option<BusinessVariable>> {\r\n    static className = \"OptionalModelProperty\";\r\n    className() {\r\n      return OptionalModelProperty.className;\r\n    }\r\n\r\n    constructor(readonly enabled: boolean,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return this.enabled;\r\n    }\r\n\r\n    toOptional() {\r\n      return this;\r\n    }\r\n\r\n    toRequired() {\r\n      if(this.enabled) {\r\n        return new ModelProperty(this.settings);\r\n      } else {\r\n        throw new Error(\"Cannot convert non enabled property to Optional property\");\r\n      }\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return true;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Option<BusinessVariable>>): boolean {\r\n      return other instanceof OptionalModelProperty && this.isEqual(other);\r\n    }\r\n\r\n    isEqual(other: OptionalModelProperty) {\r\n      if (this.enabled == other.enabled) {\r\n        if(this.enabled) {\r\n          const settings = this.settingsUnwrapped();\r\n          return settings.equals(other.settingsUnwrapped());\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static disabled() {\r\n      return new OptionalModelProperty(false, Typed.of(new BoundVariablePath(VariablePath.empty())));\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Option<BusinessVariable>>): PropertyTry<Option<BusinessVariable>> {\r\n      if(this.enabled) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(!(settings instanceof StaticValue)) {\r\n          return fromState();\r\n        } else {\r\n          throw new Error(\"Dynamic only\");\r\n        }\r\n      } else {\r\n        return PropertyTry.successCompleted(None());\r\n      }\r\n    }\r\n\r\n    static copy(other: OptionalModelProperty) {\r\n      return new OptionalModelProperty(other.enabled, PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static ofExpression(enabled: boolean, expression: string) {\r\n      return new OptionalModelProperty(enabled, Typed.of(new BoundExpression(expression, false)));\r\n    }\r\n\r\n    static ofVariableName(enabled: boolean, variableName: string) {\r\n      if(validateVariableName(variableName)) {\r\n        return new OptionalModelProperty(enabled, Typed.of(new BoundVariablePath(VariablePath.root(variableName))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n    static ofVariablePath(enabled: boolean, variablePath: string) {\r\n      if(validateVariablePath(variablePath)) {\r\n        return new OptionalModelProperty(enabled, Typed.of(new BoundVariablePath(new VariablePath(variablePath))));\r\n      } else {\r\n        throw new Error(\"Incorrect variable path\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  export class LabeledValueFactory {\r\n    static copy(other: LabeledValue): LabeledValue {\r\n      return LabeledValueFactory.copyByType(other, other.className());\r\n    }\r\n\r\n    static copyTyped(other: Typed<LabeledValue>): Typed<LabeledValue> {\r\n      return Typed.of(LabeledValueFactory.copyByType(Typed.value(other), Typed.className(other)));\r\n    }\r\n\r\n    static copyByType(other: LabeledValue, className: string): LabeledValue {\r\n      switch (className) {\r\n        case StringLabeledValue.className: return StringLabeledValue.copy(<StringLabeledValue>other);\r\n        case NumberLabeledValue.className: return NumberLabeledValue.copy(<NumberLabeledValue>other);\r\n        case BooleanLabeledValue.className: return BooleanLabeledValue.copy(<BooleanLabeledValue>other);\r\n        default: throw new Error(\"Not supported [\"+className+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  export interface LabeledValue {\r\n    label: Option<I18nText>;\r\n    selected: boolean;\r\n    toVisibleValue(): string;\r\n    className(): string;\r\n\r\n    isString(): boolean;\r\n    isNumber(): boolean;\r\n    isBoolean(): boolean;\r\n\r\n    asString(): StringLabeledValue;\r\n    asNumber(): NumberLabeledValue;\r\n    asBoolean(): BooleanLabeledValue;\r\n\r\n    equals(b: LabeledValue): boolean;\r\n\r\n    toBusinessVariable(): BusinessVariable;\r\n  }\r\n\r\n\r\n  export class StringLabeledValue implements LabeledValue {\r\n    static className = \"StringLabeledValue\";\r\n\r\n    className(): string {\r\n      return StringLabeledValue.className;\r\n    }\r\n\r\n    constructor(readonly value: Option<string>,\r\n                readonly selected: boolean,\r\n                readonly label: Option<I18nText>) {}\r\n\r\n    equals(other: LabeledValue) {\r\n      if(other instanceof StringLabeledValue) {\r\n        return this.value.equals(other.value) && this.label.equals(other.label, (a, b) => a.isEqual(b));\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static copy(other: StringLabeledValue) {\r\n      return new StringLabeledValue(Option.copy(other.value),\r\n        other.selected,\r\n        Option.copy(other.label, I18nText.copy));\r\n    }\r\n\r\n    toBusinessVariable(): BusinessVariable {\r\n\r\n      const value = new StringVariable(this.value.getOrError(\"No value available\").trim());\r\n\r\n      if(this.label.isDefined()) {\r\n        return new ObjectVariable({value: value, label: new StringVariable(this.label.get().getCurrentWithFallback())});\r\n      } else {\r\n        return value;\r\n      }\r\n    }\r\n\r\n\r\n    isString(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isNumber(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isBoolean(): boolean {\r\n      return false;\r\n    }\r\n\r\n    asString(): StringLabeledValue {\r\n      return this;\r\n    }\r\n\r\n    asNumber(): NumberLabeledValue {\r\n      throw new Error(\"Not a number\");\r\n    }\r\n\r\n    asBoolean(): BooleanLabeledValue {\r\n      throw new Error(\"Not a boolean\");\r\n    }\r\n\r\n    toVisibleValue(): string {\r\n      return this.label.map(l => l.getCurrentWithFallback()).getOrElse(this.value.getOrElse(\"-\"));\r\n    }\r\n  }\r\n\r\n  export class NumberLabeledValue implements LabeledValue  {\r\n    static className = \"NumberLabeledValue\";\r\n\r\n    className(): string {\r\n      return NumberLabeledValue.className;\r\n    }\r\n\r\n    constructor(readonly value: Option<number>,\r\n                readonly selected: boolean,\r\n                readonly label: Option<I18nText>) {}\r\n\r\n    equals(other: LabeledValue) {\r\n      if(other instanceof NumberLabeledValue) {\r\n        return this.value.equals(other.value) && this.label.equals(other.label, (a, b) => a.isEqual(b));\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static copy(other: NumberLabeledValue) {\r\n      return new NumberLabeledValue(Option.copy(other.value), other.selected,\r\n        Option.copy(other.label, I18nText.copy));\r\n    }\r\n\r\n    toBusinessVariable(): BusinessVariable {\r\n\r\n      const value = new NumberVariable(this.value.getOrError(\"No value available\"));\r\n\r\n      if(this.label.isDefined()) {\r\n        return new ObjectVariable({value: value, label: new StringVariable(this.label.get().getCurrentWithFallback())});\r\n      } else {\r\n        return value;\r\n      }\r\n    }\r\n\r\n    isString(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNumber(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isBoolean(): boolean {\r\n      return false;\r\n    }\r\n\r\n    asString(): StringLabeledValue {\r\n      throw new Error(\"Not a string\");\r\n    }\r\n\r\n    asNumber(): NumberLabeledValue {\r\n      return this;\r\n    }\r\n\r\n    asBoolean(): BooleanLabeledValue {\r\n      throw new Error(\"Not a boolean\");\r\n    }\r\n\r\n    toVisibleValue(): string {\r\n      return this.label.map(l => l.getCurrentWithFallback()).getOrElse(this.value.map(v => \"\"+v).getOrElse(\"-\"));\r\n    }\r\n\r\n  }\r\n\r\n  export class BooleanLabeledValue implements LabeledValue  {\r\n    static className = \"BooleanLabeledValue\";\r\n\r\n    className(): string {\r\n      return BooleanLabeledValue.className;\r\n    }\r\n\r\n    constructor(readonly value: Option<boolean>,\r\n                readonly selected: boolean,\r\n                readonly label: Option<I18nText>) {}\r\n\r\n    equals(other: LabeledValue) {\r\n      if(other instanceof BooleanLabeledValue) {\r\n        return this.value.equals(other.value) && this.label.equals(other.label, (a, b) => a.isEqual(b));\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static copy(other: BooleanLabeledValue) {\r\n      return new BooleanLabeledValue(Option.copy(other.value), other.selected,\r\n        Option.copy(other.label, I18nText.copy));\r\n    }\r\n\r\n    toBusinessVariable(): BusinessVariable {\r\n\r\n      const value = new BooleanVariable(this.value.getOrError(\"No value available\"));\r\n\r\n      if(this.label.isDefined()) {\r\n        return new ObjectVariable({value: value, label: new StringVariable(this.label.get().getCurrentWithFallback())});\r\n      } else {\r\n        return value;\r\n      }\r\n    }\r\n\r\n    isString(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNumber(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isBoolean(): boolean {\r\n      return true;\r\n    }\r\n\r\n    asString(): StringLabeledValue {\r\n      throw new Error(\"Not a string\");\r\n    }\r\n\r\n    asNumber(): NumberLabeledValue {\r\n      throw new Error(\"Not a number\");\r\n    }\r\n\r\n    asBoolean(): BooleanLabeledValue {\r\n      return this;\r\n    }\r\n\r\n    toVisibleValue(): string {\r\n      return this.label.map(l => l.getCurrentWithFallback()).getOrElse(this.value.map(v => \"\"+v).getOrElse(\"-\"));\r\n    }\r\n  }\r\n\r\n  export class LabeledValuesProperty implements ComponentProperty<Array<BusinessVariable>> {\r\n    static className = \"LabeledValuesProperty\";\r\n    className() {\r\n      return LabeledValuesProperty.className;\r\n    }\r\n\r\n    constructor(readonly staticValue: Array<Typed<LabeledValue>>,\r\n                readonly settings: Typed<PropertySettings>) {}\r\n\r\n    settingsUnwrapped(): PropertySettings {\r\n      return Typed.value(this.settings);\r\n    }\r\n\r\n    isEnabled(): boolean {\r\n      return true;\r\n    }\r\n\r\n    toRequired(): LabeledValuesProperty {\r\n      return this;\r\n    }\r\n\r\n    toOptional(): ComponentProperty<any> {\r\n      throw new Error(\"No Optional Labeled values property\");\r\n    }\r\n\r\n    isOptional(): boolean {\r\n      return false;\r\n    }\r\n\r\n    equals(other: ComponentProperty<Array<BusinessVariable>>): boolean {\r\n      if (other instanceof LabeledValuesProperty) {\r\n        const settings = this.settingsUnwrapped();\r\n        if(settings instanceof StaticValue) {\r\n          return settings.equals(other.settingsUnwrapped()) && arraysEqualBy(this.staticValue, other.staticValue, (a, b) => Typed.value(a).equals(Typed.value(b)));\r\n        } else {\r\n          return settings.equals(other.settingsUnwrapped());\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    currentValue(fromState: () => PropertyTry<Array<BusinessVariable>>): PropertyTry<Array<BusinessVariable>> {\r\n      const settings = this.settingsUnwrapped();\r\n      if(!(settings instanceof StaticValue)) {\r\n        return fromState();\r\n      } else {\r\n        return PropertyTry.successCompleted(this.staticValueUnwrapped().map(v => v.toBusinessVariable()));\r\n      }\r\n    }\r\n\r\n    static copy(other: LabeledValuesProperty) {\r\n      return new LabeledValuesProperty(other.staticValue.map(s => LabeledValueFactory.copyTyped(s)), PropertySettingsFactory.copyTyped(other.settings));\r\n    }\r\n\r\n    static of(values: Array<string>) {\r\n      return new LabeledValuesProperty(values.map(v => Typed.of(new StringLabeledValue(Some(v), false, None()))), Typed.of(StaticValue.INSTANCE));\r\n    }\r\n\r\n    staticValueUnwrapped() {\r\n      return this.staticValue.map(v => Typed.value(v));\r\n    }\r\n\r\n  }\r\n\r\n","import {AggregateId, AggregateVersion} from \"@libs/AggregateId\";\nimport {ScreenAuthorizationType, ScreenComponents, ScreenEditorCommand} from \"@screens\";\nimport {I18nText} from \"@libs/I18nText\";\nimport {Typed} from \"@libs/Typed\";\nimport {None, Option, Some} from \"@libs/Option\";\nimport {OrganizationNodeId} from \"@libs/OrganizationIdsModel\";\nimport {ApplicationId, ScreenId, ScreenInstanceId, ScreenReleaseId} from \"@libs/IdModel\";\n\n\nexport class CreateScreenWithRelease {\n    constructor(readonly name: I18nText,\n                readonly applicationId: ApplicationId,\n                readonly identifier: string,\n                readonly initialPanelName: I18nText,\n                readonly initialPanelHeight: number) {}\n  }\n\n  export interface CreateScreenSagaResponse {\n    className(): string;\n  }\n\n  export class ScreenWithReleasesCreated implements CreateScreenSagaResponse {\n    static className = \"ScreenWithReleasesCreated\";\n    className() {\n      return ScreenWithReleasesCreated.className;\n    }\n\n    constructor(public screenId: ScreenId,\n                public screenVersion: AggregateVersion) {}\n\n    static copy(other: ScreenWithReleasesCreated) {\n      return new ScreenWithReleasesCreated(ScreenId.copy(other.screenId), AggregateVersion.copy(other.screenVersion))\n    }\n  }\n\n  export class ScreenWithReleasesCreationFailure implements CreateScreenSagaResponse {\n    static className = \"ScreenWithReleasesCreationFailure\";\n    className() {\n      return ScreenWithReleasesCreationFailure.className;\n    }\n\n    constructor(public exceptions: string[]) {}\n\n    static copy(other: ScreenWithReleasesCreationFailure) {\n      return new ScreenWithReleasesCreationFailure(other.exceptions.slice());\n    }\n  }\n\n\n  export class ApplyEditorCommand {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly command: Typed<ScreenEditorCommand>) {\n    }\n  }\n\n  // This is semi command to aggregate multiple commands\n  export class ApplyEditorCommands {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly commands: Array<Typed<ScreenEditorCommand>>) {\n    }\n  }\n\n  export class UndoEditorEvents {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly eventsCount: number) {\n    }\n  }\n\n  export class UpdateScreenXML {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly xml: string) {\n    }\n  }\n\n  export class UpdateScreenCSS {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly css: string) {\n    }\n  }\n\n  export class UpdateScreenCSSEnabled {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly enabled: boolean) {\n    }\n  }\n\n  export class ChangeActiveRelease {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly releaseId: Option<ScreenReleaseId>\n    ) {}\n  }\n\n\n  export class DeleteScreen {\n    constructor(\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion\n    ) {}\n  }\n\n  export class ParseXmlViewDefinition {\n    constructor(readonly xml: string) {}\n  }\n\n  export class CompilationResult {\n    constructor(readonly result: Option<ScreenComponents>,\n                readonly errors: Array<string>) {}\n\n    get success() {\n      return this.result.isDefined();\n    }\n\n    static success(result: ScreenComponents) {\n      return new CompilationResult(Some(result), []);\n    }\n\n    static error(error: string) {\n      return new CompilationResult(None(), [error]);\n    }\n\n    static errors(errors: Array<string>) {\n      return new CompilationResult(None(), errors);\n    }\n\n\n  }\n\n  export class RevertScreenWorkingRelease {\n    constructor(readonly screenId: ScreenId,\n                readonly screenVersion: AggregateVersion,\n                readonly previousScreenReleaseId: ScreenReleaseId,\n                readonly screenReleaseId: ScreenReleaseId,\n                readonly screenReleaseVersion: AggregateVersion) {}\n  }\n\n  export class CreateFrozenScreenRelease {\n    constructor(\n      readonly screenId: ScreenId,\n      readonly aggregateId: AggregateId,\n      readonly expectedVersion: AggregateVersion,\n      readonly releaseNumber: number,\n      readonly comment: string) {}\n  }\n\n  export class CreateScreenFrozenResult {\n    constructor( readonly releaseCode: string) {}\n    static copy(other: CreateScreenFrozenResult): CreateScreenFrozenResult {\n      return new CreateScreenFrozenResult(other.releaseCode);\n    }\n  }\n\n  export interface RevertScreenReleaseSagaResponse {\n    className(): string;\n  }\n\n  export class ScreenReleaseRevertSuccess implements RevertScreenReleaseSagaResponse {\n    static className = \"ScreenReleaseRevertSuccess\";\n    className() {\n      return ScreenReleaseRevertSuccess.className;\n    }\n\n    constructor(readonly screenId: ScreenId,\n                readonly screenVersion: AggregateVersion,\n                readonly screenReleaseId: ScreenReleaseId,\n                readonly screenReleaseVersion: AggregateVersion) {}\n\n    static copy(other: ScreenReleaseRevertSuccess) {\n      return new ScreenReleaseRevertSuccess(ScreenId.copy(other.screenId), AggregateVersion.copy(other.screenVersion),\n        ScreenReleaseId.copy(other.screenReleaseId), AggregateVersion.copy(other.screenReleaseVersion));\n    }\n  }\n\n  export class ScreenReleaseRevertFailure implements RevertScreenReleaseSagaResponse {\n    static className = \"ScreenReleaseRevertFailure\";\n    className() {\n      return ScreenReleaseRevertFailure.className;\n    }\n\n    constructor(readonly exceptions: string[]) {}\n\n    static copy(other: ScreenReleaseRevertFailure) {\n      return new ScreenReleaseRevertFailure(other.exceptions.slice());\n    }\n  }\n\n\n\n  export class AddScreenEditAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class RemoveScreenEditAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class AddScreenPreviewAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class RemoveScreenPreviewAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class AddScreenRunAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class RemoveScreenRunAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class AddScreenRunExternalAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class RemoveScreenRunExternalAuthorization {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly nodeId: OrganizationNodeId) {}\n  }\n\n  export class ChangeScreenName {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly name: I18nText) {}\n  }\n\n  export class ChangeScreenIdentifier {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly identifier: string) {}\n  }\n\n  export class UpdateScreenAuthorizationType {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly authorizationType: ScreenAuthorizationType) {}\n  }\n\n  export class UpdateScreenDescription {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly description: I18nText) {}\n  }\n\n  export class UpdateScreenTitleExpression {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly titleExpression: string) {}\n  }\n\n\n  export class ChangeScreenRunExternalAnonymously {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly enabled: boolean) {}\n  }\n\n\n  export class ChangeScreenRunExternalByServices {\n    constructor(readonly aggregateId: AggregateId,\n                readonly expectedVersion: AggregateVersion,\n                readonly enabled: boolean) {}\n  }\n\n\n  export class ScreenInitResponse {\n    constructor(readonly screenInstanceId: ScreenInstanceId,\n                readonly volatileScreen: boolean) {}\n\n    static copy(other: ScreenInitResponse) {\n      return new ScreenInitResponse(ScreenInstanceId.copy(other.screenInstanceId), other.volatileScreen);\n    }\n  }\n","import {\r\n  ApplicationId,\r\n  OrganizationId,\r\n  ScreenId,\r\n  ScreenInstanceId,\r\n  ScreenReleaseId,\r\n  VariableId,\r\n  WidgetInstanceId\r\n} from \"@libs/IdModel\";\r\nimport {\r\n  ApplicationComponentRef,\r\n  AutomaticActionRef,\r\n  AutomaticActionRefWithSchedule,\r\n  AutomaticVariableMode,\r\n  RepeatableContext,\r\n  ScreenAuthorizationType,\r\n  ScreenComponentIdInScreen,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen,\r\n  ScreenComponentRefState,\r\n  ScreenComponentRefStateFactory,\r\n  ScreenComponents,\r\n  ScreenComponentsState,\r\n  ScreenComponentState,\r\n  ScreenComponentStateFactory,\r\n  ScreenLifeMode\r\n} from \"@screens\";\r\nimport {Duration, LocalDate, LocalDateTime, LocalTime} from \"@libs/Types\";\r\nimport {\r\n  BusinessVariable,\r\n  BusinessVariableFactory,\r\n  BusinessVariableType,\r\n  BusinessVariableTypeFactory,\r\n  ObjectVariable\r\n} from \"@libs/ProcessVariables\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {AggregateId, AggregateVersion} from \"@libs/AggregateId\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {OrganizationNodeId, PersonId} from \"@libs/OrganizationIdsModel\";\r\nimport {Either} from \"@libs/Either\";\r\nimport {AnyVariablePath, VariablePath} from \"@libs/VariablePath\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {i18n} from \"../../shared/internationalization/i18n.service\";\r\n\r\n\r\nexport class ScreenInstanceSummary {\r\n  constructor(\r\n    readonly applicationId: ApplicationId,\r\n    readonly instanceId: ScreenInstanceId,\r\n    readonly screenId: ScreenId,\r\n    readonly mainTitle: string,\r\n    readonly subTitle: Option<string>,\r\n    readonly lifeMode: ScreenLifeMode\r\n  ) {}\r\n\r\n  static copy(other: ScreenInstanceSummary) {\r\n    return new ScreenInstanceSummary(\r\n      ApplicationId.copy(other.applicationId),\r\n      ScreenInstanceId.copy(other.instanceId),\r\n      ScreenId.copy(other.screenId),\r\n      other.mainTitle,\r\n      Option.copy(other.subTitle),\r\n      ScreenLifeMode.copy(other.lifeMode));\r\n  }\r\n}\r\n\r\nexport class ScreenWithRelease {\r\n    constructor(\r\n                readonly screen: ScreenInfo,\r\n                readonly releaseId: ScreenReleaseId,\r\n                public releaseVersion: AggregateVersion,\r\n                readonly release: ScreenRelease,\r\n                readonly workingRelease: boolean) {}\r\n\r\n    static copy(other: ScreenWithRelease) {\r\n      return new ScreenWithRelease(\r\n        ScreenInfo.copy(other.screen),\r\n        ScreenReleaseId.copy(other.releaseId),\r\n        AggregateVersion.copy(other.releaseVersion),\r\n        ScreenRelease.copy(other.release),\r\n        other.workingRelease);\r\n    }\r\n  }\r\n\r\n  export class ScreenReleaseSummary {\r\n    constructor(\r\n      readonly id: ScreenReleaseId,\r\n      readonly version: AggregateVersion,\r\n      readonly releaseNumber: number,\r\n      readonly comment: string,\r\n      readonly code: string,\r\n      readonly creationDate: LocalDateTime,\r\n      readonly creator: PersonId\r\n    ) {}\r\n\r\n    static copy(other: ScreenReleaseSummary) {\r\n      return new ScreenReleaseSummary(\r\n        ScreenReleaseId.copy(other.id),\r\n        AggregateVersion.copy(other.version),\r\n        other.releaseNumber,\r\n        other.comment,\r\n        other.code,\r\n        LocalDateTime.copy(other.creationDate),\r\n        PersonId.copy(other.creator)\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  export class Screen {\r\n    constructor(\r\n      readonly organizationId: OrganizationId,\r\n      readonly identifier: string,\r\n      readonly applicationId: ApplicationId,\r\n      readonly name: I18nText,\r\n      readonly workingRelease: Option<ScreenReleaseId>,\r\n      readonly activeRelease: Option<ScreenReleaseId>,\r\n      readonly parent: Option<OrganizationNodeId>, // process, report, entity\r\n      readonly previewAuthorization: Array<OrganizationNodeId>,\r\n      readonly editAuthorization: Array<OrganizationNodeId>,\r\n      readonly runAuthorization: Array<OrganizationNodeId>,\r\n      readonly runExternalAnonymously: boolean,\r\n      readonly runExternalByServices: boolean,\r\n      readonly runExternalByServicesAuthorization: Array<OrganizationNodeId>) {}\r\n\r\n    static copy(other: Screen) {\r\n      return new Screen(\r\n        OrganizationId.copy(other.organizationId),\r\n        other.identifier,\r\n        ApplicationId.copy(other.applicationId),\r\n        I18nText.copy(other.name),\r\n        Option.copy(other.workingRelease).map(ScreenReleaseId.copy),\r\n        Option.copy(other.activeRelease).map(ScreenReleaseId.copy),\r\n        Option.copy(other.parent).map(OrganizationNodeId.copy),\r\n        other.previewAuthorization.map(OrganizationNodeId.copy),\r\n        other.editAuthorization.map(OrganizationNodeId.copy),\r\n        other.runAuthorization.map(OrganizationNodeId.copy),\r\n        other.runExternalAnonymously,\r\n        other.runExternalByServices,\r\n        other.runExternalByServicesAuthorization.map(OrganizationNodeId.copy)\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class AutomaticVariable {\r\n    constructor(readonly id: number,\r\n                readonly path: AnyVariablePath,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly settings: Typed<AutomaticVariableSettings>) {}\r\n    static copy(other: AutomaticVariable) {\r\n      return new AutomaticVariable(other.id,\r\n        AnyVariablePath.copy(other.path),\r\n        AutomaticVariableMode.byName(other.mode.name),\r\n        AutomaticVariableSettingsFactory.copyTyped(other.settings));\r\n    }\r\n    settingsUnwrapped() {\r\n      return Typed.value(this.settings);\r\n    }\r\n  }\r\n\r\n\r\n  export class AutomaticVariableSettingsFactory {\r\n    static copy(settings: AutomaticVariableSettings): AutomaticVariableSettings {\r\n      return AutomaticVariableSettingsFactory.copyByType(settings, settings.className());\r\n    }\r\n\r\n    static copyTyped(settings: Typed<AutomaticVariableSettings>): Typed<AutomaticVariableSettings> {\r\n      return Typed.of(AutomaticVariableSettingsFactory.copyByType(Typed.value(settings), Typed.className(settings)));\r\n    }\r\n\r\n    static copyByType(settings: AutomaticVariableSettings, className: string): AutomaticVariableSettings {\r\n      switch (className) {\r\n        case StaticStringValueVariableSettings.className: return StaticStringValueVariableSettings.copy(<StaticStringValueVariableSettings> settings);\r\n        case StaticNumberValueVariableSettings.className: return StaticNumberValueVariableSettings.copy(<StaticNumberValueVariableSettings> settings);\r\n        case StaticBooleanValueVariableSettings.className: return StaticBooleanValueVariableSettings.copy(<StaticBooleanValueVariableSettings> settings);\r\n        case BoundExpressionVariableSettings.className: return BoundExpressionVariableSettings.copy(<BoundExpressionVariableSettings> settings);\r\n        case BoundVariablePathVariableSettings.className: return BoundVariablePathVariableSettings.copy(<BoundVariablePathVariableSettings> settings);\r\n        default: throw new Error(\"Not supported '\"+className+\"'\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export interface AutomaticVariableSettings {\r\n    className(): string;\r\n\r\n    // This is temporary, before UI is implemented\r\n    toExpression(): string;\r\n    toAsync(): boolean;\r\n  }\r\n\r\n  export class StaticStringValueVariableSettings implements AutomaticVariableSettings {\r\n    static className = \"StaticStringValueVariableSettings\";\r\n    className(): string {\r\n      return StaticStringValueVariableSettings.className;\r\n    }\r\n    constructor(readonly value: Option<string>) {}\r\n    static copy(other: StaticStringValueVariableSettings) {\r\n      return new StaticStringValueVariableSettings(Option.copy(other.value));\r\n    }\r\n\r\n    toExpression(): string {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n    toAsync(): boolean {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n  }\r\n  export class StaticNumberValueVariableSettings implements AutomaticVariableSettings {\r\n    static className = \"StaticNumberValueVariableSettings\";\r\n    className(): string {\r\n      return StaticNumberValueVariableSettings.className;\r\n    }\r\n    constructor(readonly value: Option<number>) {}\r\n    static copy(other: StaticNumberValueVariableSettings) {\r\n      return new StaticNumberValueVariableSettings(Option.copy(other.value));\r\n    }\r\n    toExpression(): string {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n    toAsync(): boolean {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n  }\r\n  export class StaticBooleanValueVariableSettings implements AutomaticVariableSettings {\r\n    static className = \"StaticBooleanValueVariableSettings\";\r\n    className(): string {\r\n      return StaticBooleanValueVariableSettings.className;\r\n    }\r\n    constructor(readonly value: Option<Boolean>) {}\r\n    static copy(other: StaticBooleanValueVariableSettings) {\r\n      return new StaticBooleanValueVariableSettings(Option.copy(other.value));\r\n    }\r\n    toExpression(): string {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n    toAsync(): boolean {\r\n      throw new Error(\"Not implemented\");\r\n    }\r\n  }\r\n  export class BoundExpressionVariableSettings implements AutomaticVariableSettings {\r\n    static className = \"BoundExpressionVariableSettings\";\r\n    className(): string {\r\n      return BoundExpressionVariableSettings.className;\r\n    }\r\n    constructor(readonly expression: string, readonly async: boolean) {}\r\n    static copy(other: BoundExpressionVariableSettings) {\r\n      return new BoundExpressionVariableSettings(other.expression, other.async);\r\n    }\r\n    toExpression(): string {\r\n      return this.expression;\r\n    }\r\n    toAsync(): boolean {\r\n      return this.async;\r\n    }\r\n  }\r\n\r\n\r\n  export class BoundVariablePathVariableSettings implements AutomaticVariableSettings {\r\n    static className = \"BoundVariablePathVariableSettings\";\r\n    className(): string {\r\n      return BoundVariablePathVariableSettings.className;\r\n    }\r\n    constructor(readonly variablePath: VariablePath) {}\r\n    static copy(other: BoundVariablePathVariableSettings) {\r\n      return new BoundVariablePathVariableSettings(VariablePath.copy(other.variablePath));\r\n    }\r\n    toExpression(): string {\r\n      return this.variablePath.path;\r\n    }\r\n    toAsync(): boolean {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  export class ScreenParam {\r\n    constructor(readonly id: number,\r\n                readonly variableName: string,\r\n                readonly tpe: Typed<BusinessVariableType>,\r\n                readonly defaultValue: Option<Typed<BusinessVariable>>,\r\n                readonly documentation: I18nText,\r\n                readonly input: boolean,\r\n                readonly output: boolean,\r\n                readonly required: boolean) {}\r\n\r\n    static copy(other: ScreenParam) {\r\n      return new ScreenParam(other.id,\r\n        other.variableName,\r\n        BusinessVariableTypeFactory.copyTyped(other.tpe),\r\n        Option.copy(other.defaultValue, BusinessVariableFactory.copyTyped),\r\n        I18nText.copy(other.documentation),\r\n        other.input,\r\n        other.output,\r\n        other.required);\r\n    }\r\n\r\n    tpeUnwrapped() {\r\n      return Typed.value(this.tpe);\r\n    }\r\n\r\n    defaultValueUnwrapped() {\r\n      return this.defaultValue.map(Typed.value);\r\n    }\r\n  }\r\n\r\n\r\n  export class ScreenReleaseWithName {\r\n    constructor(readonly screenName: string,\r\n                readonly release: ScreenRelease) {\r\n    }\r\n  }\r\n\r\n  export class ScreenRelease {\r\n    constructor(\r\n      readonly organizationId: OrganizationId,\r\n      readonly screenId: ScreenId,\r\n      readonly releaseNumber: number,\r\n      readonly releaseComment: string,\r\n      readonly releaseCode: string,\r\n      readonly closed: boolean,\r\n      readonly description: I18nText,\r\n      readonly components: ScreenComponents,\r\n      readonly lastModified: LocalDateTime,\r\n      readonly lastModifiedBy: PersonId,\r\n      readonly authorizationType: ScreenAuthorizationType,\r\n      readonly rootComponentRefId: ScreenComponentRefId,\r\n      readonly params: Array<ScreenParam>,\r\n      readonly automaticVariables: Array<AutomaticVariable>,\r\n      readonly onInit: Array<AutomaticActionRef>,\r\n      readonly onInterval: Array<AutomaticActionRefWithSchedule>,\r\n      readonly titleExpression: Option<string>,\r\n      readonly lifeMode: ScreenLifeMode\r\n    ) {}\r\n\r\n    static copy(other: ScreenRelease) {\r\n      return new ScreenRelease(\r\n        OrganizationId.copy(other.organizationId),\r\n        ScreenId.copy(other.screenId),\r\n        other.releaseNumber,\r\n        other.releaseComment,\r\n        other.releaseCode,\r\n        other.closed,\r\n        I18nText.copy(other.description),\r\n        ScreenComponents.copy(other.components),\r\n        LocalDateTime.copy(other.lastModified),\r\n        PersonId.copy(other.lastModifiedBy),\r\n        ScreenAuthorizationType.copy(other.authorizationType),\r\n        ScreenComponentRefId.copy(other.rootComponentRefId),\r\n        other.params.map(ScreenParam.copy),\r\n        other.automaticVariables.map(AutomaticVariable.copy),\r\n        other.onInit.map(AutomaticActionRef.copy),\r\n        other.onInterval.map(AutomaticActionRefWithSchedule.copy),\r\n        Option.copy(other.titleExpression),\r\n        ScreenLifeMode.copy(other.lifeMode)\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n  export class ScreenInfo {\r\n    constructor(\r\n      readonly id: ScreenId,\r\n      public version: AggregateVersion,\r\n      readonly organizationId: OrganizationId,\r\n      readonly applicationId: ApplicationId,\r\n      readonly screen: Option<Screen>,\r\n      readonly releases: Array<ScreenReleaseSummary>\r\n    ) {}\r\n\r\n    static copy(other: ScreenInfo): ScreenInfo {\r\n      return new ScreenInfo(\r\n        ScreenId.copy(other.id),\r\n        AggregateVersion.copy(other.version),\r\n        OrganizationId.copy(other.organizationId),\r\n        ApplicationId.copy(other.applicationId),\r\n        Option.copy(other.screen).map(Screen.copy),\r\n        other.releases.map(ScreenReleaseSummary.copy)\r\n      )\r\n    }\r\n  }\r\n\r\n  export class CreateScreenInstance {\r\n    constructor(\r\n      readonly applicationIdOrIdentifier: Either<ApplicationId, string>,\r\n      readonly applicationComponent: ApplicationComponentRef,\r\n      readonly params: Array<[string, string]>,\r\n      readonly returnComponents: boolean) {}\r\n  }\r\n\r\n  export class CreateScreenWorkingReleaseInstance {\r\n    constructor(\r\n      readonly applicationIdOrIdentifier: Either<ApplicationId, String>,\r\n      readonly applicationComponent: ApplicationComponentRef,\r\n      readonly params: Array<[string, string]>) {}\r\n  }\r\n\r\n  export class GetScreenInstanceForWidgetScope {\r\n    constructor(\r\n      readonly widgetInstanceId: WidgetInstanceId) {}\r\n  }\r\n\r\n  export class GetScreenInstanceState {\r\n    constructor(readonly instanceId: ScreenInstanceId) {}\r\n  }\r\n\r\n  export class ScreenDefinitionComponents {\r\n    constructor(  public components: Array<[string, ScreenComponents]>) {}\r\n\r\n    static copy(other: ScreenDefinitionComponents) {\r\n      return new ScreenDefinitionComponents(\r\n        other.components.map((s: [string, ScreenComponents]) => <[string, ScreenComponents]>[s[0], ScreenComponents.copy(s[1])])\r\n      )\r\n    }\r\n  }\r\n\r\n  export class ScreenInstanceState {\r\n\r\n    constructor(readonly id: ScreenInstanceId,\r\n                readonly screenId: ScreenId,\r\n                readonly screenReleaseId: ScreenReleaseId,\r\n                readonly applicationId: ApplicationId,\r\n                readonly mainTitle: string,\r\n                readonly subTitle: Option<string>,\r\n                readonly contextId: VariableId,\r\n                readonly version: number,\r\n                readonly subscriptionId: string,\r\n                readonly allScreensReleases: Array<string>,\r\n                public components: Option<Array<[string, ScreenComponents]>>,\r\n                readonly root: ScreenComponentRefId,\r\n                readonly componentsState: ScreenComponentsState,\r\n                readonly contextProviderId: Option<AggregateId>,\r\n                readonly lifeMode: ScreenLifeMode) {}\r\n\r\n    static copy(other: ScreenInstanceState): ScreenInstanceState {\r\n      return new ScreenInstanceState(\r\n        ScreenInstanceId.copy(other.id),\r\n        ScreenId.copy(other.screenId),\r\n        ScreenReleaseId.copy(other.screenReleaseId),\r\n        ApplicationId.copy(other.applicationId),\r\n        other.mainTitle,\r\n        Option.copy(other.subTitle),\r\n        VariableId.copy(other.contextId),\r\n        other.version,\r\n        other.subscriptionId,\r\n        other.allScreensReleases.slice(),\r\n        Option.copy(other.components, c => c.map((s: [string, ScreenComponents]) => <[string, ScreenComponents]>[s[0], ScreenComponents.copy(s[1])])),\r\n        ScreenComponentRefId.copy(other.root),\r\n        ScreenComponentsState.copy(other.componentsState).updateMaps(),\r\n        Option.copy(other.contextProviderId, AggregateId.copy),\r\n        ScreenLifeMode.copy(other.lifeMode)\r\n      );\r\n    }\r\n\r\n    componentsAsMap(): {[screenId: string]: ScreenComponents} {\r\n      if(this.components.isDefined()) {\r\n        const map: {[screenId: string]: ScreenComponents} = {};\r\n        this.components.get().forEach((s: [string, ScreenComponents]) => map[s[0]] = s[1]);\r\n        return map;\r\n      } else {\r\n        throw new Error(\"Components not available\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class ComponentModelChange {\r\n    constructor( readonly modelName: string,\r\n                 readonly value: Option<Typed<BusinessVariable>>) {\r\n    }\r\n  }\r\n\r\n  export class ChangeSimpleInputParameters {\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly params: Array<[string, string]>) {\r\n    }\r\n  }\r\n\r\n  export class ChangeMultipleComponentModels {\r\n\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly modelsChanges: Array<ComponentModelChange>,\r\n                readonly actionsTriggered: Array<string>) {}\r\n  }\r\n\r\n\r\n  export class ChangeComponentModel {\r\n\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly modelName: string,\r\n                readonly value: Typed<BusinessVariable>,\r\n                readonly actionsTriggered: Array<string>\r\n                ) {}\r\n  }\r\n\r\n  export class ClearComponentModel {\r\n\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly modelName: string,\r\n                readonly actionsTriggered: Array<string>\r\n    ) {}\r\n  }\r\n\r\n  export class AppendToComponentModel {\r\n\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly modelName: string,\r\n                readonly value: Typed<BusinessVariable>\r\n    ) {}\r\n  }\r\n\r\n  export class RefIdInContext {\r\n    constructor(readonly refId: ScreenComponentRefIdInScreen,\r\n                readonly contextId: VariableId) {}\r\n  }\r\n\r\n  export class RemoveFromComponentModel {\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly modelName: string,\r\n                readonly valueIndex: number,\r\n                readonly value: Typed<BusinessVariable>,\r\n                readonly actionsTriggered: Array<string>) {}\r\n  }\r\n\r\n  export class ExecuteAction {\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly actionName: string) {}\r\n  }\r\n\r\n  export class ExecuteEntryAction {\r\n    constructor(readonly instanceId: ScreenInstanceId,\r\n                readonly refsPath: Array<RefIdInContext>,\r\n                readonly entryContextId: VariableId,\r\n                readonly actionName: string) {}\r\n  }\r\n\r\n  export class AddRepeatableContextEntry {\r\n    constructor(\r\n      readonly instanceId: ScreenInstanceId,\r\n      readonly refsPath: Array<RefIdInContext>) {}\r\n  }\r\n\r\n  export class DeleteRepeatableContextEntry {\r\n    constructor(\r\n      readonly instanceId: ScreenInstanceId,\r\n      readonly refsPath: Array<RefIdInContext>,\r\n      readonly entryId: VariableId,\r\n      readonly entryIndex: number\r\n    ) {}\r\n  }\r\n\r\n  export class MoveEntry {\r\n    constructor(\r\n      readonly instanceId: ScreenInstanceId,\r\n      readonly refsPath: Array<RefIdInContext>,\r\n      readonly entryId: VariableId,\r\n      readonly fromIndex: number,\r\n      readonly toIndex: number\r\n    ) {}\r\n  }\r\n\r\n  export class EvaluateExpressionInScreen {\r\n    constructor(\r\n      readonly instanceId: ScreenInstanceId,\r\n      readonly expression: string,\r\n      readonly contextPath: string\r\n    ) {}\r\n  }\r\n\r\n\r\n\r\n  export interface EvaluateExpressionInScreenResponse {\r\n    className(): string;\r\n    isSuccess(): boolean;\r\n  }\r\n\r\n  export class EvaluateExpressionInScreenSuccessResponse implements EvaluateExpressionInScreenResponse {\r\n\r\n    constructor(readonly resultVariable: Typed<BusinessVariable>,\r\n                readonly durationMillis: number) {}\r\n\r\n    static copy(other: EvaluateExpressionInScreenSuccessResponse) {\r\n      return new EvaluateExpressionInScreenSuccessResponse(BusinessVariableFactory.copyTyped(other.resultVariable), other.durationMillis);\r\n    }\r\n\r\n    static className: string = \"EvaluateExpressionInScreenSuccessResponse\";\r\n\r\n    className(): string {\r\n      return EvaluateExpressionInScreenSuccessResponse.className;\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return true\r\n    };\r\n\r\n  }\r\n\r\n  export class EvaluateExpressionInScreenFailureResponse implements EvaluateExpressionInScreenResponse {\r\n\r\n    constructor(readonly error: string,\r\n                readonly durationMillis: number) {}\r\n\r\n    static copy(other: EvaluateExpressionInScreenFailureResponse) {\r\n      return new EvaluateExpressionInScreenFailureResponse(other.error, other.durationMillis);\r\n    }\r\n\r\n    static className: string = \"EvaluateExpressionInScreenFailureResponse\";\r\n\r\n    className(): string {\r\n      return EvaluateExpressionInScreenFailureResponse.className;\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return false\r\n    };\r\n\r\n  }\r\n\r\n  export class EvaluateExpressionInScreenResponseFactory {\r\n\r\n    static copy(response: EvaluateExpressionInScreenResponse): EvaluateExpressionInScreenResponse {\r\n      return EvaluateExpressionInScreenResponseFactory.copyByType(response, response.className());\r\n    }\r\n\r\n    static copyTyped(response: Typed<EvaluateExpressionInScreenResponse>): Typed<EvaluateExpressionInScreenResponse> {\r\n      return Typed.of(EvaluateExpressionInScreenResponseFactory.copyByType(Typed.value(response), Typed.className(response)));\r\n    }\r\n\r\n    static copyByType(response: EvaluateExpressionInScreenResponse, className: string): EvaluateExpressionInScreenResponse {\r\n      switch (className) {\r\n        case EvaluateExpressionInScreenSuccessResponse.className:\r\n          return new EvaluateExpressionInScreenSuccessResponse(BusinessVariableFactory.copyTyped((<EvaluateExpressionInScreenSuccessResponse>response).resultVariable), (<EvaluateExpressionInScreenSuccessResponse>response).durationMillis);\r\n        case EvaluateExpressionInScreenFailureResponse.className:\r\n          return new EvaluateExpressionInScreenFailureResponse((<EvaluateExpressionInScreenFailureResponse>response).error, (<EvaluateExpressionInScreenFailureResponse>response).durationMillis);\r\n        default:\r\n          throw new Error(\"Unsupported response class: \" + className + \", response: \" + JSON.stringify(response));\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  export class TerminateScreen {\r\n    constructor(\r\n      readonly instanceId: ScreenInstanceId\r\n    ) {}\r\n  }\r\n\r\n\r\n  export class ApplicationResponse {\r\n    constructor(readonly status: string) {}\r\n\r\n    static copy(other: ApplicationResponse) {\r\n      return new ApplicationResponse(other.status);\r\n    }\r\n\r\n    isSuccess() {\r\n      return this.status == \"Success\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  export class NewScreenInstanceEvents {\r\n    constructor(readonly screenInstanceId: ScreenInstanceId, readonly events: Array<Typed<ScreenInstanceStateEvent>>, readonly error: Option<string>) {}\r\n\r\n    get eventsUnwrapped(): Array<ScreenInstanceStateEvent> {\r\n      return this.events.map(e => Typed.value(e));\r\n    }\r\n\r\n    static copy(other: NewScreenInstanceEvents) {\r\n      return new NewScreenInstanceEvents(ScreenInstanceId.copy(other.screenInstanceId), other.events.map(ScreenInstanceStateEventFactory.copyTyped), Option.copy(other.error))\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export interface ScreenInstanceStateEvent {\r\n    className(): string;\r\n    version: number;\r\n  }\r\n\r\n  export class ComponentModelChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentModelChanged\";\r\n\r\n    className(): string {\r\n      return ComponentModelChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly modelName: string,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly value: Option<Typed<BusinessVariable>>) {}\r\n\r\n    get unwrappedValue(): Option<BusinessVariable> {\r\n      return this.value.map(v => Typed.value(v));\r\n    }\r\n\r\n    static copy(other: ComponentModelChanged) {\r\n      return new ComponentModelChanged(other.version,\r\n        other.modelName,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        Option.copy(other.value).map(BusinessVariableFactory.copyTyped));\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentModelInProgress implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentModelInProgress\";\r\n\r\n    className(): string {\r\n      return ComponentModelInProgress.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly modelName: string,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen) {}\r\n\r\n    static copy(other: ComponentModelInProgress) {\r\n      return new ComponentModelInProgress(other.version,\r\n        other.modelName,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId));\r\n    }\r\n  }\r\n\r\n  export class ComponentInnerRepeatableContextChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentInnerRepeatableContextChanged\";\r\n\r\n    className(): string {\r\n      return ComponentInnerRepeatableContextChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly previousInnerContext: Option<RepeatableContext>,\r\n                readonly innerContext: Option<RepeatableContext>,\r\n                readonly status: number) {}\r\n\r\n    static copy(other: ComponentInnerRepeatableContextChanged) {\r\n      return new ComponentInnerRepeatableContextChanged(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        Option.copy(other.previousInnerContext, RepeatableContext.copy),\r\n        Option.copy(other.innerContext, RepeatableContext.copy),\r\n        other.status);\r\n    }\r\n  }\r\n\r\n  export class ComponentSingleContextChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentSingleContextChanged\";\r\n\r\n    className(): string {\r\n      return ComponentSingleContextChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly innerContext: Option<VariableId>,\r\n                readonly status: number) {}\r\n\r\n    static copy(other: ComponentSingleContextChanged) {\r\n      return new ComponentSingleContextChanged(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        Option.copy(other.innerContext, VariableId.copy),\r\n        other.status);\r\n    }\r\n  }\r\n\r\n  export class ComponentPropertyChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentPropertyChanged\";\r\n\r\n    className(): string {\r\n      return ComponentPropertyChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly propertyName: string,\r\n                readonly value: Option<Typed<BusinessVariable>>) {}\r\n\r\n    get unwrappedValue(): Option<BusinessVariable> {\r\n      return this.value.map(v => Typed.value(v));\r\n    }\r\n\r\n    static copy(other: ComponentPropertyChanged) {\r\n      return new ComponentPropertyChanged(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.propertyName,\r\n        Option.copy(other.value).map(BusinessVariableFactory.copyTyped));\r\n    }\r\n  }\r\n\r\n  export class ComponentPropertyInProgress implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentPropertyInProgress\";\r\n\r\n    className(): string {\r\n      return ComponentPropertyInProgress.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly propertyName: string) {}\r\n\r\n    static copy(other: ComponentPropertyInProgress) {\r\n      return new ComponentPropertyInProgress(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.propertyName);\r\n    }\r\n  }\r\n\r\n  export class ComponentPropertyErrorOccurred implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentPropertyErrorOccurred\";\r\n\r\n    className(): string {\r\n      return ComponentPropertyErrorOccurred.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly propertyName: string,\r\n                readonly timestamp: LocalDateTime,\r\n                readonly message: string) {}\r\n\r\n    static copy(other: ComponentPropertyErrorOccurred) {\r\n      return new ComponentPropertyErrorOccurred(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.propertyName,\r\n        LocalDateTime.copy(other.timestamp),\r\n        other.message);\r\n    }\r\n  }\r\n\r\n  export class ComponentRefPropertyChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentRefPropertyChanged\";\r\n\r\n    className(): string {\r\n      return ComponentRefPropertyChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentRefId: ScreenComponentRefIdInScreen,\r\n                readonly propertyName: string,\r\n                readonly value: Option<Typed<BusinessVariable>>) {}\r\n\r\n    get unwrappedValue(): Option<BusinessVariable> {\r\n      return this.value.map(v => Typed.value(v));\r\n    }\r\n\r\n    static copy(other: ComponentRefPropertyChanged) {\r\n      return new ComponentRefPropertyChanged(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.componentRefId),\r\n        other.propertyName,\r\n        Option.copy(other.value).map(BusinessVariableFactory.copyTyped));\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentRefPropertyInProgress implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentRefPropertyInProgress\";\r\n\r\n    className(): string {\r\n      return ComponentRefPropertyInProgress.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentRefId: ScreenComponentRefIdInScreen,\r\n                readonly propertyName: string) {}\r\n\r\n\r\n    static copy(other: ComponentRefPropertyInProgress) {\r\n      return new ComponentRefPropertyInProgress(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.componentRefId),\r\n        other.propertyName);\r\n    }\r\n  }\r\n\r\n  export class ComponentRefPropertyErrorOccurred implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentRefPropertyErrorOccured\";\r\n\r\n    className(): string {\r\n      return ComponentRefPropertyErrorOccurred.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentRefId: ScreenComponentRefIdInScreen,\r\n                readonly propertyName: string,\r\n                readonly timestamp: LocalDateTime,\r\n                readonly message: string) {}\r\n\r\n    static copy(other: ComponentRefPropertyErrorOccurred) {\r\n      return new ComponentRefPropertyErrorOccurred(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.componentRefId),\r\n        other.propertyName,\r\n        LocalDateTime.copy(other.timestamp),\r\n        other.message);\r\n    }\r\n  }\r\n\r\n  export class RefStateCreated implements ScreenInstanceStateEvent {\r\n    static className = \"RefStateCreated\";\r\n    className(): string {\r\n      return RefStateCreated.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly refId: ScreenComponentRefIdInScreen,\r\n                readonly state: Typed<ScreenComponentRefState>) {}\r\n\r\n    get stateUnwrapped() {\r\n      return Typed.value(this.state);\r\n    }\r\n\r\n    static copy(other: RefStateCreated) {\r\n      return new RefStateCreated(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.refId),\r\n        ScreenComponentRefStateFactory.copyTyped(other.state))\r\n    }\r\n  }\r\n\r\n\r\n  export class RefStateDeleted implements ScreenInstanceStateEvent {\r\n    static className = \"RefStateDeleted\";\r\n    className(): string {\r\n      return RefStateDeleted.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly refId: ScreenComponentRefIdInScreen) {}\r\n\r\n    static copy(other: RefStateDeleted) {\r\n      return new RefStateDeleted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.refId));\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentStateCreated implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentStateCreated\";\r\n\r\n    className(): string {\r\n      return ComponentStateCreated.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly state: Typed<ScreenComponentState>,\r\n                readonly status: number,\r\n                readonly hasChildren: boolean) {}\r\n\r\n    get stateUnwrapped() {\r\n      return Typed.value(this.state);\r\n    }\r\n\r\n    static copy(other: ComponentStateCreated) {\r\n      return new ComponentStateCreated(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        ScreenComponentStateFactory.copyTyped(other.state),\r\n        other.status,\r\n        other.hasChildren)\r\n    }\r\n  }\r\n\r\n  export class ComponentStateDeleted implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentStateDeleted\";\r\n\r\n    className(): string {\r\n      return ComponentStateDeleted.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen) {}\r\n\r\n    static copy(other: ComponentStateDeleted) {\r\n      return new ComponentStateDeleted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId));\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  export class ComponentStatusChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentStatusChanged\";\r\n\r\n    className(): string {\r\n      return ComponentStatusChanged.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly status: number,\r\n                readonly hasChildren: boolean) {}\r\n\r\n    static copy(other: ComponentStatusChanged) {\r\n      return new ComponentStatusChanged(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.status,\r\n        other.hasChildren)\r\n    }\r\n  }\r\n\r\n\r\n  export class RepeatableComponentEntryAdded implements ScreenInstanceStateEvent {\r\n    static className = \"RepeatableComponentEntryAdded\";\r\n\r\n    className(): string {\r\n      return RepeatableComponentEntryAdded.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly entryId: VariableId) {}\r\n\r\n    static copy(other: RepeatableComponentEntryAdded) {\r\n      return new RepeatableComponentEntryAdded(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        VariableId.copy(other.entryId));\r\n    }\r\n  }\r\n\r\n\r\n  export class RepeatableComponentEntryDeleted implements ScreenInstanceStateEvent {\r\n    static className = \"RepeatableComponentEntryDeleted\";\r\n\r\n    className(): string {\r\n      return RepeatableComponentEntryDeleted.className;\r\n    }\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly entryId: VariableId) {}\r\n\r\n    static copy(other: RepeatableComponentEntryDeleted) {\r\n      return new RepeatableComponentEntryDeleted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        VariableId.copy(other.entryId));\r\n    }\r\n  }\r\n\r\n\r\n  export class ActionExecutionTriggered implements ScreenInstanceStateEvent {\r\n    static className = \"ActionExecutionTriggered\";\r\n\r\n    constructor(\r\n      readonly version: number,\r\n      readonly contextId: VariableId,\r\n      readonly entryContextId: Option<VariableId>,\r\n      readonly componentId: ScreenComponentIdInScreen,\r\n      readonly actionName: string,\r\n      readonly timestamp: LocalDateTime\r\n    ) {}\r\n\r\n    className(): string {\r\n      return ActionExecutionTriggered.className;\r\n    }\r\n\r\n    static copy(other: ActionExecutionTriggered) {\r\n      return new ActionExecutionTriggered(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName,\r\n        LocalDateTime.copy(other.timestamp));\r\n    }\r\n  }\r\n\r\n  export class ActionValidationFailed implements ScreenInstanceStateEvent {\r\n    static className = \"ActionValidationFailed\";\r\n\r\n    constructor(\r\n      readonly version: number,\r\n      readonly contextId: VariableId,\r\n      readonly entryContextId: Option<VariableId>,\r\n      readonly componentId: ScreenComponentIdInScreen,\r\n      readonly actionName: string,\r\n      readonly messages: Array<I18nText>\r\n    ) {}\r\n\r\n    className(): string {\r\n      return ActionValidationFailed.className;\r\n    }\r\n\r\n    static copy(other: ActionValidationFailed) {\r\n      return new ActionValidationFailed(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName,\r\n        other.messages.map(I18nText.copy));\r\n    }\r\n  }\r\n\r\n  export class ActionSyncExecutionFailed implements ScreenInstanceStateEvent {\r\n    static className = \"ActionSyncExecutionFailed\";\r\n\r\n    constructor(\r\n      readonly version: number,\r\n      readonly contextId: VariableId,\r\n      readonly entryContextId: Option<VariableId>,\r\n      readonly componentId: ScreenComponentIdInScreen,\r\n      readonly actionName: string,\r\n      readonly timestamp: LocalDateTime,\r\n      readonly index: number,\r\n      readonly message: string\r\n    ) {}\r\n\r\n    className(): string {\r\n      return ActionSyncExecutionFailed.className;\r\n    }\r\n\r\n    static copy(other: ActionSyncExecutionFailed) {\r\n      return new ActionSyncExecutionFailed(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName,\r\n        LocalDateTime.copy(other.timestamp),\r\n        other.index,\r\n        other.message);\r\n    }\r\n  }\r\n\r\n  export class ActionSyncExecutionCompleted implements ScreenInstanceStateEvent {\r\n    static className = \"ActionSyncExecutionCompleted\";\r\n\r\n    constructor(\r\n      readonly version: number,\r\n      readonly contextId: VariableId,\r\n      readonly entryContextId: Option<VariableId>,\r\n      readonly componentId: ScreenComponentIdInScreen,\r\n      readonly actionName: string\r\n    ) {}\r\n\r\n    className(): string {\r\n      return ActionSyncExecutionCompleted.className;\r\n    }\r\n\r\n    static copy(other: ActionSyncExecutionCompleted) {\r\n      return new ActionSyncExecutionCompleted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class ActionAsyncExecutionStarted implements ScreenInstanceStateEvent {\r\n    static className = \"ActionAsyncExecutionStarted\";\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly entryContextId: Option<VariableId>,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly actionName: string,\r\n                readonly asyncActions: Array<number>) {\r\n    }\r\n\r\n    className(): string {\r\n      return ActionAsyncExecutionStarted.className;\r\n    }\r\n\r\n    static copy(other: ActionAsyncExecutionStarted) {\r\n      return new ActionAsyncExecutionStarted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName,\r\n        other.asyncActions.slice());\r\n    }\r\n  }\r\n\r\n  export class ActionAsyncExecutionFailed implements ScreenInstanceStateEvent {\r\n    static className = \"ActionAsyncExecutionFailed\";\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly entryContextId: Option<VariableId>,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly actionName: string,\r\n                readonly timestamp: LocalDateTime,\r\n                readonly index: number,\r\n                readonly message: string) {\r\n    }\r\n\r\n    className(): string {\r\n      return ActionAsyncExecutionFailed.className;\r\n    }\r\n\r\n    static copy(other: ActionAsyncExecutionFailed) {\r\n      return new ActionAsyncExecutionFailed(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName, LocalDateTime.copy(other.timestamp), other.index, other.message);\r\n    }\r\n  }\r\n\r\n  export class ActionAsyncExecutionCompleted implements ScreenInstanceStateEvent {\r\n    static className = \"ActionAsyncExecutionCompleted\";\r\n\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly entryContextId: Option<VariableId>,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly actionName: string,\r\n                readonly index: number) {\r\n    }\r\n\r\n    className(): string {\r\n      return ActionAsyncExecutionCompleted.className;\r\n    }\r\n\r\n    static copy(other: ActionAsyncExecutionCompleted) {\r\n      return new ActionAsyncExecutionCompleted(other.version,\r\n        VariableId.copy(other.contextId),\r\n        Option.copy(other.entryContextId, VariableId.copy),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.actionName, other.index);\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentValidationChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentValidationChanged\";\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly errors: Array<Typed<ComponentValidationError>>) {}\r\n    className(): string {\r\n      return ComponentValidationChanged.className;\r\n    }\r\n\r\n    static copy(other: ComponentValidationChanged) {\r\n      return new ComponentValidationChanged(\r\n        other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.errors.map(ComponentValidationErrorFactory.copyTyped)\r\n      );\r\n    }\r\n  }\r\n\r\n  export class ComponentValidationErrorOccurred implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentValidationErrorOccurred\";\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentId: ScreenComponentIdInScreen,\r\n                readonly index: number,\r\n                readonly timestamp: LocalDateTime,\r\n                readonly message: string) {}\r\n    className(): string {\r\n      return ComponentValidationErrorOccurred.className;\r\n    }\r\n\r\n    static copy(other: ComponentValidationErrorOccurred) {\r\n      return new ComponentValidationErrorOccurred(\r\n        other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentIdInScreen.copy(other.componentId),\r\n        other.index,\r\n        LocalDateTime.copy(other.timestamp),\r\n        other.message\r\n      );\r\n    }\r\n  }\r\n\r\n  export class ComponentRefValidationChanged implements ScreenInstanceStateEvent {\r\n    static className = \"ComponentRefValidationChanged\";\r\n    constructor(readonly version: number,\r\n                readonly contextId: VariableId,\r\n                readonly componentRefId: ScreenComponentRefIdInScreen,\r\n                readonly errors: Array<Typed<ComponentValidationError>>) {}\r\n    className(): string {\r\n      return ComponentRefValidationChanged.className;\r\n    }\r\n\r\n    static copy(other: ComponentRefValidationChanged) {\r\n      return new ComponentRefValidationChanged(\r\n        other.version,\r\n        VariableId.copy(other.contextId),\r\n        ScreenComponentRefIdInScreen.copy(other.componentRefId),\r\n        other.errors.map(ComponentValidationErrorFactory.copyTyped)\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  export class OutputParameterChanged implements ScreenInstanceStateEvent {\r\n    static className = \"OutputParameterChanged\";\r\n    constructor(readonly version: number,\r\n                readonly input: boolean, /** if it also an input param */\r\n                readonly variableName: string,\r\n                readonly value: Option<Typed<BusinessVariable>>) {}\r\n    className(): string {\r\n      return OutputParameterChanged.className;\r\n    }\r\n\r\n    static copy(other: OutputParameterChanged) {\r\n      return new OutputParameterChanged(\r\n        other.version,\r\n        other.input,\r\n        other.variableName,\r\n        Option.copy(other.value, BusinessVariableFactory.copyTyped)\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  export class ScreenInstanceStateEventFactory {\r\n    static copy(other: ScreenInstanceStateEvent): ScreenInstanceStateEvent {\r\n      return ScreenInstanceStateEventFactory.copyByType(other, other.className());\r\n    }\r\n\r\n    static copyTyped(other: Typed<ScreenInstanceStateEvent>): Typed<ScreenInstanceStateEvent> {\r\n      return Typed.of(ScreenInstanceStateEventFactory.copyByType(Typed.value(other), Typed.className(other)));\r\n    }\r\n\r\n    static copyByType(other: ScreenInstanceStateEvent, className: string): ScreenInstanceStateEvent {\r\n      switch (className) {\r\n        case ComponentModelInProgress.className: return ComponentModelInProgress.copy(<ComponentModelInProgress>other);\r\n        case ComponentModelChanged.className: return ComponentModelChanged.copy(<ComponentModelChanged>other);\r\n        case ComponentInnerRepeatableContextChanged.className: return ComponentInnerRepeatableContextChanged.copy(<ComponentInnerRepeatableContextChanged>other);\r\n        case ComponentSingleContextChanged.className: return ComponentSingleContextChanged.copy(<ComponentSingleContextChanged>other);\r\n        case ComponentPropertyInProgress.className: return ComponentPropertyInProgress.copy(<ComponentPropertyInProgress>other);\r\n        case ComponentPropertyChanged.className: return ComponentPropertyChanged.copy(<ComponentPropertyChanged>other);\r\n        case ComponentPropertyErrorOccurred.className: return ComponentPropertyErrorOccurred.copy(<ComponentPropertyErrorOccurred>other);\r\n        case ComponentRefPropertyInProgress.className: return ComponentRefPropertyInProgress.copy(<ComponentRefPropertyInProgress>other);\r\n        case ComponentRefPropertyChanged.className: return ComponentRefPropertyChanged.copy(<ComponentRefPropertyChanged>other);\r\n        case ComponentRefPropertyErrorOccurred.className: return ComponentRefPropertyErrorOccurred.copy(<ComponentRefPropertyErrorOccurred>other);\r\n        case RefStateCreated.className: return RefStateCreated.copy(<RefStateCreated>other);\r\n        case RefStateDeleted.className: return RefStateDeleted.copy(<RefStateDeleted>other);\r\n        case ComponentStateCreated.className: return ComponentStateCreated.copy(<ComponentStateCreated>other);\r\n        case ComponentStateDeleted.className: return ComponentStateDeleted.copy(<ComponentStateDeleted>other);\r\n        case ComponentStatusChanged.className: return ComponentStatusChanged.copy(<ComponentStatusChanged>other);\r\n        case RepeatableComponentEntryAdded.className: return RepeatableComponentEntryAdded.copy(<RepeatableComponentEntryAdded>other);\r\n        case RepeatableComponentEntryDeleted.className: return RepeatableComponentEntryDeleted.copy(<RepeatableComponentEntryDeleted>other);\r\n        case ActionSyncExecutionCompleted.className: return ActionSyncExecutionCompleted.copy(<ActionSyncExecutionCompleted>other);\r\n        case ActionExecutionTriggered.className: return ActionExecutionTriggered.copy(<ActionExecutionTriggered>other);\r\n        case ActionValidationFailed.className: return ActionValidationFailed.copy(<ActionValidationFailed>other);\r\n        case ActionSyncExecutionFailed.className: return ActionSyncExecutionFailed.copy(<ActionSyncExecutionFailed>other);\r\n        case ActionAsyncExecutionStarted.className: return ActionAsyncExecutionStarted.copy(<ActionAsyncExecutionStarted>other);\r\n        case ActionAsyncExecutionFailed.className: return ActionAsyncExecutionFailed.copy(<ActionAsyncExecutionFailed>other);\r\n        case ActionAsyncExecutionCompleted.className: return ActionAsyncExecutionCompleted.copy(<ActionAsyncExecutionCompleted>other);\r\n        case ComponentValidationChanged.className: return ComponentValidationChanged.copy(<ComponentValidationChanged>other);\r\n        case ComponentValidationErrorOccurred.className: return ComponentValidationErrorOccurred.copy(<ComponentValidationErrorOccurred>other);\r\n        case ComponentRefValidationChanged.className: return ComponentRefValidationChanged.copy(<ComponentRefValidationChanged>other);\r\n        case OutputParameterChanged.className: return OutputParameterChanged.copy(<OutputParameterChanged>other);\r\n        default: throw new Error(\"Not supported [\"+className+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  export interface ComponentValidationError {\r\n    className(): string;\r\n    toMessage(): string;\r\n  }\r\n\r\n\r\n  export class RequiredModelValueNotAvailable implements ComponentValidationError {\r\n    static className = \"RequiredModelValueNotAvailable\";\r\n    className(): string {\r\n      return RequiredModelValueNotAvailable.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: RequiredModelValueNotAvailable) {\r\n      return new RequiredModelValueNotAvailable();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_value_not_available\");\r\n    }\r\n  }\r\n\r\n  export class ValueOfIncorrectType implements ComponentValidationError {\r\n    static className = \"ValueOfIncorrectType\";\r\n    className(): string {\r\n      return ValueOfIncorrectType.className;\r\n    }\r\n\r\n    constructor(readonly actualTypeName: string,\r\n                readonly expectedTypeName: string) {}\r\n\r\n    static copy(other: ValueOfIncorrectType) {\r\n      return new ValueOfIncorrectType(other.actualTypeName, other.expectedTypeName);\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_value_incorrect_type\", {actual: this.actualTypeName, expected: this.expectedTypeName});\r\n    }\r\n  }\r\n\r\n  export class NumberLargerThanMaximum implements ComponentValidationError {\r\n    static className = \"NumberLargerThanMaximum\";\r\n    className(): string {\r\n      return NumberLargerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: number,\r\n                readonly maximumValue: number) {}\r\n\r\n    static copy(other: NumberLargerThanMaximum) {\r\n      return new NumberLargerThanMaximum(other.actualValue, other.maximumValue);\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_number_too_large\", {actual: this.actualValue, maximum: this.maximumValue});\r\n    }\r\n  }\r\n\r\n  export class NumberSmallerThanMinimum implements ComponentValidationError {\r\n    static className = \"NumberSmallerThanMinimum\";\r\n    className(): string {\r\n      return NumberSmallerThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: number,\r\n                readonly minimumValue: number) {}\r\n\r\n    static copy(other: NumberSmallerThanMinimum) {\r\n      return new NumberSmallerThanMinimum(other.actualValue, other.minimumValue);\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_number_too_small\", {actual: this.actualValue, minimum: this.minimumValue});\r\n    }\r\n\r\n  }\r\n\r\n  export class DateLargerThanMaximum implements ComponentValidationError {\r\n    static className = \"DateLargerThanMaximum\";\r\n    className(): string {\r\n      return DateLargerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalDate,\r\n                readonly maximumValue: LocalDate) {}\r\n\r\n    static copy(other: DateLargerThanMaximum) {\r\n      return new DateLargerThanMaximum(LocalDate.copy(other.actualValue), LocalDate.copy(other.maximumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_date_too_large\", {actual: this.actualValue.formatted(), maximum: this.maximumValue.formatted()});\r\n    }\r\n  }\r\n\r\n  export class DateSmallerThanMinimum implements ComponentValidationError {\r\n    static className = \"DateSmallerThanMinimum\";\r\n    className(): string {\r\n      return DateSmallerThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalDate,\r\n                readonly minimumValue: LocalDate) {}\r\n\r\n    static copy(other: DateSmallerThanMinimum) {\r\n      return new DateSmallerThanMinimum(LocalDate.copy(other.actualValue), LocalDate.copy(other.minimumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_date_too_small\", {actual: this.actualValue.formatted(), minimum: this.minimumValue.formatted()});\r\n    }\r\n\r\n  }\r\n\r\n  export class TimeLargerThanMaximum implements ComponentValidationError {\r\n    static className = \"TimeLargerThanMaximum\";\r\n    className(): string {\r\n      return TimeLargerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalTime,\r\n                readonly maximumValue: LocalTime) {}\r\n\r\n    static copy(other: TimeLargerThanMaximum) {\r\n      return new TimeLargerThanMaximum(LocalTime.copy(other.actualValue), LocalTime.copy(other.maximumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_time_too_large\", {actual: this.actualValue.formattedToMinutes(), maximum: this.maximumValue.formattedToMinutes()});\r\n    }\r\n  }\r\n\r\n  export class TimeSmallerThanMinimum implements ComponentValidationError {\r\n    static className = \"TimeSmallerThanMinimum\";\r\n    className(): string {\r\n      return TimeSmallerThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalTime,\r\n                readonly minimumValue: LocalTime) {}\r\n\r\n    static copy(other: TimeSmallerThanMinimum) {\r\n      return new TimeSmallerThanMinimum(LocalTime.copy(other.actualValue), LocalTime.copy(other.minimumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_time_too_small\", {actual: this.actualValue.formattedToMinutes(), minimum: this.minimumValue.formattedToMinutes()});\r\n    }\r\n\r\n  }\r\n\r\n  export class DateTimeLargerThanMaximum implements ComponentValidationError {\r\n    static className = \"DateTimeLargerThanMaximum\";\r\n    className(): string {\r\n      return DateTimeLargerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalDateTime,\r\n                readonly maximumValue: LocalDateTime) {}\r\n\r\n    static copy(other: DateTimeLargerThanMaximum) {\r\n      return new DateTimeLargerThanMaximum(LocalDateTime.copy(other.actualValue), LocalDateTime.copy(other.maximumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_datetime_too_large\", {actual: this.actualValue.formattedToMinutes(), maximum: this.maximumValue.formattedToMinutes()});\r\n    }\r\n  }\r\n\r\n  export class DateTimeSmallerThanMinimum implements ComponentValidationError {\r\n    static className = \"DateTimeSmallerThanMinimum\";\r\n    className(): string {\r\n      return DateTimeSmallerThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: LocalDateTime,\r\n                readonly minimumValue: LocalDateTime) {}\r\n\r\n    static copy(other: DateTimeSmallerThanMinimum) {\r\n      return new DateTimeSmallerThanMinimum(LocalDateTime.copy(other.actualValue), LocalDateTime.copy(other.minimumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_datetime_too_small\", {actual: this.actualValue.formattedToMinutes(), minimum: this.minimumValue.formattedToMinutes()});\r\n    }\r\n\r\n  }\r\n\r\n  export class DurationLargerThanMaximum implements ComponentValidationError {\r\n    static className = \"DurationLargerThanMaximum\";\r\n    className(): string {\r\n      return DurationLargerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: Duration,\r\n                readonly maximumValue: Duration) {}\r\n\r\n    static copy(other: DurationLargerThanMaximum) {\r\n      return new DurationLargerThanMaximum(Duration.copy(other.actualValue), Duration.copy(other.maximumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_duration_too_large\", {actual: this.actualValue.formatted24(), maximum: this.maximumValue.formatted24()});\r\n    }\r\n  }\r\n\r\n  export class DurationSmallerThanMinimum implements ComponentValidationError {\r\n    static className = \"DurationSmallerThanMinimum\";\r\n    className(): string {\r\n      return DurationSmallerThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualValue: Duration,\r\n                readonly minimumValue: Duration) {}\r\n\r\n    static copy(other: DurationSmallerThanMinimum) {\r\n      return new DurationSmallerThanMinimum(Duration.copy(other.actualValue), Duration.copy(other.minimumValue));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_duration_too_small\", {actual: this.actualValue.formatted24(), minimum: this.minimumValue.formatted24()});\r\n    }\r\n\r\n  }\r\n\r\n  export class StringShorterThanMinimum implements ComponentValidationError {\r\n    static className = \"StringShorterThanMinimum\";\r\n    className(): string {\r\n      return StringShorterThanMinimum.className;\r\n    }\r\n\r\n    constructor(readonly actualLength: number,\r\n                readonly minimumLength: number) {}\r\n\r\n    static copy(other: StringShorterThanMinimum) {\r\n      return new StringShorterThanMinimum(other.actualLength, other.minimumLength);\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_too_short\", {actual: this.actualLength, minimum: this.minimumLength});\r\n    }\r\n  }\r\n\r\n  export class StringLongerThanMaximum implements ComponentValidationError {\r\n    static className = \"StringLongerThanMaximum\";\r\n    className(): string {\r\n      return StringLongerThanMaximum.className;\r\n    }\r\n\r\n    constructor(readonly actualLength: number,\r\n                readonly maximumLength: number) {}\r\n\r\n    static copy(other: StringLongerThanMaximum) {\r\n      return new StringLongerThanMaximum(other.actualLength, other.maximumLength);\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_too_long\", {actual: this.actualLength, maximum: this.maximumLength});\r\n    }\r\n  }\r\n\r\n  export class StringDoesNotMatchRegex implements ComponentValidationError {\r\n    static className = \"StringDoesNotMatchRegex\";\r\n    className(): string {\r\n      return StringDoesNotMatchRegex.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringDoesNotMatchRegex) {\r\n      return new StringDoesNotMatchRegex();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_not_match_regex\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class StringPolishNipIncorrect implements ComponentValidationError {\r\n    static className = \"StringPolishNipIncorrect\";\r\n    className(): string {\r\n      return StringPolishNipIncorrect.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringPolishNipIncorrect) {\r\n      return new StringPolishNipIncorrect();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_StringPolishNipIncorrect\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class StringPolishPeselIncorrect implements ComponentValidationError {\r\n    static className = \"StringPolishPeselIncorrect\";\r\n    className(): string {\r\n      return StringPolishPeselIncorrect.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringPolishPeselIncorrect) {\r\n      return new StringPolishPeselIncorrect();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_pesel_incorrect\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class StringPolishBankAccountIncorrect implements ComponentValidationError {\r\n    static className = \"StringPolishBankAccountIncorrect\";\r\n    className(): string {\r\n      return StringPolishBankAccountIncorrect.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringPolishBankAccountIncorrect) {\r\n      return new StringPolishBankAccountIncorrect();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_bank_account_incorrect\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class StringPolishPostalCodeIncorrect implements ComponentValidationError {\r\n    static className = \"StringPolishPostalCodeIncorrect\";\r\n    className(): string {\r\n      return StringPolishPostalCodeIncorrect.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringPolishPostalCodeIncorrect) {\r\n      return new StringPolishPostalCodeIncorrect();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_postal_code_incorrect\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class StringEmailIncorrect implements ComponentValidationError {\r\n    static className = \"StringEmailIncorrect\";\r\n    className(): string {\r\n      return StringEmailIncorrect.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: StringEmailIncorrect) {\r\n      return new StringEmailIncorrect();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_text_email_incorrect\", {});\r\n    }\r\n  }\r\n\r\n  export class SelectInputIncorrectValue implements ComponentValidationError {\r\n    static className = \"SelectInputIncorrectValue\";\r\n    className(): string {\r\n      return SelectInputIncorrectValue.className;\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    static copy(other: SelectInputIncorrectValue) {\r\n      return new SelectInputIncorrectValue();\r\n    }\r\n\r\n    toMessage(): string {\r\n      return i18n(\"screen_validation_select_incorrect_value\", {});\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentRuleError implements ComponentValidationError {\r\n    static className = \"ComponentRuleError\";\r\n    className(): string {\r\n      return ComponentRuleError.className;\r\n    }\r\n\r\n    constructor(readonly message: I18nText) {}\r\n\r\n    static copy(other: ComponentRuleError) {\r\n      return new ComponentRuleError(I18nText.copy(other.message));\r\n    }\r\n\r\n    toMessage(): string {\r\n      return this.message.getCurrentWithFallback();\r\n    }\r\n  }\r\n\r\n\r\n  export class ComponentValidationErrorFactory {\r\n    static copy(other: ComponentValidationError): ComponentValidationError {\r\n      return ComponentValidationErrorFactory.copyByType(other, other.className());\r\n    }\r\n\r\n    static copyTyped(other: Typed<ComponentValidationError>): Typed<ComponentValidationError> {\r\n      return Typed.of(ComponentValidationErrorFactory.copyByType(Typed.value(other), Typed.className(other)));\r\n    }\r\n\r\n    static copyByType(other: ComponentValidationError, className: string): ComponentValidationError {\r\n      switch (className) {\r\n        case RequiredModelValueNotAvailable.className: return RequiredModelValueNotAvailable.copy(<RequiredModelValueNotAvailable>other);\r\n        case ValueOfIncorrectType.className: return ValueOfIncorrectType.copy(<ValueOfIncorrectType>other);\r\n        case NumberLargerThanMaximum.className: return NumberLargerThanMaximum.copy(<NumberLargerThanMaximum>other);\r\n        case NumberSmallerThanMinimum.className: return NumberSmallerThanMinimum.copy(<NumberSmallerThanMinimum>other);\r\n        case DateLargerThanMaximum.className: return DateLargerThanMaximum.copy(<DateLargerThanMaximum>other);\r\n        case DateSmallerThanMinimum.className: return DateSmallerThanMinimum.copy(<DateSmallerThanMinimum>other);\r\n        case TimeLargerThanMaximum.className: return TimeLargerThanMaximum.copy(<TimeLargerThanMaximum>other);\r\n        case TimeSmallerThanMinimum.className: return TimeSmallerThanMinimum.copy(<TimeSmallerThanMinimum>other);\r\n        case DateTimeLargerThanMaximum.className: return DateTimeLargerThanMaximum.copy(<DateTimeLargerThanMaximum>other);\r\n        case DateTimeSmallerThanMinimum.className: return DateTimeSmallerThanMinimum.copy(<DateTimeSmallerThanMinimum>other);\r\n        case DurationLargerThanMaximum.className: return DurationLargerThanMaximum.copy(<DurationLargerThanMaximum>other);\r\n        case DurationSmallerThanMinimum.className: return DurationSmallerThanMinimum.copy(<DurationSmallerThanMinimum>other);\r\n        case StringShorterThanMinimum.className: return StringShorterThanMinimum.copy(<StringShorterThanMinimum>other);\r\n        case StringLongerThanMaximum.className: return StringLongerThanMaximum.copy(<StringLongerThanMaximum>other);\r\n        case StringDoesNotMatchRegex.className: return StringDoesNotMatchRegex.copy(<StringDoesNotMatchRegex>other);\r\n        case StringPolishNipIncorrect.className: return StringPolishNipIncorrect.copy(<StringPolishNipIncorrect>other);\r\n        case StringPolishPeselIncorrect.className: return StringPolishPeselIncorrect.copy(<StringPolishPeselIncorrect>other);\r\n        case StringPolishBankAccountIncorrect.className: return StringPolishBankAccountIncorrect.copy(<StringPolishBankAccountIncorrect>other);\r\n        case StringPolishPostalCodeIncorrect.className: return StringPolishPostalCodeIncorrect.copy(<StringPolishPostalCodeIncorrect>other);\r\n        case StringEmailIncorrect.className: return StringEmailIncorrect.copy(<StringEmailIncorrect>other);\r\n        case SelectInputIncorrectValue.className: return SelectInputIncorrectValue.copy(<SelectInputIncorrectValue>other);\r\n        case ComponentRuleError.className: return ComponentRuleError.copy(<ComponentRuleError>other);\r\n        default: throw new Error(\"Not supported [\"+className+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  export class ScreenLogEntryLevel {\r\n    constructor(readonly level: number) {}\r\n    static error = new ScreenLogEntryLevel(3);\r\n    static warning = new ScreenLogEntryLevel(2);\r\n    static debug = new ScreenLogEntryLevel(1);\r\n\r\n    static ofLevel(level: number) {\r\n      switch (level) {\r\n        case ScreenLogEntryLevel.error.level: return ScreenLogEntryLevel.error;\r\n        case ScreenLogEntryLevel.warning.level: return ScreenLogEntryLevel.warning;\r\n        case ScreenLogEntryLevel.debug.level: return ScreenLogEntryLevel.debug;\r\n        default: throw new Error(\"Unsupported error level '\"+level+\"'\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class VariableError {\r\n    constructor(\r\n      readonly contextId: VariableId,\r\n      readonly variableName: string,\r\n      readonly error: string,\r\n      readonly timestamp: LocalDateTime\r\n    ) {}\r\n\r\n    static copy(other: VariableError) {\r\n      return new VariableError(\r\n        VariableId.copy(other.contextId),\r\n        other.variableName,\r\n        other.error,\r\n        LocalDateTime.copy(other.timestamp));\r\n    }\r\n  }\r\n\r\n  export class ScreenLogEntry {\r\n    constructor(\r\n      readonly timestamp: number,\r\n      readonly logType: string,\r\n      readonly level: ScreenLogEntryLevel,\r\n      readonly message: string\r\n    ) {}\r\n\r\n    static copy(other: ScreenLogEntry) {\r\n      return new ScreenLogEntry(\r\n        other.timestamp,\r\n        other.logType,\r\n        ScreenLogEntryLevel.ofLevel(other.level.level),\r\n        other.message);\r\n    }\r\n  }\r\n\r\n  export class ScreenDebugInfo {\r\n    constructor(readonly logs: Array<ScreenLogEntry>,\r\n                readonly errors: Array<VariableError>,\r\n                readonly data: ObjectVariable) {\r\n    }\r\n\r\n    static copy(other: ScreenDebugInfo) {\r\n      return new ScreenDebugInfo(\r\n        other.logs.map(ScreenLogEntry.copy),\r\n        other.errors.map(VariableError.copy),\r\n        ObjectVariable.copy(other.data))\r\n    }\r\n  }\r\n\r\n  export class ScreenInstancesListUpdate {\r\n    constructor(readonly instances: Array<ScreenInstanceSummary>) {}\r\n    static copy(other: ScreenInstancesListUpdate) {\r\n      return new ScreenInstancesListUpdate(other.instances.map(ScreenInstanceSummary.copy));\r\n    }\r\n  }\r\n\r\n","import {ScreenId} from \"@libs/IdModel\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ApplicationComponentRef} from \"@screens\";\r\nimport {Either} from \"@libs/Either\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\n\r\nexport class AddedSpace {\r\n    constructor(public fromRem: number,\r\n                public sizeRem: number) {}\r\n  }\r\n\r\n\r\n  export class DimensionUnit {\r\n    constructor(readonly name: string) {}\r\n    static percentage = new DimensionUnit(\"percentage\");\r\n    static grid = new DimensionUnit(\"grid\");\r\n\r\n    static byName(name: string) {\r\n      switch(name) {\r\n        case DimensionUnit.percentage.name: return DimensionUnit.percentage;\r\n        case DimensionUnit.grid.name: return DimensionUnit.grid;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n\r\n    static copy(other: DimensionUnit) {\r\n      return DimensionUnit.byName(other.name);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class LabelPosition {\r\n    constructor(readonly name: string) {}\r\n\r\n    static top = new LabelPosition(\"top\");\r\n    static start = new LabelPosition(\"start\");\r\n    static bottom = new LabelPosition(\"bottom\");\r\n    static end = new LabelPosition(\"end\");\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case LabelPosition.top.name: return LabelPosition.top;\r\n        case \"left\": return LabelPosition.start;\r\n        case LabelPosition.start.name: return LabelPosition.start;\r\n        case LabelPosition.bottom.name: return LabelPosition.bottom;\r\n        case \"right\": return LabelPosition.end;\r\n        case LabelPosition.end.name: return LabelPosition.end;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n\r\n    isTop() {\r\n      return this.name == LabelPosition.top.name;\r\n    }\r\n\r\n    isStart() {\r\n      return this.name == LabelPosition.start.name;\r\n    }\r\n\r\n    isBottom() {\r\n      return this.name == LabelPosition.bottom.name;\r\n    }\r\n\r\n    isEnd() {\r\n      return this.name == LabelPosition.end.name;\r\n    }\r\n\r\n  }\r\n\r\n  export class TextAlign {\r\n    constructor(readonly name: string) {}\r\n\r\n    static start = new TextAlign(\"start\");\r\n    static center = new TextAlign(\"center\");\r\n    static end = new TextAlign(\"end\");\r\n    static justify = new TextAlign(\"justify\");\r\n    static DEFAULT = TextAlign.start;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case \"left\": return TextAlign.start;\r\n        case TextAlign.start.name: return TextAlign.start;\r\n        case TextAlign.center.name: return TextAlign.center;\r\n        case \"right\": return TextAlign.end;\r\n        case TextAlign.end.name: return TextAlign.end;\r\n        case TextAlign.justify.name: return TextAlign.justify;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: TextAlign) {\r\n      return TextAlign.byName(other.name);\r\n    }\r\n\r\n    isStart() {\r\n      return this.name === TextAlign.start.name || this.name == \"left\";\r\n    }\r\n    isCenter() {\r\n      return this.name === TextAlign.center.name;\r\n    }\r\n    isEnd() {\r\n      return this.name === TextAlign.end.name || this.name == \"right\";\r\n    }\r\n    isJustify() {\r\n      return this.name === TextAlign.justify.name;\r\n    }\r\n  }\r\n\r\n  export class TextVerticalAlign {\r\n    constructor(readonly name: string) {}\r\n\r\n    static top = new TextVerticalAlign(\"top\");\r\n    static center = new TextVerticalAlign(\"center\");\r\n    static bottom = new TextVerticalAlign(\"bottom\");\r\n    static DEFAULT = TextVerticalAlign.top;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case TextVerticalAlign.top.name: return TextVerticalAlign.top;\r\n        case TextVerticalAlign.center.name: return TextVerticalAlign.center;\r\n        case TextVerticalAlign.bottom.name: return TextVerticalAlign.bottom;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: TextVerticalAlign) {\r\n      return TextVerticalAlign.byName(other.name);\r\n    }\r\n\r\n    isTop() {\r\n      return this.name === TextVerticalAlign.top.name;\r\n    }\r\n    isCenter() {\r\n      return this.name === TextVerticalAlign.center.name;\r\n    }\r\n    isBottom() {\r\n      return this.name === TextVerticalAlign.bottom.name;\r\n    }\r\n  }\r\n\r\n\r\n  export class TextFont {\r\n    constructor(readonly name: string) {}\r\n\r\n    static defaultFont = new TextFont(\"defaultFont\");\r\n    /**\r\n     * @deprecated Use `defaultFont` instead.\r\n     */\r\n    static lato = new TextFont(\"lato\");\r\n    static times = new TextFont(\"times\");\r\n    static georgia = new TextFont(\"georgia\");\r\n    static courier = new TextFont(\"courier\");\r\n    static cursive = new TextFont(\"cursive\");\r\n\r\n    static DEFAULT = TextFont.defaultFont;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case TextFont.defaultFont.name: return TextFont.defaultFont;\r\n        case TextFont.lato.name: return TextFont.lato;\r\n        case TextFont.times.name: return TextFont.times;\r\n        case TextFont.georgia.name: return TextFont.georgia;\r\n        case TextFont.courier.name: return TextFont.courier;\r\n        case TextFont.cursive.name: return TextFont.cursive;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: TextFont) {\r\n      return TextFont.byName(other.name);\r\n    }\r\n\r\n\r\n    static getFontCss(fontText: string): string {\r\n      switch (fontText) {\r\n        case TextFont.defaultFont.name: return \"myDefaultFont, sans-serif\"\r\n        case TextFont.lato.name: return \"myDefaultFont, sans-serif\"\r\n        case TextFont.times.name: return \"'Times New Roman', serif\";\r\n        case TextFont.georgia.name: return \"Georgia, serif\";\r\n        case TextFont.courier.name: return \"'Courier New', monospace\";\r\n        case TextFont.cursive.name: return \"'Brush Script MT', cursive\";\r\n        default: throw new Error(\"Unsupported font [\" + fontText+\"]\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  export class LayoutType {\r\n    constructor(readonly name: string) {}\r\n\r\n    static static = new LayoutType(\"static\");\r\n    static vertical = new LayoutType(\"vertical\");\r\n    static horizontal = new LayoutType(\"horizontal\");\r\n    static grid = new LayoutType(\"grid\");\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case LayoutType.static.name: return LayoutType.static;\r\n        case LayoutType.vertical.name: return LayoutType.vertical;\r\n        case LayoutType.horizontal.name: return LayoutType.horizontal;\r\n        case LayoutType.grid.name: return LayoutType.grid;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: LayoutType) {\r\n      return LayoutType.byName(other.name);\r\n    }\r\n\r\n    isStatic() {\r\n      return this.name === LayoutType.static.name;\r\n    }\r\n    isVertical() {\r\n      return this.name === LayoutType.vertical.name;\r\n    }\r\n    isHorizontal() {\r\n      return this.name === LayoutType.horizontal.name;\r\n    }\r\n    isGrid() {\r\n      return this.name === LayoutType.grid.name;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class LayoutAlign {\r\n    constructor(readonly name: string) {}\r\n\r\n    static start = new LayoutAlign(\"start\");\r\n    static center = new LayoutAlign(\"center\");\r\n    static stretch = new LayoutAlign(\"stretch\");\r\n    static end = new LayoutAlign(\"end\");\r\n\r\n    static DEFAULT = LayoutAlign.stretch;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case LayoutAlign.start.name: return LayoutAlign.start;\r\n        case LayoutAlign.center.name: return LayoutAlign.center;\r\n        case LayoutAlign.stretch.name: return LayoutAlign.stretch;\r\n        case LayoutAlign.end.name: return LayoutAlign.end;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: LayoutAlign) {\r\n      return LayoutAlign.byName(other.name);\r\n    }\r\n\r\n    isStart() {\r\n      return this.name === LayoutAlign.start.name;\r\n    }\r\n    isStretch() {\r\n      return this.name === LayoutAlign.stretch.name;\r\n    }\r\n    isCenter() {\r\n      return this.name === LayoutAlign.center.name;\r\n    }\r\n    isEnd() {\r\n      return this.name === LayoutAlign.end.name;\r\n    }\r\n  }\r\n\r\n\r\n  export class LayoutWrap {\r\n    constructor(readonly name: string) {}\r\n\r\n    static wrap = new LayoutWrap(\"wrap\");\r\n    static noWrap = new LayoutWrap(\"noWrap\");\r\n\r\n    static DEFAULT = LayoutWrap.wrap;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case LayoutWrap.wrap.name: return LayoutWrap.wrap;\r\n        case LayoutWrap.noWrap.name: return LayoutWrap.noWrap;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: LayoutWrap) {\r\n      return LayoutWrap.byName(other.name);\r\n    }\r\n\r\n    isWrap() {\r\n      return this.name === LayoutWrap.wrap.name;\r\n    }\r\n    isNoWrap() {\r\n      return this.name === LayoutWrap.noWrap.name;\r\n    }\r\n  }\r\n\r\n\r\n  export class LayoutStretch {\r\n    constructor(readonly name: string) {}\r\n\r\n    static start = new LayoutStretch(\"start\");\r\n    static stretch = new LayoutStretch(\"stretch\");\r\n    static center = new LayoutStretch(\"center\");\r\n    static end = new LayoutStretch(\"end\");\r\n\r\n    static DEFAULT = LayoutStretch.stretch;\r\n\r\n    static byName(name: string) {\r\n      switch (name) {\r\n        case LayoutStretch.start.name: return LayoutStretch.start;\r\n        case LayoutStretch.stretch.name: return LayoutStretch.stretch;\r\n        case LayoutStretch.center.name: return LayoutStretch.center;\r\n        case LayoutStretch.end.name: return LayoutStretch.end;\r\n        default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n      }\r\n    }\r\n    static copy(other: LayoutStretch) {\r\n      return LayoutStretch.byName(other.name);\r\n    }\r\n\r\n    isStart() {\r\n      return this.name === LayoutStretch.start.name;\r\n    }\r\n    isStretch() {\r\n      return this.name === LayoutStretch.stretch.name;\r\n    }\r\n    isCenter() {\r\n      return this.name === LayoutStretch.center.name;\r\n    }\r\n    isEnd() {\r\n      return this.name === LayoutStretch.end.name;\r\n    }\r\n  }\r\n\r\n\r\nexport class ValidationRuleRef {\r\n  constructor(\r\n    public id: ValidationRuleRefId,\r\n    readonly applicationComponent: Option<ApplicationComponentRef>,\r\n    public ruleId: Either<ValidationRuleId, string>,\r\n    readonly stopOnError: boolean\r\n  ) {}\r\n\r\n  static copy(other: ValidationRuleRef) {\r\n    return new ValidationRuleRef(ValidationRuleRefId.copy(other.id),\r\n      Option.copy(other.applicationComponent, ApplicationComponentRef.copy),\r\n      Either.copy(other.ruleId, ValidationRuleId.copy, s => s),\r\n      other.stopOnError);\r\n  }\r\n}\r\n\r\nexport class ValidationMessageType {\r\n  constructor(readonly name: string) {}\r\n\r\n  static text = new ValidationMessageType(\"text\");\r\n  static expression = new ValidationMessageType(\"expression\");\r\n\r\n  static copy(other: ValidationMessageType) {\r\n    switch (other.name) {\r\n      case ValidationMessageType.text.name: return ValidationMessageType.text;\r\n      case ValidationMessageType.expression.name: return ValidationMessageType.expression;\r\n      default: throw new Error(\"Unsupported message type '\"+other.name+\"'\");\r\n    }\r\n  }\r\n\r\n  isExpression() {\r\n    return this.name == \"expression\";\r\n  }\r\n\r\n  isText() {\r\n    return this.name == \"text\";\r\n  }\r\n}\r\n\r\nexport class ValidationRuleId {\r\n  private readonly _ValidationRuleId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n  static copy(other: ValidationRuleId) {\r\n    return new ValidationRuleId(other.id);\r\n  }\r\n}\r\n\r\nexport class ValidationRuleRefId {\r\n  private readonly _ValidationRuleRefId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n  static copy(other: ValidationRuleRefId) {\r\n    return new ValidationRuleRefId(other.id);\r\n  }\r\n}\r\n\r\nexport class ValidationRule {\r\n  constructor(public id: ValidationRuleId,\r\n              readonly name: Option<string>,\r\n              readonly expression: string,\r\n              readonly messageType: ValidationMessageType,\r\n              readonly message: I18nText,\r\n              readonly messageExpression: string) {}\r\n\r\n  static copy(other: ValidationRule) {\r\n    return new ValidationRule(ValidationRuleId.copy(other.id), Option.copy(other.name), other.expression, ValidationMessageType.copy(other.messageType), I18nText.copy(other.message), other.messageExpression);\r\n  }\r\n}\r\n\r\nexport class ComponentPosition {\r\n  constructor(readonly x: number,\r\n              readonly y: number,\r\n              readonly width: number,\r\n              readonly height: number) {}\r\n\r\n  static of(x: number, y: number, width: number, height: number) {\r\n    return new ComponentPosition(x, y, width, height);\r\n  }\r\n\r\n  static zero() {\r\n    return new ComponentPosition(0, 0, 10, 2);\r\n  }\r\n\r\n  static copy(other: ComponentPosition) {\r\n    return new ComponentPosition(other.x, other.y, other.width, other.height);\r\n  }\r\n}\r\n\r\nexport class EntriesLayoutType {\r\n  constructor(readonly name: string) {}\r\n\r\n  static vertical = new EntriesLayoutType(\"vertical\");\r\n  static horizontal = new EntriesLayoutType(\"horizontal\");\r\n\r\n  static byName(name: string) {\r\n    switch (name) {\r\n      case EntriesLayoutType.vertical.name: return EntriesLayoutType.vertical;\r\n      case EntriesLayoutType.horizontal.name: return EntriesLayoutType.horizontal;\r\n      default: throw new Error(\"Unsupported value [\"+name+\"]\")\r\n    }\r\n  }\r\n\r\n  isVertical() {\r\n    return this.name == EntriesLayoutType.vertical.name;\r\n  }\r\n\r\n  isHorizontal() {\r\n    return this.name == EntriesLayoutType.horizontal.name;\r\n  }\r\n\r\n  static copy(other: EntriesLayoutType) {\r\n    return EntriesLayoutType.byName(other.name);\r\n  }\r\n}\r\n\r\nexport class ComponentErrorInfo {\r\n  constructor(readonly name: string,\r\n              readonly timestamp: Option<LocalDateTime>,\r\n              readonly message: string) {}\r\n}\r\n\r\nexport class ScreenComponentId {\r\n  private readonly _ScreenComponentId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n\r\n  static of(id: number) {\r\n    return new ScreenComponentId(id);\r\n  }\r\n\r\n  static copy(other: ScreenComponentId) {\r\n    return new ScreenComponentId(other.id);\r\n  }\r\n}\r\n\r\nexport class ScreenComponentRefId {\r\n  private readonly _ScreenComponentRefId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n\r\n  static ZERO = new ScreenComponentRefId(0);\r\n\r\n  constructor(readonly id: number) {}\r\n\r\n  static of(id: number) {\r\n    return new ScreenComponentRefId(id);\r\n  }\r\n\r\n  static copy(other: ScreenComponentRefId) {\r\n    return new ScreenComponentRefId(other.id);\r\n  }\r\n}\r\n\r\n\r\nexport class ScreenComponentIdInScreen {\r\n  private readonly _ScreenComponentIdInScreen: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly screenId: string,\r\n              readonly id: number) {}\r\n\r\n  static copy(other: ScreenComponentIdInScreen) {\r\n    return new ScreenComponentIdInScreen(other.screenId, other.id);\r\n  }\r\n\r\n  asMapKey() {\r\n    return this.screenId+\"|\"+this.id;\r\n  }\r\n\r\n  toScreenId() {\r\n    return new ScreenId(this.screenId);\r\n  }\r\n\r\n  toComponentId() {\r\n    return new ScreenComponentId(this.id);\r\n  }\r\n\r\n  equals(other: ScreenComponentIdInScreen) {\r\n    return this.id === other.id && this.screenId === other.screenId;\r\n  }\r\n\r\n  static ofIds(parentScreenId: ScreenId, id: ScreenComponentId) {\r\n    return new ScreenComponentIdInScreen(parentScreenId.id, id.id);\r\n  }\r\n}\r\n\r\n\r\nexport class ScreenComponentRefIdInScreen {\r\n  private readonly _ScreenComponentRefIdInScreen: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly screenId: string,\r\n              readonly id: number) {}\r\n\r\n  static copy(other: ScreenComponentRefIdInScreen) {\r\n    return new ScreenComponentRefIdInScreen(other.screenId, other.id);\r\n  }\r\n\r\n  asMapKey() {\r\n    return this.screenId+\"|\"+this.id;\r\n  }\r\n\r\n  toScreenId() {\r\n    return new ScreenId(this.screenId);\r\n  }\r\n\r\n  toComponentRefId() {\r\n    return new ScreenComponentRefId(this.id);\r\n  }\r\n\r\n  static ofIds(parentScreenId: ScreenId, refId: ScreenComponentRefId) {\r\n    return new ScreenComponentRefIdInScreen(parentScreenId.id, refId.id);\r\n  }\r\n\r\n  static of(parentScreenId: string, refId: ScreenComponentRefId) {\r\n    return new ScreenComponentRefIdInScreen(parentScreenId, refId.id);\r\n  }\r\n\r\n  equals(other: ScreenComponentRefIdInScreen) {\r\n    return other.id === this.id && other.screenId === this.screenId;\r\n  }\r\n}\r\n\r\nexport enum PropertyType {\r\n  None,\r\n  String,\r\n  OptionalString,\r\n  Number,\r\n  OptionalNumber,\r\n  Boolean,\r\n  OptionalBoolean,\r\n  Trilean,\r\n  I18nText,\r\n  OptionalI18nText,\r\n  Date,\r\n  OptionalDate,\r\n  Time,\r\n  OptionalTime,\r\n  DateTime,\r\n  OptionalDateTime,\r\n  Duration,\r\n  OptionalDuration,\r\n  File,\r\n  OptionalFile,\r\n  Model,\r\n  OptionalModel,\r\n  LabeledValues,\r\n  OptionalOrganizationNodes,\r\n  OptionalStringArray,\r\n\r\n}\r\n\r\nexport class ScreenAuthorizationType {\r\n\r\n  constructor(readonly name: string) {}\r\n\r\n  static copy(other: ScreenAuthorizationType) {\r\n    return new ScreenAuthorizationType(other.name);\r\n  }\r\n\r\n  static user = new ScreenAuthorizationType(\"user\");\r\n  static screen = new ScreenAuthorizationType(\"screen\");\r\n\r\n}\r\n\r\n\r\nexport class AutomaticVariableMode {\r\n  constructor(readonly name: string) {}\r\n  static bind = new AutomaticVariableMode(\"bind\");\r\n  static init = new AutomaticVariableMode(\"init\");\r\n\r\n  static byName(name: string) {\r\n    switch (name) {\r\n      case AutomaticVariableMode.bind.name: return AutomaticVariableMode.bind;\r\n      case AutomaticVariableMode.init.name: return AutomaticVariableMode.init;\r\n      default: throw new Error(\"Incorrect mode [\"+name+\"]\");\r\n    }\r\n  }\r\n\r\n  isInit() {\r\n    return this.name == AutomaticVariableMode.init.name;\r\n  }\r\n\r\n  isBind() {\r\n    return this.name == AutomaticVariableMode.bind.name;\r\n  }\r\n}\r\n\r\n\r\nexport class ScreenLifeMode {\r\n  constructor(readonly name: string) {}\r\n\r\n  static volatile = new ScreenLifeMode(\"volatile\");\r\n  static singleInstance = new ScreenLifeMode(\"singleInstance\");\r\n  static multipleInstances = new ScreenLifeMode(\"multipleInstances\");\r\n\r\n  static copy(other: ScreenLifeMode) {\r\n    switch (other.name) {\r\n      case ScreenLifeMode.volatile.name: return ScreenLifeMode.volatile;\r\n      case ScreenLifeMode.singleInstance.name: return ScreenLifeMode.singleInstance;\r\n      case ScreenLifeMode.multipleInstances.name: return ScreenLifeMode.multipleInstances;\r\n      default: throw new Error(\"Unsupported life mode '\"+other.name+\"'\");\r\n    }\r\n  }\r\n\r\n  isVolatile() {\r\n    return this.name === ScreenLifeMode.volatile.name;\r\n  }\r\n  isSingleInstance() {\r\n    return this.name === ScreenLifeMode.singleInstance.name;\r\n  }\r\n  isMultipleInstances() {\r\n    return this.name === ScreenLifeMode.multipleInstances.name;\r\n  }\r\n}\r\n","import {\r\n  ApplicationComponentRef,\r\n  AutomaticActionRef,\r\n  BooleanProperty,\r\n  ButtonComponentDefinition,\r\n  ButtonComponentRef,\r\n  ComponentErrorInfo,\r\n  ComponentProperty,\r\n  ComponentPropertyFactory,\r\n  ComponentValidationError,\r\n  ComponentValidationErrorFactory,\r\n  DateProperty,\r\n  DateInputComponentDefinition,\r\n  DateInputComponentRefState,\r\n  DateTimeProperty, DropListComponentDefinition, DropListComponentRef,\r\n  DurationProperty,\r\n  FileProperty, HtmlComponentDefinition, HtmlComponentRef,\r\n  I18nTextProperty,\r\n  ImageComponentDefinition,\r\n  ImageComponentRef,\r\n  LabelComponentDefinition,\r\n  LabelComponentRef,\r\n  LabeledValuesProperty,\r\n  LabelPosition,\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  LayoutWrap, LinkComponentDefinition, LinkComponentRef, MapComponentDefinition, MapComponentRef,\r\n  ModelProperty, MultiAttachmentInputComponentDefinition, MultiAttachmentInputComponentRef,\r\n  MultiCheckboxComponentDefinition,\r\n  MultiCheckboxComponentRef,\r\n  NumberInputComponentDefinition,\r\n  NumberInputComponentRef,\r\n  NumberProperty,\r\n  OptionalBooleanProperty,\r\n  OptionalComponentProperty,\r\n  OptionalDateProperty,\r\n  OptionalDateTimeProperty,\r\n  OptionalDurationProperty,\r\n  OptionalFileProperty,\r\n  OptionalI18nTextProperty,\r\n  OptionalModelProperty,\r\n  OptionalNumberProperty,\r\n  OptionalOrganizationNodesProperty,\r\n  OptionalStringArrayProperty,\r\n  OptionalStringProperty,\r\n  OptionalTimeProperty,\r\n  PasswordInputComponentDefinition,\r\n  PasswordInputComponentRef,\r\n  PropertyTry,\r\n  PropertyType,\r\n  PropertyValueError,\r\n  RadioButtonComponentDefinition,\r\n  RadioButtonComponentRef,\r\n  RepeatableContainerDefinition,\r\n  RepeatableContainerRef,\r\n  ScreenComponentId,\r\n  ScreenComponentIdInScreen,\r\n  ScreenComponentRefId,\r\n  ScreenComponentRefIdInScreen,\r\n  ScreenComponentRefState,\r\n  ScreenComponentRefStateFactory,\r\n  ScreenComponentState,\r\n  ScreenComponentStateFactory,\r\n  ScreenEventBus,\r\n  SectionContainerDefinition,\r\n  SectionContainerRef, SingleAttachmentInputComponentDefinition, SingleAttachmentInputComponentRef,\r\n  SingleCheckboxComponentDefinition,\r\n  SingleCheckboxComponentRef,\r\n  SkinPrototype,\r\n  SkinsPropertiesProvider,\r\n  StringProperty, SwitchComponentDefinition, SwitchComponentRef, TabsContainerDefinition, TabsContainerRef,\r\n  TextAlign,\r\n  TextFont,\r\n  TextInputComponentDefinition,\r\n  TextInputComponentRef,\r\n  TextVerticalAlign,\r\n  TimeProperty,\r\n  TrileanProperty,\r\n  ValidationRule,\r\n  ValidationRuleId,\r\n  ValidationRuleRef, DateInputComponentRef,\r\n  TableContainerDefinition, TableContainerRef\r\n} from \"@screens\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {ScreenId, VariableId} from \"@libs/IdModel\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {AutomaticAction, AutomaticActionFactory} from \"@libs/ActionsModel\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {\r\n  ArrayVariable,\r\n  BooleanVariable,\r\n  BusinessVariable,\r\n  BusinessVariableFactory,\r\n  DateTimeVariable,\r\n  DateVariable,\r\n  DepartmentVariable,\r\n  FileVariableV2,\r\n  GroupVariable,\r\n  I18nTextVariable,\r\n  IntervalVariable,\r\n  NullVariable,\r\n  NumberVariable,\r\n  ObjectVariable,\r\n  PasswordVariable,\r\n  PersonVariable,\r\n  StringVariable,\r\n  TimeVariable\r\n} from \"@libs/ProcessVariables\";\r\nimport {Duration, LocalDate, LocalDateTime, LocalTime} from \"@libs/Types\";\r\nimport {FileProtocol, FileUri} from \"@libs/FileUri\";\r\nimport {clearArray, overwriteArray} from \"@libs/Collections\";\r\nimport {OrganizationNodeId, PersonId} from \"@libs/OrganizationIdsModel\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {VariablePath} from \"@libs/VariablePath\";\r\nimport {Trilean} from \"@libs/Trilean\";\r\n\r\n\r\nexport class OtherScreenComponents {\r\n  constructor(readonly screenId: ScreenId,\r\n              readonly components: ScreenComponents) {\r\n  }\r\n}\r\n\r\nexport class ScreenComponents {\r\n\r\n  constructor(private definitions: Array<[number, Typed<ScreenComponentDefinition>]>,\r\n              private refs: Array<[number, Typed<ScreenComponentRef>]>,\r\n              readonly actions: Array<[number, Typed<AutomaticAction>]>,\r\n              readonly validationRules: Array<[number, ValidationRule]>) {\r\n  }\r\n\r\n  getDefinition(componentId: ScreenComponentId): ScreenComponentDefinition {\r\n    const found = __(this.definitions).find(d => Typed.value(d[1]).id.id == componentId.id);\r\n    if (found.isDefined()) {\r\n      return Typed.value(found.get()[1]);\r\n    } else {\r\n      throw new Error(\"Component definition not found for id \" + componentId.id);\r\n    }\r\n  }\r\n\r\n\r\n  findDefinition(componentId: ScreenComponentId): Option<ScreenComponentDefinition> {\r\n    const found = __(this.definitions).find(d => Typed.value(d[1]).id.id == componentId.id);\r\n    if (found.isDefined()) {\r\n      return Some(Typed.value(found.get()[1]));\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  getRef(componentRefId: ScreenComponentRefId): ScreenComponentRef {\r\n    const found = __(this.refs).find(d => Typed.value(d[1]).id.id == componentRefId.id);\r\n    if (found.isDefined()) {\r\n      return Typed.value(found.get()[1]);\r\n    } else {\r\n      throw new Error(\"Component ref not found for id \" + componentRefId.id);\r\n    }\r\n  }\r\n\r\n  findComponent(componentId: ScreenComponentId): Option<ScreenComponentRef> {\r\n    const found = __(this.refs).find(d => Typed.value(d[1]).componentId.id == componentId.id);\r\n    if (found.isDefined()) {\r\n      return Option.of(Typed.value(found.get()[1]));\r\n    } else {\r\n      return None();\r\n    }\r\n  }\r\n\r\n  getRemoteScreenIds(): Array<ScreenId> {\r\n    return __(this.refs.filter(r => Typed.value(r[1]).applicationScreen.isDefined()).map(r => Typed.value(r[1]).applicationScreen.get())).uniqueBy(id => id.id);\r\n  }\r\n\r\n  actionsUnwrapped() {\r\n    return this.actions.map(a => Typed.value(a[1]));\r\n  }\r\n\r\n\r\n  static copy(other: ScreenComponents) {\r\n    return new ScreenComponents(\r\n      other.definitions.map((a: [number, Typed<ScreenComponentDefinition>]) => <[number, Typed<ScreenComponentDefinition>]>[a[0], ScreenComponentDefinitionFactory.copyTyped(a[1])]),\r\n      other.refs.map((a: [number, Typed<ScreenComponentRef>]) => <[number, Typed<ScreenComponentRef>]>[a[0], ScreenComponentRefFactory.copyTyped(a[1])]),\r\n      other.actions.map((a: [number, Typed<AutomaticAction>]) => <[number, Typed<AutomaticAction>]>[a[0], AutomaticActionFactory.copyTyped(a[1])]),\r\n      other.validationRules.map((a: [number, ValidationRule]) => <[number, ValidationRule]>[a[0], ValidationRule.copy(a[1])])\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class DefaultPropertyProvider {\r\n  constructor(readonly providerName: string,\r\n              readonly properties: ((name: string) => ComponentProperty<any> | null) | null,\r\n              readonly propertiesSerialized: ((name: string, propertyType: PropertyType) => ComponentProperty<any> | null) | null,\r\n              readonly fallbacks: Array<DefaultPropertyProvider>) {\r\n  }\r\n\r\n  // static constant(returnValue: () => ComponentProperty<any>) {\r\n  //   return new DefaultPropertyProvider(\"noop\", name => returnValue(), null, []);\r\n  // }\r\n  //\r\n  // static noop = new DefaultPropertyProvider(\"noop\", name => null, null, []);\r\n\r\n  private get(propertyName: string, propertyType: PropertyType): ComponentProperty<any> | null {\r\n    const defaultValue = this.properties !== null ?\r\n      this.properties(propertyName) : (this.propertiesSerialized !== null ? this.propertiesSerialized(propertyName, propertyType) : null);\r\n    if (defaultValue !== null) {\r\n      return defaultValue;\r\n    } else {\r\n      for (let i = 0; i < this.fallbacks.length; i++) {\r\n        const value = this.fallbacks[i].getIfExistsOrNull(propertyName);\r\n        if (value != null) {\r\n          return value;\r\n        }\r\n      }\r\n      return null;\r\n      // throw new Error(\"Provider \"+this.providerName+\": property [\"+propertyName+\"] not found\");\r\n    }\r\n  }\r\n\r\n  getOptionalStringProperty(propertyName: string): OptionalStringProperty | null {\r\n    return <OptionalStringProperty | null>this.get(propertyName, PropertyType.OptionalString);\r\n  }\r\n\r\n  getStringProperty(propertyName: string): StringProperty {\r\n    return <StringProperty>this.get(propertyName, PropertyType.String);\r\n  }\r\n\r\n  getOptionalNumberProperty(propertyName: string): OptionalNumberProperty {\r\n    return <OptionalNumberProperty>this.get(propertyName, PropertyType.OptionalNumber);\r\n  }\r\n\r\n  getNumberProperty(propertyName: string): NumberProperty {\r\n    return <NumberProperty>this.get(propertyName, PropertyType.Number);\r\n  }\r\n\r\n  getOptionalBooleanProperty(propertyName: string): OptionalBooleanProperty {\r\n    return <OptionalBooleanProperty>this.get(propertyName, PropertyType.OptionalBoolean);\r\n  }\r\n\r\n  getBooleanProperty(propertyName: string): BooleanProperty {\r\n    return <BooleanProperty>this.get(propertyName, PropertyType.Boolean);\r\n  }\r\n\r\n  getTrileanProperty(propertyName: string): TrileanProperty {\r\n    return <TrileanProperty>this.get(propertyName, PropertyType.Trilean);\r\n  }\r\n\r\n  getDateProperty(propertyName: string): DateProperty {\r\n    return <DateProperty>this.get(propertyName, PropertyType.Date);\r\n  }\r\n\r\n  getI18nTextProperty(propertyName: string): I18nTextProperty {\r\n    return <I18nTextProperty>this.get(propertyName, PropertyType.I18nText);\r\n  }\r\n\r\n  getDateTimeProperty(propertyName: string): DateTimeProperty {\r\n    return <DateTimeProperty>this.get(propertyName, PropertyType.DateTime);\r\n  }\r\n\r\n  getTimeProperty(propertyName: string): TimeProperty {\r\n    return <TimeProperty>this.get(propertyName, PropertyType.Time);\r\n  }\r\n\r\n  getFileProperty(propertyName: string): FileProperty {\r\n    return <FileProperty>this.get(propertyName, PropertyType.File);\r\n  }\r\n\r\n  getOptionalFileProperty(propertyName: string): OptionalFileProperty {\r\n    return <OptionalFileProperty>this.get(propertyName, PropertyType.OptionalFile);\r\n  }\r\n\r\n  getModelProperty(propertyName: string): ModelProperty {\r\n    return <ModelProperty>this.get(propertyName, PropertyType.Model);\r\n  }\r\n\r\n  getOptionalModel(propertyName: string): OptionalModelProperty {\r\n    return <OptionalModelProperty>this.get(propertyName, PropertyType.OptionalModel);\r\n  }\r\n\r\n  getAnyModelProperty(propertyName: string): ModelProperty | OptionalModelProperty {\r\n    return <ModelProperty | OptionalModelProperty>this.get(propertyName, PropertyType.Model);\r\n  }\r\n\r\n  getOptionalI18nProperty(propertyName: string): OptionalI18nTextProperty {\r\n    return <OptionalI18nTextProperty>this.get(propertyName, PropertyType.OptionalI18nText);\r\n  }\r\n\r\n  getOptionalDateProperty(propertyName: string): OptionalDateProperty {\r\n    return <OptionalDateProperty>this.get(propertyName, PropertyType.OptionalDate);\r\n  }\r\n\r\n  getOptionalDateTimeProperty(propertyName: string): OptionalDateTimeProperty {\r\n    return <OptionalDateTimeProperty>this.get(propertyName, PropertyType.OptionalDateTime);\r\n  }\r\n\r\n  getOptionalTimeProperty(propertyName: string): OptionalTimeProperty {\r\n    return <OptionalTimeProperty>this.get(propertyName, PropertyType.OptionalTime);\r\n  }\r\n\r\n  getOptionalDurationProperty(propertyName: string): OptionalDurationProperty {\r\n    return <OptionalDurationProperty>this.get(propertyName, PropertyType.OptionalDuration);\r\n  }\r\n\r\n  getLabeledValuesProperty(propertyName: string): LabeledValuesProperty {\r\n    return <LabeledValuesProperty>this.get(propertyName, PropertyType.LabeledValues);\r\n  }\r\n\r\n  getOptionalOrganizationNodesProperty(propertyName: string): OptionalOrganizationNodesProperty {\r\n    return <OptionalOrganizationNodesProperty>this.get(propertyName, PropertyType.OptionalOrganizationNodes);\r\n  }\r\n\r\n  getOptionalStringArrayProperty(propertyName: string): OptionalStringArrayProperty {\r\n    return <OptionalStringArrayProperty>this.get(propertyName, PropertyType.OptionalStringArray);\r\n  }\r\n\r\n\r\n  /*****************/\r\n\r\n  getOptionalStringPropertyIfExists(propertyName: string): Option<OptionalStringProperty> {\r\n    return <Option<OptionalStringProperty>>this.getIfExists(propertyName, PropertyType.OptionalString);\r\n  }\r\n\r\n  getStringPropertyIfExists(propertyName: string): Option<StringProperty> {\r\n    return <Option<StringProperty>>this.getIfExists(propertyName, PropertyType.String);\r\n  }\r\n\r\n  getOptionalNumberPropertyIfExists(propertyName: string): Option<OptionalNumberProperty> {\r\n    return <Option<OptionalNumberProperty>>this.getIfExists(propertyName, PropertyType.OptionalNumber);\r\n  }\r\n\r\n  getNumberPropertyIfExists(propertyName: string): Option<NumberProperty> {\r\n    return <Option<NumberProperty>>this.getIfExists(propertyName, PropertyType.Number);\r\n  }\r\n\r\n  getOptionalBooleanPropertyIfExists(propertyName: string): Option<OptionalBooleanProperty> {\r\n    return <Option<OptionalBooleanProperty>>this.getIfExists(propertyName, PropertyType.OptionalBoolean);\r\n  }\r\n\r\n  getBooleanPropertyIfExists(propertyName: string): Option<BooleanProperty> {\r\n    return <Option<BooleanProperty>>this.getIfExists(propertyName, PropertyType.Boolean);\r\n  }\r\n\r\n  getTrileanPropertyIfExists(propertyName: string): Option<TrileanProperty> {\r\n    return <Option<TrileanProperty>>this.getIfExists(propertyName, PropertyType.Trilean);\r\n  }\r\n\r\n  getDatePropertyIfExists(propertyName: string): Option<DateProperty> {\r\n    return <Option<DateProperty>>this.getIfExists(propertyName, PropertyType.Date);\r\n  }\r\n\r\n  getI18nTextPropertyIfExists(propertyName: string): Option<I18nTextProperty> {\r\n    return <Option<I18nTextProperty>>this.getIfExists(propertyName, PropertyType.I18nText);\r\n  }\r\n\r\n  getDateTimePropertyIfExists(propertyName: string): Option<DateTimeProperty> {\r\n    return <Option<DateTimeProperty>>this.getIfExists(propertyName, PropertyType.DateTime);\r\n  }\r\n\r\n  getTimePropertyIfExists(propertyName: string): Option<TimeProperty> {\r\n    return <Option<TimeProperty>>this.getIfExists(propertyName, PropertyType.Time);\r\n  }\r\n\r\n  getFilePropertyIfExists(propertyName: string): Option<FileProperty> {\r\n    return <Option<FileProperty>>this.getIfExists(propertyName, PropertyType.File);\r\n  }\r\n\r\n  getOptionalFilePropertyIfExists(propertyName: string): Option<OptionalFileProperty> {\r\n    return <Option<OptionalFileProperty>>this.getIfExists(propertyName, PropertyType.OptionalFile);\r\n  }\r\n\r\n  getModelPropertyIfExists(propertyName: string): Option<ModelProperty> {\r\n    return <Option<ModelProperty>>this.getIfExists(propertyName, PropertyType.Model);\r\n  }\r\n\r\n  getOptionalModelPropertyIfExists(propertyName: string): Option<OptionalModelProperty> {\r\n    return <Option<OptionalModelProperty>>this.getIfExists(propertyName, PropertyType.Model);\r\n  }\r\n\r\n  getAnyModelPropertyIfExists(propertyName: string): Option<ModelProperty | OptionalModelProperty> {\r\n    return <Option<ModelProperty | OptionalModelProperty>>this.getIfExists(propertyName, PropertyType.Model);\r\n  }\r\n\r\n  getOptionalI18nTextPropertyIfExists(propertyName: string): Option<OptionalI18nTextProperty> {\r\n    return <Option<OptionalI18nTextProperty>>this.getIfExists(propertyName, PropertyType.OptionalI18nText);\r\n  }\r\n\r\n  getOptionalDatePropertyIfExists(propertyName: string): Option<OptionalDateProperty> {\r\n    return <Option<OptionalDateProperty>>this.getIfExists(propertyName, PropertyType.OptionalDate);\r\n  }\r\n\r\n  getOptionalDateTimePropertyIfExists(propertyName: string): Option<OptionalDateTimeProperty> {\r\n    return <Option<OptionalDateTimeProperty>>this.getIfExists(propertyName, PropertyType.OptionalDateTime);\r\n  }\r\n\r\n  getOptionalTimePropertyIfExists(propertyName: string): Option<OptionalTimeProperty> {\r\n    return <Option<OptionalTimeProperty>>this.getIfExists(propertyName, PropertyType.OptionalTime);\r\n  }\r\n\r\n  getDurationPropertyIfExists(propertyName: string): Option<DurationProperty> {\r\n    return <Option<DurationProperty>>this.getIfExists(propertyName, PropertyType.Duration);\r\n  }\r\n\r\n  getOptionalDurationPropertyIfExists(propertyName: string): Option<OptionalDurationProperty> {\r\n    return <Option<OptionalDurationProperty>>this.getIfExists(propertyName, PropertyType.OptionalDuration);\r\n  }\r\n\r\n  getLabeledValuesPropertyIfExists(propertyName: string): Option<LabeledValuesProperty> {\r\n    return <Option<LabeledValuesProperty>>this.getIfExists(propertyName, PropertyType.LabeledValues);\r\n  }\r\n\r\n  getOptionalOrganizationNodesPropertyIfExists(propertyName: string): Option<OptionalOrganizationNodesProperty> {\r\n    return <Option<OptionalOrganizationNodesProperty>>this.getIfExists(propertyName, PropertyType.OptionalOrganizationNodes);\r\n  }\r\n\r\n  getOptionalStringArrayPropertyIfExists(propertyName: string): Option<OptionalStringArrayProperty> {\r\n    return <Option<OptionalStringArrayProperty>>this.getIfExists(propertyName, PropertyType.OptionalStringArray);\r\n  }\r\n\r\n\r\n  getIfExistsOrNull(propertyName: string): ComponentProperty<any> | null {\r\n    const defaultValue = this.properties !== null ?\r\n      this.properties(propertyName) : (this.propertiesSerialized !== null ? this.propertiesSerialized(propertyName, PropertyType.None) : null);\r\n    if (defaultValue != null) {\r\n      return defaultValue;\r\n    } else {\r\n      for (let i = 0; i < this.fallbacks.length; i++) {\r\n        const value = this.fallbacks[i].getIfExistsOrNull(propertyName);\r\n        if (value != null) {\r\n          return value;\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  getIfExists(propertyName: string, propertyType: PropertyType): Option<ComponentProperty<any>> {\r\n    const defaultValue = this.properties !== null ?\r\n      this.properties(propertyName) : (this.propertiesSerialized !== null ? this.propertiesSerialized(propertyName, propertyType) : null);\r\n    if (defaultValue != null) {\r\n      return Some(defaultValue);\r\n    } else {\r\n      for (let i = 0; i < this.fallbacks.length; i++) {\r\n        const value = this.fallbacks[i].getIfExistsOrNull(propertyName);\r\n        if (value != null) {\r\n          return Some(value);\r\n        }\r\n      }\r\n      return None();\r\n    }\r\n  }\r\n\r\n  static ofFallbacks(providerName: string, ...fallbacks: Array<DefaultPropertyProvider>) {\r\n    return new DefaultPropertyProvider(providerName, null, null, fallbacks);\r\n  }\r\n\r\n  static of(providerName: string, properties: (propertyName: string) => ComponentProperty<any> | null, ...fallbacks: Array<DefaultPropertyProvider>) {\r\n    return new DefaultPropertyProvider(providerName, properties, null, fallbacks);\r\n  }\r\n\r\n  static ofSkins(skinsPropertiesProvider: SkinsPropertiesProvider, ...fallbacks: Array<DefaultPropertyProvider>) {\r\n    return new DefaultPropertyProvider(\"skins\", null, (propertyName: string, propertyType: PropertyType) => {\r\n      return skinsPropertiesProvider.getIfExists(propertyName, propertyType).getOrNull()\r\n    }, fallbacks);\r\n  }\r\n\r\n\r\n  static ref: DefaultPropertyProvider = DefaultPropertyProvider.of(\"ref\", (name: string) => {\r\n    switch (name) {\r\n      case \"enabled\":\r\n        return BooleanProperty.ofTrue(); // enabled is deprecated\r\n      case \"uncovered\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"visible\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"editable\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"preview\":\r\n        return OptionalBooleanProperty.disabled(true);\r\n      case \"desiredWidth\":\r\n        return OptionalStringProperty.disabled(\"4cm\");\r\n      case \"desiredHeight\":\r\n        return OptionalStringProperty.disabled(\"2cm\");\r\n      case \"left\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"top\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"right\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"bottom\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"column\":\r\n        return OptionalNumberProperty.disabled(1);\r\n      case \"row\":\r\n        return OptionalNumberProperty.disabled(1);\r\n      case \"columnSpan\":\r\n        return NumberProperty.of(1);\r\n      case \"rowSpan\":\r\n        return NumberProperty.of(1);\r\n      case \"marginTop\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"marginLeft\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"marginBottom\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      case \"marginRight\":\r\n        return OptionalStringProperty.disabled(\"0cm\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static refRequiredInput: DefaultPropertyProvider = DefaultPropertyProvider.of(\"refRequiredInput\", (name: string) => {\r\n    switch (name) {\r\n      case \"required\":\r\n        return BooleanProperty.ofFalse();\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static containerPaddings: DefaultPropertyProvider = DefaultPropertyProvider.of(\"containerPaddings\", (name: string) => {\r\n    switch (name) {\r\n      case \"paddingTop\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingLeft\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingBottom\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingRight\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionPaddings: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionPaddings\", (name: string) => {\r\n    switch (name) {\r\n      case \"paddingTop\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingLeft\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingBottom\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"paddingRight\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionBackgrounds: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionBackgrounds\", (name: string) => {\r\n    switch (name) {\r\n      case \"backgroundColor\":\r\n        return OptionalStringProperty.disabled(\"#ffffffff\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionEntriesLayout: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionEntriesLayout\", (name: string) => {\r\n    switch (name) {\r\n      case \"entriesLayout\":\r\n        return StringProperty.of(\"vertical\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionBorders: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionBorders\", (name: string) => {\r\n    switch (name) {\r\n      case \"borderTop\":\r\n        return OptionalStringProperty.disabled(\"1px\")\r\n      case \"borderLeft\":\r\n        return OptionalStringProperty.disabled(\"1px\")\r\n      case \"borderBottom\":\r\n        return OptionalStringProperty.disabled(\"1px\")\r\n      case \"borderRight\":\r\n        return OptionalStringProperty.disabled(\"1px\")\r\n      case \"borderRadius\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\")\r\n      case \"borderColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"borderColorTop\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"borderColorLeft\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"borderColorBottom\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"borderColorRight\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"outerShadow\":\r\n        return BooleanProperty.ofFalse();\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionComponent: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionComponent\", (name: string) => {\r\n    switch (name) {\r\n      case \"label\":\r\n        return OptionalI18nTextProperty.of(I18nText.empty());\r\n      case \"enabled\":\r\n        return BooleanProperty.ofTrue(); // enabled is deprecated\r\n      case \"uncovered\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"visible\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"editable\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"customCss\":\r\n        return OptionalStringProperty.disabled(\"\");\r\n      case \"customIdentifier\":\r\n        return OptionalStringProperty.disabled(\"\");\r\n      case \"componentClass\":\r\n        return StringProperty.of(\"$default\");\r\n      case \"componentSkin\":\r\n        return OptionalStringProperty.disabled(\"\");\r\n      case \"cssClass\":\r\n        return OptionalStringProperty.disabled(\"\");\r\n      case \"contentMinWidth\":\r\n        return OptionalStringProperty.disabled(\"1cm\");\r\n      case \"contentMinHeight\":\r\n        return OptionalStringProperty.disabled(\"1cm\");\r\n      case \"maxWidth\":\r\n        return OptionalStringProperty.disabled(\"8cm\");\r\n      case \"maxHeight\":\r\n        return OptionalStringProperty.disabled(\"8cm\");\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static containerPlain: DefaultPropertyProvider = DefaultPropertyProvider.of(\"plainContainer\", (name: string) => {\r\n    switch (name) {\r\n      case \"header\":\r\n        return OptionalI18nTextProperty.of(I18nText.empty());\r\n      case \"gapColumn\":\r\n        return OptionalStringProperty.of(\"0.5cm\");\r\n      case \"gapRow\":\r\n        return OptionalStringProperty.of(\"0.5cm\");\r\n      case \"contentTextSize\":\r\n        return OptionalStringProperty.disabled(\"13px\");\r\n      case \"contentTextColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"contentTextFont\":\r\n        return OptionalStringProperty.disabled(TextFont.DEFAULT.name);\r\n      case \"layout\":\r\n        return StringProperty.of(LayoutType.horizontal.name);\r\n      case \"layoutAlign\":\r\n        return StringProperty.of(LayoutAlign.DEFAULT.name);\r\n      case \"layoutStretch\":\r\n        return StringProperty.of(LayoutStretch.DEFAULT.name);\r\n      case \"layoutWrap\":\r\n        return StringProperty.of(LayoutWrap.DEFAULT.name);\r\n      case \"editable\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"preview\":\r\n        return OptionalBooleanProperty.disabled(true);\r\n      case \"visible\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"enabled\":\r\n        return BooleanProperty.ofTrue(); // enabled is used e.g. in tabs\r\n      case \"uncovered\":\r\n        return BooleanProperty.ofTrue();\r\n      case \"rows\":\r\n        return NumberProperty.of(2);\r\n      case \"columns\":\r\n        return NumberProperty.of(2);\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionText: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionText\", (name: string) => {\r\n    switch (name) {\r\n      case \"textSize\":\r\n        return OptionalStringProperty.disabled(\"13px\");\r\n      case \"textColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"textAlign\":\r\n        return StringProperty.of(TextAlign.DEFAULT.name);\r\n      case \"textVerticalAlign\":\r\n        return StringProperty.of(TextVerticalAlign.DEFAULT.name);\r\n      case \"textFont\":\r\n        return OptionalStringProperty.disabled(TextFont.DEFAULT.name);\r\n      case \"bold\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"italic\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"underline\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"lineThrough\":\r\n        return BooleanProperty.ofFalse();\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionTooltip: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionTooltip\", (name: string) => {\r\n    switch (name) {\r\n      case \"tooltip\":\r\n        return OptionalI18nTextProperty.disabled();\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionLabel: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionLabel\", (name: string) => {\r\n    switch (name) {\r\n      case \"labelPosition\":\r\n        return StringProperty.of(LabelPosition.top.name);\r\n      case \"labelSize\":\r\n        return OptionalStringProperty.disabled(\"13px\");\r\n      case \"labelX\":\r\n        return StringProperty.of(\"0cm\");\r\n      case \"labelY\":\r\n        return StringProperty.of(\"0cm\");\r\n      case \"labelWidth\":\r\n        return OptionalStringProperty.disabled(\"5cm\");\r\n      case \"labelHeight\":\r\n        return OptionalStringProperty.disabled(\"2cm\");\r\n      case \"labelColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"labelAlign\":\r\n        return OptionalStringProperty.disabled(TextAlign.DEFAULT.name);\r\n      case \"labelVerticalAlign\":\r\n        return OptionalStringProperty.disabled(TextVerticalAlign.DEFAULT.name);\r\n      case \"labelFont\":\r\n        return OptionalStringProperty.disabled(TextFont.DEFAULT.name);\r\n      case \"labelBold\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"labelItalic\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"labelUnderline\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"labelLineThrough\":\r\n        return BooleanProperty.ofFalse();\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n\r\n  static definitionSectionHeader: DefaultPropertyProvider = DefaultPropertyProvider.of(\"definitionSectionHeader\", (name: string) => {\r\n    switch (name) {\r\n      case \"headerTextSize\":\r\n        return OptionalStringProperty.disabled(\"13px\");\r\n      case \"headerTextColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"headerTextAlign\":\r\n        return OptionalStringProperty.disabled(TextAlign.DEFAULT.name);\r\n      case \"headerTextVerticalAlign\":\r\n        return OptionalStringProperty.disabled(TextVerticalAlign.center.name);\r\n      case \"headerTextFont\":\r\n        return OptionalStringProperty.disabled(TextAlign.DEFAULT.name);\r\n      case \"headerTextBold\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"headerTextItalic\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"headerTextUnderline\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"headerTextLineThrough\":\r\n        return BooleanProperty.ofFalse();\r\n      case \"headerBackgroundColor\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"headerMinHeight\":\r\n        return OptionalStringProperty.disabled(\"1cm\");\r\n\r\n      case \"headerBorderTop\":\r\n        return OptionalStringProperty.disabled(\"1px\");\r\n      case \"headerBorderLeft\":\r\n        return OptionalStringProperty.disabled(\"1px\");\r\n      case \"headerBorderBottom\":\r\n        return OptionalStringProperty.disabled(\"1px\");\r\n      case \"headerBorderRight\":\r\n        return OptionalStringProperty.disabled(\"1px\");\r\n      case \"headerBorderRadius\":\r\n        return OptionalStringProperty.disabled(\"1cm\");\r\n      case \"headerBorderColorTop\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"headerBorderColorLeft\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"headerBorderColorBottom\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      case \"headerBorderColorRight\":\r\n        return OptionalStringProperty.disabled(\"#000000ff\");\r\n      // case \"headerOuterShadow\": return BooleanProperty.ofFalse();\r\n\r\n      case \"headerPaddingTop\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"headerPaddingLeft\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"headerPaddingBottom\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n      case \"headerPaddingRight\":\r\n        return OptionalStringProperty.disabled(\"0.5cm\");\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n}\r\n\r\nexport class ComponentValidationRules {\r\n  constructor(readonly rules: Array<ValidationRuleRef>) {\r\n  }\r\n\r\n  static copy(other: ComponentValidationRules) {\r\n    return new ComponentValidationRules(other.rules.map(ValidationRuleRef.copy));\r\n  }\r\n}\r\n\r\n\r\nexport class ActionValidationRule {\r\n  constructor(readonly id: number,\r\n              readonly expression: string,\r\n              readonly message: I18nText,\r\n              readonly messageExpression: Option<string>,\r\n              readonly stopOnError: boolean) {\r\n  }\r\n\r\n  static copy(other: ActionValidationRule) {\r\n    return new ActionValidationRule(other.id, other.expression, I18nText.copy(other.message), Option.copy(other.messageExpression), other.stopOnError);\r\n  }\r\n}\r\n\r\n\r\nexport class ComponentActionProperty {\r\n  constructor(readonly componentsToValidate: Array<ScreenComponentRefId>,\r\n              readonly validationRules: Array<ValidationRuleRef>,\r\n              readonly actions: Array<AutomaticActionRef>) {\r\n  }\r\n\r\n  static copy(other: ComponentActionProperty): ComponentActionProperty {\r\n    return new ComponentActionProperty(other.componentsToValidate.map(ScreenComponentRefId.copy),\r\n      other.validationRules.map(ValidationRuleRef.copy),\r\n      other.actions.map(AutomaticActionRef.copy));\r\n  }\r\n}\r\n\r\n\r\nexport class ClipboardAutomaticAction {\r\n  constructor(readonly action: Typed<AutomaticAction>,\r\n              readonly applicationComponent: Option<ApplicationComponentRef>) {\r\n  }\r\n\r\n  static copy(other: ClipboardAutomaticAction): ClipboardAutomaticAction {\r\n    return new ClipboardAutomaticAction(AutomaticActionFactory.copyTyped(other.action),\r\n      Option.copy(other.applicationComponent, ApplicationComponentRef.copy));\r\n  }\r\n}\r\n\r\nexport class ComponentClipboardActionProperty {\r\n  constructor(readonly actions: Array<AutomaticActionRef>,\r\n              readonly validationRulesRefs: Array<ValidationRuleRef>,\r\n              readonly validationRules: Array<ValidationRule>) {\r\n  }\r\n\r\n  static copy(other: ComponentClipboardActionProperty) {\r\n    return new ComponentClipboardActionProperty(\r\n      other.actions.map(AutomaticActionRef.copy),\r\n      other.validationRulesRefs.map(ValidationRuleRef.copy),\r\n      other.validationRules.map(ValidationRule.copy));\r\n  }\r\n}\r\n\r\nexport class ComponentClipboardActionProperties {\r\n  constructor(readonly properties: Array<[string, ComponentClipboardActionProperty]>) {\r\n  }\r\n\r\n  putActions(propertyName: string, automaticActions: Array<AutomaticActionRef>, validationRulesRefs: Array<ValidationRuleRef>, validationRules: Array<ValidationRule>) {\r\n    const index = __(this.properties).findIndexOf(e => e[0] == propertyName);\r\n    index.forEach(i => this.properties.splice(i, 1));\r\n    this.properties.push([propertyName, new ComponentClipboardActionProperty(automaticActions, validationRulesRefs, validationRules)]);\r\n  }\r\n\r\n  static copy(other: ComponentClipboardActionProperties) {\r\n    return new ComponentClipboardActionProperties(other.properties.map(p => <[string, ComponentClipboardActionProperty]>[p[0], ComponentClipboardActionProperty.copy(p[1])]))\r\n  }\r\n\r\n  forEach<T>(handler: (propertyName: string, actionsRefs: Array<AutomaticActionRef>, validationRulesRefs: Array<ValidationRuleRef>) => T): Array<T> {\r\n    return this.properties.map((p: [string, ComponentClipboardActionProperty]) => handler(p[0], p[1].actions, p[1].validationRulesRefs));\r\n  }\r\n\r\n  getActionRule(name: string, ruleId: ValidationRuleId): ValidationRule {\r\n    const actionProperty = __(this.properties).find(p => p[0] == name).getOrError(\"no action '\" + name + \"' found\")[1];\r\n    return __(actionProperty.validationRules).find(r => r.id.id === ruleId.id).getOrError(\"no rule \" + ruleId.id + \" found\");\r\n  }\r\n}\r\n\r\nexport class ComponentActionProperties {\r\n  constructor(readonly properties: Array<[string, ComponentActionProperty]>) {\r\n  }\r\n\r\n  static copy(other: ComponentActionProperties) {\r\n    return new ComponentActionProperties(other.properties.map((p: [string, ComponentActionProperty]) => <[string, ComponentActionProperty]>[p[0], ComponentActionProperty.copy(p[1])]));\r\n  }\r\n\r\n  getActions(name: string): Array<AutomaticActionRef> {\r\n    const actions = this.properties.filter(p => p[0] == name);\r\n    if (actions.length > 0) {\r\n      return actions[0][1].actions;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  getComponentsToValidate(name: string): Array<ScreenComponentRefId> {\r\n    const actions = this.properties.filter(p => p[0] == name);\r\n    if (actions.length > 0) {\r\n      return actions[0][1].componentsToValidate;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  getValidationRules(name: string) {\r\n    const actions = this.properties.filter(p => p[0] == name);\r\n    if (actions.length > 0) {\r\n      return actions[0][1].validationRules;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n\r\n  // mapProperties<T>(handler: (propertyName: string, value: Array<Typed<AutomaticAction>>) => T): Array<T> {\r\n  //   return this.properties.map(p => handler(p[0], p[1]));\r\n  // }\r\n\r\n\r\n}\r\n\r\nexport class ComponentProperties {\r\n  constructor(readonly properties: Array<[string, Typed<ComponentProperty<any>>]>) {\r\n  }\r\n\r\n  static empty() {\r\n    return new ComponentProperties([]);\r\n  }\r\n\r\n  static copy(other: ComponentProperties) {\r\n    return new ComponentProperties(other.properties.map((p: [string, Typed<ComponentProperty<any>>]) => <[string, Typed<ComponentProperty<any>>]>[p[0], ComponentPropertyFactory.copyTyped(p[1])]));\r\n  }\r\n\r\n  mapProperties<T>(handler: (propertyName: string, value: ComponentProperty<any>) => T): Array<T> {\r\n    return this.properties.map(p => handler(p[0], Typed.value(p[1])));\r\n  }\r\n\r\n  private getPropertyOption<P extends ComponentProperty<any>>(name: string, defaultValue: () => P): P {\r\n    return __(this.properties).find(p => p[0] == name).map(p => <P>Typed.value(p[1])).getOrElseLazy(() => defaultValue());\r\n  }\r\n\r\n  private getEnabledPropertyOption<P extends ComponentProperty<any>>(name: string, defaultValue: () => P | null): P {\r\n    const propertyOption = __(this.properties).find(p => p[0] == name).map(p => <P>Typed.value(p[1]))\r\n\r\n    if (propertyOption.isDefined() && propertyOption.get().isEnabled()) {\r\n      return propertyOption.get();\r\n    } else if (propertyOption.isDefined()) {\r\n      const def = defaultValue();\r\n      if (def == null) {\r\n        return propertyOption.get();\r\n      } else {\r\n        return def;\r\n      }\r\n    } else {\r\n      const def = defaultValue();\r\n      if (def === null) {\r\n        throw new Error(\"Property not available '\" + name + \"'\");\r\n      } else {\r\n        return def;\r\n      }\r\n    }\r\n  }\r\n\r\n  getTrileanProperty(name: string, defaultProvider: DefaultPropertyProvider): TrileanProperty {\r\n    return this.getPropertyOption<TrileanProperty>(name, () => <TrileanProperty>defaultProvider.getTrileanProperty(name)).toRequired();\r\n  }\r\n\r\n  getBooleanProperty(name: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.getEnabledPropertyOption<BooleanProperty | OptionalBooleanProperty>(name, () => <BooleanProperty>defaultProvider.getBooleanProperty(name)).toRequired();\r\n  }\r\n\r\n  getOptionalBooleanProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.getEnabledPropertyOption<BooleanProperty | OptionalBooleanProperty>(name, () => <BooleanProperty | OptionalBooleanProperty>defaultProvider.getOptionalBooleanProperty(name)).toOptional();\r\n  }\r\n\r\n  // This is to have proper value when user enables it\r\n  getOptionalBooleanPropertyNonDefault(name: string, defaultProvider: DefaultPropertyProvider): OptionalBooleanProperty {\r\n    return this.getPropertyOption<OptionalBooleanProperty>(name, () => {\r\n      const defaultValue: OptionalBooleanProperty | BooleanProperty = <OptionalBooleanProperty | BooleanProperty>defaultProvider.getOptionalBooleanProperty(name);\r\n      return OptionalBooleanProperty.disabled(defaultValue.staticValue);\r\n    });\r\n  }\r\n\r\n  getOptionalStringProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.getEnabledPropertyOption<StringProperty | OptionalStringProperty>(name, () => <StringProperty | OptionalStringProperty>defaultProvider.getOptionalStringProperty(name)).toOptional();\r\n  }\r\n\r\n  getI18nTextProperty(name: string, defaultProvider: DefaultPropertyProvider): I18nTextProperty {\r\n    return this.getPropertyOption<I18nTextProperty>(name, () => <I18nTextProperty>defaultProvider.getI18nTextProperty(name));\r\n  }\r\n\r\n  getStringProperty(name: string, defaultProvider: DefaultPropertyProvider): StringProperty {\r\n    return this.getEnabledPropertyOption<StringProperty | OptionalStringProperty>(name, () => <StringProperty | OptionalStringProperty>defaultProvider.getStringProperty(name)).toRequired();\r\n  }\r\n\r\n  getDateProperty(name: string, defaultProvider: DefaultPropertyProvider): DateProperty {\r\n    return this.getPropertyOption<DateProperty>(name, () => <DateProperty>defaultProvider.getDateProperty(name));\r\n  }\r\n\r\n  getDateTimeProperty(name: string, defaultProvider: DefaultPropertyProvider): DateTimeProperty {\r\n    return this.getPropertyOption<DateTimeProperty>(name, () => <DateTimeProperty>defaultProvider.getDateTimeProperty(name));\r\n  }\r\n\r\n  getTimeProperty(name: string, defaultProvider: DefaultPropertyProvider): TimeProperty {\r\n    return this.getPropertyOption<TimeProperty>(name, () => <TimeProperty>defaultProvider.getTimeProperty(name));\r\n  }\r\n\r\n  getFileProperty(name: string, defaultProvider: DefaultPropertyProvider): FileProperty {\r\n    return this.getPropertyOption<FileProperty>(name, () => <FileProperty>defaultProvider.getFileProperty(name));\r\n  }\r\n\r\n  getOptionalFileProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalFileProperty {\r\n    return this.getPropertyOption<OptionalFileProperty>(name, () => <OptionalFileProperty>defaultProvider.getOptionalFileProperty(name));\r\n  }\r\n\r\n  getNumberProperty(name: string, defaultProvider: DefaultPropertyProvider): NumberProperty {\r\n    return this.getEnabledPropertyOption<NumberProperty>(name, () => <NumberProperty>defaultProvider.getNumberProperty(name));\r\n  }\r\n\r\n  getModelProperty(name: string, defaultProvider: DefaultPropertyProvider): ModelProperty {\r\n    return this.getPropertyOption<ModelProperty>(name, () => <ModelProperty>defaultProvider.getModelProperty(name));\r\n  }\r\n\r\n  getOptionalModelProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalModelProperty {\r\n    return this.getPropertyOption<OptionalModelProperty>(name, () => <OptionalModelProperty>defaultProvider.getOptionalModel(name));\r\n  }\r\n\r\n  getAnyModelProperty(name: string, defaultProvider: DefaultPropertyProvider): ModelProperty | OptionalModelProperty {\r\n    return this.getPropertyOption<ModelProperty | OptionalModelProperty>(name, () => <ModelProperty | OptionalModelProperty>defaultProvider.getAnyModelProperty(name));\r\n  }\r\n\r\n  /* Returns tuples of variableName and propety value*/\r\n  getAnyModelPropertiesByPrefix(propertyNamePrefix: string): Array<[string, ModelProperty | OptionalModelProperty]> {\r\n    return __(this.properties).filter(p => p[0].indexOf(propertyNamePrefix + \"|\") == 0).map(p => <[string, ModelProperty | OptionalModelProperty]>[p[0].substring(propertyNamePrefix.length + 1), <ModelProperty | OptionalModelProperty>Typed.value(p[1])]);\r\n  }\r\n\r\n\r\n  getOptionalI18nTextProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalI18nTextProperty {\r\n    return this.getPropertyOption<OptionalI18nTextProperty>(name, () => <OptionalI18nTextProperty>defaultProvider.getOptionalI18nProperty(name));\r\n  }\r\n\r\n  // This is to have proper value when user enables it\r\n  getOptionalStringPropertyNonDefault(name: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.getPropertyOption<OptionalStringProperty>(name, () => {\r\n      const defaultValue: OptionalStringProperty | StringProperty = <OptionalStringProperty | StringProperty>defaultProvider.getOptionalStringProperty(name);\r\n      return OptionalStringProperty.disabled(defaultValue.staticValue);\r\n    });\r\n  }\r\n\r\n  getOptionalDateProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalDateProperty {\r\n    return this.getPropertyOption<OptionalDateProperty>(name, () => <OptionalDateProperty>defaultProvider.getOptionalDateProperty(name));\r\n  }\r\n\r\n  getOptionalDateTimeProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalDateTimeProperty {\r\n    return this.getPropertyOption<OptionalDateTimeProperty>(name, () => <OptionalDateTimeProperty>defaultProvider.getOptionalDateTimeProperty(name));\r\n  }\r\n\r\n  getOptionalTimeProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalTimeProperty {\r\n    return this.getPropertyOption<OptionalTimeProperty>(name, () => <OptionalTimeProperty>defaultProvider.getOptionalTimeProperty(name));\r\n  }\r\n\r\n  getOptionalDurationProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalDurationProperty {\r\n    return this.getPropertyOption<OptionalDurationProperty>(name, () => <OptionalDurationProperty>defaultProvider.getOptionalDurationProperty(name));\r\n  }\r\n\r\n  getOptionalNumberProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalNumberProperty {\r\n    return this.getEnabledPropertyOption<OptionalNumberProperty>(name, () => <OptionalNumberProperty>defaultProvider.getOptionalNumberProperty(name));\r\n  }\r\n\r\n  getLabeledValuesProperty(name: string, defaultProvider: DefaultPropertyProvider): LabeledValuesProperty {\r\n    return this.getPropertyOption<LabeledValuesProperty>(name, () => <LabeledValuesProperty>defaultProvider.getLabeledValuesProperty(name));\r\n  }\r\n\r\n  getOptionalOrganizationNodesProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalOrganizationNodesProperty {\r\n    return this.getPropertyOption<OptionalOrganizationNodesProperty>(name, () => <OptionalOrganizationNodesProperty>defaultProvider.getOptionalOrganizationNodesProperty(name));\r\n  }\r\n\r\n  getOptionalStringArrayProperty(name: string, defaultProvider: DefaultPropertyProvider): OptionalStringArrayProperty {\r\n    return this.getPropertyOption<OptionalStringArrayProperty>(name, () => <OptionalStringArrayProperty>defaultProvider.getOptionalStringArrayProperty(name));\r\n  }\r\n\r\n  putProperty(name: string, property: ComponentProperty<any>) {\r\n    const index = __(this.properties).findIndexOf(e => e[0] == name);\r\n    index.forEach(i => this.properties.splice(i, 1));\r\n    this.properties.push([name, Typed.of(property)]);\r\n  }\r\n\r\n  deleteProperty(name: string) {\r\n    const index = __(this.properties).findIndexOf(e => e[0] == name);\r\n    index.forEach(i => this.properties.splice(i, 1));\r\n  }\r\n\r\n  putPropertyIfNotEmpty(name: string, property: ComponentProperty<any>) {\r\n    const index = __(this.properties).findIndexOf(e => e[0] == name);\r\n    index.forEach(i => this.properties.splice(i, 1));\r\n    if (property.isOptional()) {\r\n      const optional = <OptionalComponentProperty<any>>property;\r\n      if (optional.enabled) {\r\n        this.properties.push([name, Typed.of(property)]);\r\n      } // otherwise do nothing\r\n    } else {\r\n      this.properties.push([name, Typed.of(property)]);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class PaddingsProperties {\r\n\r\n  constructor(readonly prefix: string,\r\n              readonly properties: ComponentProperties) {\r\n  }\r\n\r\n  paddingTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"paddingTop\", defaultProvider)\r\n  }\r\n\r\n  paddingLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"paddingLeft\", defaultProvider)\r\n  }\r\n\r\n  paddingBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"paddingBottom\", defaultProvider)\r\n  }\r\n\r\n  paddingRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"paddingRight\", defaultProvider)\r\n  }\r\n}\r\n\r\n\r\nexport class BordersProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties) {\r\n  }\r\n\r\n  borderTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderTop\", defaultProvider)\r\n  }\r\n\r\n  borderLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderLeft\", defaultProvider)\r\n  }\r\n\r\n  borderBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderBottom\", defaultProvider)\r\n  }\r\n\r\n  borderRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderRight\", defaultProvider)\r\n  }\r\n\r\n  borderRadius(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderRadius\", defaultProvider)\r\n  }\r\n\r\n  borderColorTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderColorTop\", defaultProvider)\r\n  }\r\n\r\n  borderColorLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderColorLeft\", defaultProvider)\r\n  }\r\n\r\n  borderColorBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderColorBottom\", defaultProvider)\r\n  }\r\n\r\n  borderColorRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"borderColorRight\", defaultProvider)\r\n  }\r\n\r\n  outerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"outerShadow\", defaultProvider)\r\n  }\r\n}\r\n\r\nexport class BackgroundsProperties {\r\n\r\n  constructor(readonly prefix: string,\r\n              readonly properties: ComponentProperties) {\r\n  }\r\n\r\n  backgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"backgroundColor\", defaultProvider);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class SizeProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties,\r\n              readonly defaultProvider: DefaultPropertyProvider) {\r\n  }\r\n\r\n  get componentClass(): StringProperty {\r\n    return this.properties.getStringProperty(\"componentClass\", this.defaultProvider)\r\n  }\r\n\r\n  get componentSkin(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"componentSkin\", this.defaultProvider)\r\n  }\r\n\r\n  get cssClass(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"cssClass\", this.defaultProvider)\r\n  }\r\n\r\n  get contentMinWidth(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"contentMinWidth\", this.defaultProvider)\r\n  }\r\n\r\n  get contentMinHeight(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"contentMinHeight\", this.defaultProvider)\r\n  }\r\n\r\n  get maxWidth(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"maxWidth\", this.defaultProvider)\r\n  }\r\n\r\n  get maxHeight(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"maxHeight\", this.defaultProvider)\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class TextsProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties) {\r\n  }\r\n\r\n\r\n  textSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"textSize\", defaultProvider)\r\n  }\r\n\r\n  textColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"textColor\", defaultProvider)\r\n  }\r\n\r\n  textFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"textFont\", defaultProvider)\r\n  }\r\n\r\n  textAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): StringProperty {\r\n    return this.properties.getStringProperty(\"textAlign\", defaultProvider)\r\n  }\r\n\r\n  textVerticalAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): StringProperty {\r\n    return this.properties.getStringProperty(\"textVerticalAlign\", defaultProvider)\r\n  }\r\n\r\n  bold(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"bold\", defaultProvider)\r\n  }\r\n\r\n  italic(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"italic\", defaultProvider)\r\n  }\r\n\r\n  underline(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"underline\", defaultProvider)\r\n  }\r\n\r\n  lineThrough(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"lineThrough\", defaultProvider)\r\n  }\r\n\r\n}\r\n\r\nexport class HeaderProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties) {\r\n  }\r\n\r\n\r\n  headerTextSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerTextSize\", defaultProvider)\r\n  }\r\n\r\n  headerTextColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerTextColor\", defaultProvider)\r\n  }\r\n\r\n  headerTextFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerTextFont\", defaultProvider)\r\n  }\r\n\r\n  headerTextAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerTextAlign\", defaultProvider)\r\n  }\r\n\r\n  headerTextVerticalAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerTextVerticalAlign\", defaultProvider)\r\n  }\r\n\r\n  headerTextBold(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerTextBold\", defaultProvider)\r\n  }\r\n\r\n  headerTextItalic(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerTextItalic\", defaultProvider)\r\n  }\r\n\r\n  headerTextUnderline(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerTextUnderline\", defaultProvider)\r\n  }\r\n\r\n  headerTextLineThrough(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerTextLineThrough\", defaultProvider)\r\n  }\r\n\r\n  headerBackgroundColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBackgroundColor\", defaultProvider)\r\n  }\r\n\r\n  headerMinHeight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerMinHeight\", defaultProvider)\r\n  }\r\n\r\n  // Header borders\r\n  borderTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderTop\", defaultProvider)\r\n  }\r\n\r\n  borderLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderLeft\", defaultProvider)\r\n  }\r\n\r\n  borderBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderBottom\", defaultProvider)\r\n  }\r\n\r\n  borderRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderRight\", defaultProvider)\r\n  }\r\n\r\n  borderRadius(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderRadius\", defaultProvider)\r\n  }\r\n\r\n  borderColorTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderColorTop\", defaultProvider)\r\n  }\r\n\r\n  borderColorLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderColorLeft\", defaultProvider)\r\n  }\r\n\r\n  borderColorBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderColorBottom\", defaultProvider)\r\n  }\r\n\r\n  borderColorRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerBorderColorRight\", defaultProvider)\r\n  }\r\n\r\n  outerShadow(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"headerOuterShadow\", defaultProvider)\r\n  }\r\n\r\n  // Header paddings\r\n  paddingTop(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerPaddingTop\", defaultProvider)\r\n  }\r\n\r\n  paddingLeft(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerPaddingLeft\", defaultProvider)\r\n  }\r\n\r\n  paddingBottom(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerPaddingBottom\", defaultProvider)\r\n  }\r\n\r\n  paddingRight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"headerPaddingRight\", defaultProvider)\r\n  }\r\n}\r\n\r\nexport class LayoutsProperties {\r\n\r\n  constructor(readonly prefix: string,\r\n              readonly properties: ComponentProperties,\r\n              readonly defaultProvider: DefaultPropertyProvider) {\r\n  }\r\n\r\n\r\n  get gapColumn(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"gapColumn\", this.defaultProvider)\r\n  };\r\n\r\n  get gapRow(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(this.prefix + \"gapRow\", this.defaultProvider)\r\n  };\r\n\r\n  get layout(): StringProperty {\r\n    return this.properties.getStringProperty(this.prefix + \"layout\", this.defaultProvider)\r\n  };\r\n\r\n  get layoutAlign(): StringProperty {\r\n    return this.properties.getStringProperty(this.prefix + \"layoutAlign\", this.defaultProvider)\r\n  };\r\n\r\n  get layoutStretch(): StringProperty {\r\n    return this.properties.getStringProperty(this.prefix + \"layoutStretch\", this.defaultProvider)\r\n  };\r\n\r\n  get layoutWrap(): StringProperty {\r\n    return this.properties.getStringProperty(this.prefix + \"layoutWrap\", this.defaultProvider)\r\n  };\r\n\r\n  get columns(): NumberProperty {\r\n    return this.properties.getNumberProperty(this.prefix + \"columns\", this.defaultProvider)\r\n  };\r\n\r\n  get rows(): NumberProperty {\r\n    return this.properties.getNumberProperty(this.prefix + \"rows\", this.defaultProvider)\r\n  };\r\n\r\n}\r\n\r\nexport class LabelProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties) {\r\n  }\r\n\r\n  label(defaultProvider: DefaultPropertyProvider): OptionalI18nTextProperty {\r\n    return this.properties.getOptionalI18nTextProperty(\"label\", defaultProvider)\r\n  }\r\n\r\n  labelPosition(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): StringProperty {\r\n    return this.properties.getStringProperty(\"labelPosition\", defaultProvider)\r\n  }\r\n\r\n  labelWidth(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelWidth\", defaultProvider)\r\n  }\r\n\r\n  labelHeight(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelHeight\", defaultProvider)\r\n  }\r\n\r\n  labelSize(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelSize\", defaultProvider)\r\n  }\r\n\r\n  labelColor(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelColor\", defaultProvider)\r\n  }\r\n\r\n  labelFont(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelFont\", defaultProvider)\r\n  }\r\n\r\n  labelAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelAlign\", defaultProvider)\r\n  }\r\n\r\n  labelVerticalAlign(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"labelVerticalAlign\", defaultProvider)\r\n  }\r\n\r\n  labelBold(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"labelBold\", defaultProvider)\r\n  }\r\n\r\n  labelItalic(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"labelItalic\", defaultProvider)\r\n  }\r\n\r\n  labelUnderline(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"labelUnderline\", defaultProvider)\r\n  }\r\n\r\n  labelLineThrough(skinName: Option<string>, componentTypeName: string, componentClass: string, defaultProvider: DefaultPropertyProvider): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"labelLineThrough\", defaultProvider)\r\n  }\r\n}\r\n\r\n\r\nexport class PositionProperties {\r\n\r\n  constructor(readonly properties: ComponentProperties,\r\n              readonly defaultProvider: DefaultPropertyProvider) {\r\n  }\r\n\r\n\r\n  get desiredWidth(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"desiredWidth\", this.defaultProvider)\r\n  }\r\n\r\n  get desiredHeight(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"desiredHeight\", this.defaultProvider)\r\n  }\r\n\r\n  get left(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"left\", this.defaultProvider)\r\n  }\r\n\r\n  get top(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"top\", this.defaultProvider)\r\n  }\r\n\r\n  get right(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"right\", this.defaultProvider)\r\n  }\r\n\r\n  get bottom(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"bottom\", this.defaultProvider)\r\n  }\r\n\r\n  get marginTop(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"marginTop\", this.defaultProvider)\r\n  }\r\n\r\n  get marginLeft(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"marginLeft\", this.defaultProvider)\r\n  }\r\n\r\n  get marginBottom(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"marginBottom\", this.defaultProvider)\r\n  }\r\n\r\n  get marginRight(): OptionalStringProperty {\r\n    return this.properties.getOptionalStringProperty(\"marginRight\", this.defaultProvider)\r\n  }\r\n\r\n  get column(): OptionalNumberProperty {\r\n    return this.properties.getOptionalNumberProperty(\"column\", this.defaultProvider)\r\n  }\r\n\r\n  get row(): OptionalNumberProperty {\r\n    return this.properties.getOptionalNumberProperty(\"row\", this.defaultProvider)\r\n  }\r\n\r\n  get columnSpan(): NumberProperty {\r\n    return this.properties.getNumberProperty(\"columnSpan\", this.defaultProvider)\r\n  }\r\n\r\n  get rowSpan(): NumberProperty {\r\n    return this.properties.getNumberProperty(\"rowSpan\", this.defaultProvider)\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class FileSource {\r\n  public fileUri: FileUri;\r\n  public downloadUrl: string;\r\n  public simpleUrl: string;\r\n\r\n  constructor(public url: string) {\r\n    try {\r\n      this.fileUri = FileUri.parse(url);\r\n    } catch (e) {\r\n      this.fileUri = new FileUri(FileProtocol.Https, url);\r\n    }\r\n    this.downloadUrl = \"\";\r\n    if (this.fileUri.isRepositoryFile()) {\r\n      this.simpleUrl = this.fileUri.path;\r\n    } else {\r\n      this.simpleUrl = this.url;\r\n    }\r\n\r\n  }\r\n\r\n  update() {\r\n    if (this.simpleUrl.trim().length > 0) {\r\n      if (this.simpleUrl.trim().charAt(0) == \"/\") {\r\n        this.fileUri = new FileUri(FileProtocol.RepositoryFile, this.simpleUrl.trim());\r\n        this.url = this.fileUri.serialize();\r\n      } else {\r\n        try {\r\n          this.fileUri = FileUri.parse(this.simpleUrl.trim());\r\n          this.url = this.fileUri.serialize();\r\n        } catch (e) {\r\n          this.url = \"\";\r\n        }\r\n      }\r\n    } else {\r\n      this.fileUri = new FileUri(FileProtocol.Https, \"\");\r\n      this.url = \"\";\r\n      this.downloadUrl = \"\";\r\n    }\r\n\r\n  }\r\n\r\n  hasDownloadUrl() {\r\n    return this.downloadUrl.trim() !== \"\"\r\n  }\r\n\r\n  isRepositoryFile() {\r\n    return this.isSimpleUrlDefined() && this.simpleUrl.trim().charAt(0) == \"/\";\r\n  }\r\n\r\n  isSimpleUrlDefined() {\r\n    return this.simpleUrl.trim().length > 0;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class AutoVariableFill {\r\n  constructor(readonly path: VariablePath,\r\n              readonly script: string) {\r\n  }\r\n\r\n  static copy(other: AutoVariableFill) {\r\n    return new AutoVariableFill(VariablePath.copy(other.path), other.script);\r\n  }\r\n}\r\n\r\n\r\nexport class ScreenComponentRefFactory {\r\n\r\n  static copy(other: ScreenComponentRef): ScreenComponentRef {\r\n    return ScreenComponentRefFactory.copyByType(other, other.className());\r\n  }\r\n\r\n  static copyTyped(variable: Typed<ScreenComponentRef>): Typed<ScreenComponentRef> {\r\n    return Typed.of(ScreenComponentRefFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n  }\r\n\r\n  static copyByType(other: ScreenComponentRef, className: string): ScreenComponentRef {\r\n    switch (className) {\r\n      // case BarChartComponentRef.className: return BarChartComponentRef.copy(<BarChartComponentRef>other);\r\n      case ButtonComponentRef.className: return ButtonComponentRef.copy(<ButtonComponentRef>other);\r\n      // case DataTableComponentRef.className: return DataTableComponentRef.copy(<DataTableComponentRef>other);\r\n      case LabelComponentRef.className: return LabelComponentRef.copy(<LabelComponentRef>other);\r\n      case LinkComponentRef.className: return LinkComponentRef.copy(<LinkComponentRef>other);\r\n      case ImageComponentRef.className: return ImageComponentRef.copy(<ImageComponentRef>other);\r\n      case HtmlComponentRef.className: return HtmlComponentRef.copy(<HtmlComponentRef>other);\r\n      case MapComponentRef.className: return MapComponentRef.copy(<MapComponentRef>other);\r\n      // case CalendarComponentRef.className: return CalendarComponentRef.copy(<CalendarComponentRef>other);\r\n      case NumberInputComponentRef.className: return NumberInputComponentRef.copy(<NumberInputComponentRef>other);\r\n      case SectionContainerRef.className:\r\n        return SectionContainerRef.copy(<SectionContainerRef>other);\r\n      // case PopupContainerRef.className: return PopupContainerRef.copy(<PopupContainerRef>other);\r\n      case RepeatableContainerRef.className: return RepeatableContainerRef.copy(<RepeatableContainerRef>other);\r\n      case TableContainerRef.className: return TableContainerRef.copy(<TableContainerRef>other);\r\n      case SwitchComponentRef.className: return SwitchComponentRef.copy(<SwitchComponentRef>other);\r\n      case TabsContainerRef.className: return TabsContainerRef.copy(<TabsContainerRef>other);\r\n      case TextInputComponentRef.className: return TextInputComponentRef.copy(<TextInputComponentRef>other);\r\n      case PasswordInputComponentRef.className: return PasswordInputComponentRef.copy(<PasswordInputComponentRef>other);\r\n      case DateInputComponentRef.className: return DateInputComponentRef.copy(<DateInputComponentRef>other);\r\n      // case DateTimeInputComponentRef.className: return DateTimeInputComponentRef.copy(<DateTimeInputComponentRef>other);\r\n      // case TimeInputComponentRef.className: return TimeInputComponentRef.copy(<TimeInputComponentRef>other);\r\n      // case DurationInputComponentRef.className: return DurationInputComponentRef.copy(<DurationInputComponentRef>other);\r\n      case DropListComponentRef.className: return DropListComponentRef.copy(<DropListComponentRef>other);\r\n      case RadioButtonComponentRef.className: return RadioButtonComponentRef.copy(<RadioButtonComponentRef>other);\r\n      case MultiCheckboxComponentRef.className: return MultiCheckboxComponentRef.copy(<MultiCheckboxComponentRef>other);\r\n      case SingleCheckboxComponentRef.className: return SingleCheckboxComponentRef.copy(<SingleCheckboxComponentRef>other);\r\n      case MultiAttachmentInputComponentRef.className: return MultiAttachmentInputComponentRef.copy(<MultiAttachmentInputComponentRef>other);\r\n      case SingleAttachmentInputComponentRef.className: return SingleAttachmentInputComponentRef.copy(<SingleAttachmentInputComponentRef>other);\r\n      // case PersonSelectComponentRef.className: return PersonSelectComponentRef.copy(<PersonSelectComponentRef>other);\r\n      // case WidgetComponentRef.className: return WidgetComponentRef.copy(<WidgetComponentRef>other);\r\n      default:\r\n        const n = <LabelComponentRef>other;\r\n        return new LabelComponentRef(n.id, n.componentId, None(), new ComponentProperties([]));\r\n        // throw new Error(\"Unsupported ViewComponentRef [\" + className + \"]\");\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\nexport abstract class ScreenComponentRef {\r\n  abstract id: ScreenComponentRefId; // for identification of modification event\r\n  abstract componentId: ScreenComponentId;\r\n  abstract applicationScreen: Option<ScreenId>;\r\n  abstract properties: ComponentProperties;\r\n\r\n  abstract className(): string;\r\n\r\n  defaultPropertiesProvider: DefaultPropertyProvider | undefined = DefaultPropertyProvider.ofFallbacks(\"DefaultRef\", DefaultPropertyProvider.ref);\r\n\r\n  get positionProperties(): PositionProperties {\r\n    return new PositionProperties(this.properties, <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get uncovered(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"uncovered\", <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get visible(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"visible\", <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get editable(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"editable\", <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get preview(): OptionalBooleanProperty {\r\n    return this.properties.getOptionalBooleanProperty(\"preview\", <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n\r\n  createDefaultDefinition(id: ScreenComponentId): ScreenComponentDefinition {\r\n    throw new Error(\"Not implemented createDefaultDefinition in '\" + this.className() + \"'\");\r\n  }\r\n}\r\n\r\n\r\nexport abstract class InputComponentRef extends ScreenComponentRef {\r\n  get required(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"required\", <DefaultPropertyProvider>this.defaultPropertiesProvider)\r\n  };\r\n}\r\n\r\nexport abstract class ScreenContainerRef extends ScreenComponentRef {\r\n}\r\n\r\n\r\nexport abstract class GenericScreenComponentDefinition {\r\n\r\n\r\n  //IMPORTANT // comment: string; // designer comment\r\n  //IMPORTANT // visibleInSummary: boolean;\r\n  abstract className(): string;\r\n\r\n  abstract typeName(): string;\r\n\r\n  sizeProperties: SizeProperties;\r\n\r\n  constructor(readonly id: ScreenComponentId,\r\n              readonly identifier: Option<string>,\r\n              readonly properties: ComponentProperties,\r\n              readonly validationRules: ComponentValidationRules,\r\n              readonly defaultPropertiesProvider: DefaultPropertyProvider) {\r\n    this.sizeProperties = new SizeProperties(this.properties, this.defaultPropertiesProvider);\r\n  }\r\n\r\n\r\n  get uncovered(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"uncovered\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get visible(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"visible\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get editable(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"editable\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  get initialized(): BooleanProperty {\r\n    return this.properties.getBooleanProperty(\"initialized\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n  abstract getModelNames(): Array<string>;\r\n\r\n  modelIsReadOnly() {\r\n    const modelNames = this.getModelNames();\r\n    if (modelNames.length == 0) {\r\n      return false;\r\n    } else {\r\n      return __(modelNames).all(model => {\r\n        const property = this.properties.getAnyModelProperty(model, this.defaultPropertiesProvider);\r\n        if (property instanceof ModelProperty) {\r\n          return !property.settingsUnwrapped().toSettingsType().isBoundVariablePath();\r\n        } else {\r\n          return property.enabled && !property.settingsUnwrapped().toSettingsType().isBoundVariablePath();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getChildren(): Array<ScreenComponentRefId> {\r\n    return [];\r\n  }\r\n\r\n  hasLabel() {\r\n    return false;\r\n  }\r\n\r\n  displayName() {\r\n    return this.typeName();\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class ScreenComponentDefinitionFactory {\r\n  static copy(other: ScreenComponentDefinition): ScreenComponentDefinition {\r\n    return ScreenComponentDefinitionFactory.copyByType(other, other.className());\r\n  }\r\n\r\n  static copyTyped(variable: Typed<ScreenComponentDefinition>): Typed<ScreenComponentDefinition> {\r\n    return Typed.of(ScreenComponentDefinitionFactory.copyByType(Typed.value(variable), Typed.className(variable)));\r\n  }\r\n\r\n  static copyByType(other: ScreenComponentDefinition, className: string): ScreenComponentDefinition {\r\n    switch (className) {\r\n      // case BarChartComponentDefinition.className: return BarChartComponentDefinition.copy(<BarChartComponentDefinition>other);\r\n      case ButtonComponentDefinition.className: return ButtonComponentDefinition.copy(<ButtonComponentDefinition>other);\r\n      // case DataTableComponentDefinition.className: return DataTableComponentDefinition.copy(<DataTableComponentDefinition>other);\r\n      case LabelComponentDefinition.className: return LabelComponentDefinition.copy(<LabelComponentDefinition>other);\r\n      case LinkComponentDefinition.className: return LinkComponentDefinition.copy(<LinkComponentDefinition>other);\r\n      case ImageComponentDefinition.className: return ImageComponentDefinition.copy(<ImageComponentDefinition>other);\r\n      case HtmlComponentDefinition.className: return HtmlComponentDefinition.copy(<HtmlComponentDefinition>other);\r\n      case MapComponentDefinition.className: return MapComponentDefinition.copy(<MapComponentDefinition>other);\r\n      // case CalendarComponentDefinition.className: return CalendarComponentDefinition.copy(<CalendarComponentDefinition>other);\r\n      case NumberInputComponentDefinition.className: return NumberInputComponentDefinition.copy(<NumberInputComponentDefinition>other);\r\n      case SectionContainerDefinition.className: return SectionContainerDefinition.copy(<SectionContainerDefinition>other);\r\n      // case PopupContainerDefinition.className: return PopupContainerDefinition.copy(<PopupContainerDefinition>other);\r\n      case RepeatableContainerDefinition.className: return RepeatableContainerDefinition.copy(<RepeatableContainerDefinition>other);\r\n      case TableContainerDefinition.className: return TableContainerDefinition.copy(<TableContainerDefinition>other);\r\n      case SwitchComponentDefinition.className: return SwitchComponentDefinition.copy(<SwitchComponentDefinition>other);\r\n      case TabsContainerDefinition.className: return TabsContainerDefinition.copy(<TabsContainerDefinition>other);\r\n      case TextInputComponentDefinition.className: return TextInputComponentDefinition.copy(<TextInputComponentDefinition>other);\r\n      case PasswordInputComponentDefinition.className: return PasswordInputComponentDefinition.copy(<PasswordInputComponentDefinition>other);\r\n      case DateInputComponentDefinition.className: return DateInputComponentDefinition.copy(<DateInputComponentDefinition>other);\r\n      // case DateTimeInputComponentDefinition.className: return DateTimeInputComponentDefinition.copy(<DateTimeInputComponentDefinition>other);\r\n      // case TimeInputComponentDefinition.className: return TimeInputComponentDefinition.copy(<TimeInputComponentDefinition>other);\r\n      // case DurationInputComponentDefinition.className: return DurationInputComponentDefinition.copy(<DurationInputComponentDefinition>other);\r\n      case DropListComponentDefinition.className: return DropListComponentDefinition.copy(<DropListComponentDefinition>other);\r\n      case RadioButtonComponentDefinition.className: return RadioButtonComponentDefinition.copy(<RadioButtonComponentDefinition>other);\r\n      case MultiCheckboxComponentDefinition.className: return MultiCheckboxComponentDefinition.copy(<MultiCheckboxComponentDefinition>other);\r\n      case SingleCheckboxComponentDefinition.className: return SingleCheckboxComponentDefinition.copy(<SingleCheckboxComponentDefinition>other);\r\n      case MultiAttachmentInputComponentDefinition.className: return MultiAttachmentInputComponentDefinition.copy(<MultiAttachmentInputComponentDefinition>other);\r\n      case SingleAttachmentInputComponentDefinition.className: return SingleAttachmentInputComponentDefinition.copy(<SingleAttachmentInputComponentDefinition>other);\r\n      // case PersonSelectComponentDefinition.className: return PersonSelectComponentDefinition.copy(<PersonSelectComponentDefinition>other);\r\n      // case WidgetComponentDefinition.className: return WidgetComponentDefinition.copy(<WidgetComponentDefinition>other);\r\n      default:\r\n        const n = <LabelComponentDefinition>other;\r\n        return new LabelComponentDefinition(n.id, None(), new ComponentProperties([[\"text\", Typed.of(I18nTextProperty.static(I18nText.en(`Not supported '${className}'`)))]]), new ComponentActionProperties([]), new ComponentValidationRules([]));\r\n        // throw new Error(\"Unsupported ViewComponentDefinition [\" + className + \"]\");\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\nexport abstract class ScreenComponentDefinition extends GenericScreenComponentDefinition {\r\n\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              override readonly validationRules: ComponentValidationRules,\r\n              override readonly defaultPropertiesProvider: DefaultPropertyProvider) {\r\n    super(id, identifier, properties, validationRules, defaultPropertiesProvider);\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport abstract class ScreenComponentDefinitionWithLabel extends ScreenComponentDefinition {\r\n\r\n  override hasLabel(): boolean {\r\n    return true;\r\n  }\r\n\r\n  abstract get labelProperties(): LabelProperties;\r\n\r\n  get tooltip(): OptionalI18nTextProperty {\r\n    return this.properties.getOptionalI18nTextProperty(\"tooltip\", this.defaultPropertiesProvider)\r\n  };\r\n\r\n\r\n  override displayName(): string {\r\n    const label = this.labelProperties.label(this.defaultPropertiesProvider);\r\n    return (label.settingsUnwrapped().toSettingsType().isStaticValue() ? label.staticValue.getCurrentWithFallback() : \"\");\r\n  }\r\n\r\n}\r\n\r\nexport abstract class NoContextContainerDefinition extends GenericScreenComponentDefinition {\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              override readonly validationRules: ComponentValidationRules,\r\n              override readonly defaultPropertiesProvider: DefaultPropertyProvider) {\r\n    super(id, identifier, properties, validationRules, defaultPropertiesProvider);\r\n  }\r\n}\r\n\r\nexport abstract class OptionalContextContainerDefinition extends GenericScreenComponentDefinition {\r\n  abstract model: OptionalModelProperty;\r\n\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              override readonly validationRules: ComponentValidationRules,\r\n              override readonly defaultPropertiesProvider: DefaultPropertyProvider) {\r\n    super(id, identifier, properties, validationRules, defaultPropertiesProvider);\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [\"model\"];\r\n  }\r\n}\r\n\r\nexport abstract class RepeatableContextContainerDefinition extends GenericScreenComponentDefinition {\r\n  abstract model: ModelProperty;\r\n\r\n  constructor(override readonly id: ScreenComponentId,\r\n              override readonly identifier: Option<string>,\r\n              override readonly properties: ComponentProperties,\r\n              override readonly validationRules: ComponentValidationRules,\r\n              override readonly defaultPropertiesProvider: DefaultPropertyProvider) {\r\n    super(id, identifier, properties, validationRules, defaultPropertiesProvider);\r\n  }\r\n\r\n  getModelNames(): Array<string> {\r\n    return [\"model\"];\r\n  }\r\n}\r\n\r\nexport class ComponentValidationExceptionState {\r\n  constructor(readonly ruleIndex: number,\r\n              readonly timestamp: LocalDateTime,\r\n              readonly message: string) {\r\n  }\r\n\r\n  static copy(other: ComponentValidationExceptionState) {\r\n    return new ComponentValidationExceptionState(other.ruleIndex, LocalDateTime.copy(other.timestamp), other.message);\r\n  }\r\n\r\n  toString() {\r\n    return this.ruleIndex + \": \" + this.timestamp + \": \" + this.message;\r\n  }\r\n}\r\n\r\n\r\nexport class PropertyValueHolder {\r\n  constructor(\r\n    readonly p: boolean,\r\n    readonly v: Option<Typed<BusinessVariable>>,\r\n    readonly e: Option<PropertyValueError>\r\n  ) {\r\n    if (v.isDefined() && e.isDefined()) {\r\n      throw new Error(\"Both value and error cannot be defined\");\r\n    } else if (v.isEmpty() && e.isEmpty() && !p) {\r\n      throw new Error(\"Both value and error cannot be empty if not in progress\");\r\n    }\r\n  }\r\n\r\n  static copy(other: PropertyValueHolder) {\r\n    return new PropertyValueHolder(other.p, Option.copy(other.v).map(BusinessVariableFactory.copyTyped), Option.copy(other.e).map(PropertyValueError.copy));\r\n  }\r\n\r\n  static value(v: BusinessVariable) {\r\n    return new PropertyValueHolder(false, Some(Typed.of(v)), None());\r\n  }\r\n\r\n  static error(timestamp: LocalDateTime, message: string) {\r\n    return new PropertyValueHolder(false, None(), Some(new PropertyValueError(timestamp, message)));\r\n  }\r\n\r\n  static inProgress() {\r\n    return new PropertyValueHolder(true, None(), None());\r\n  }\r\n\r\n  get value(): BusinessVariable {\r\n    if (this.e.isEmpty()) {\r\n      if (this.v.isDefined()) {\r\n        return Typed.value(this.v.get());\r\n      } else {\r\n        throw new Error(\"Property is not defined\");\r\n      }\r\n    } else {\r\n      throw new Error(\"Property is in error state \" + this.v.get().toString())\r\n    }\r\n  }\r\n\r\n  get error() {\r\n    if (this.e.isEmpty()) {\r\n      throw new Error(\"Property is correct, non error state\");\r\n    } else {\r\n      return this.e.get();\r\n    }\r\n  }\r\n\r\n  isOK() {\r\n    return this.v.isDefined();\r\n  }\r\n\r\n  isError() {\r\n    return this.e.isDefined();\r\n  }\r\n\r\n  isInProgress() {\r\n    return this.p;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class ActionStateError {\r\n  constructor(\r\n    readonly index: number,\r\n    readonly message: string,\r\n    readonly timestamp: LocalDateTime,\r\n  ) {\r\n  }\r\n\r\n  static copy(other: ActionStateError) {\r\n    return new ActionStateError(other.index, other.message, LocalDateTime.copy(other.timestamp));\r\n  }\r\n}\r\n\r\nexport class ActionStateHolder {\r\n  constructor(\r\n    readonly syncInProgress: boolean, // state\r\n    readonly errors: Array<ActionStateError>,\r\n    readonly validationErrors: Array<I18nText>,\r\n    readonly asyncStarted: Array<number>,\r\n    readonly asyncCompleted: Array<number>\r\n  ) {\r\n  }\r\n\r\n  static copy(other: ActionStateHolder) {\r\n    return new ActionStateHolder(\r\n      other.syncInProgress,\r\n      other.errors.map(ActionStateError.copy),\r\n      other.validationErrors.map(I18nText.copy),\r\n      other.asyncStarted.slice(),\r\n      other.asyncCompleted.slice());\r\n  }\r\n\r\n  isError() {\r\n    return this.errors.length > 0;\r\n  }\r\n\r\n  isValidationError() {\r\n    return this.validationErrors.length > 0;\r\n  }\r\n\r\n  isInProgress() {\r\n    return this.syncInProgress || this.asyncStarted.length != this.asyncCompleted.length;\r\n  }\r\n}\r\n\r\nexport class PropertiesStateHolder {\r\n  constructor(\r\n    readonly validationErrors: Array<Typed<ComponentValidationError>>,\r\n    public validationException: Option<ComponentValidationExceptionState>,\r\n    readonly values: Array<[string, PropertyValueHolder]>,\r\n    readonly actions: Array<[string, ActionStateHolder]>\r\n  ) {\r\n  }\r\n\r\n\r\n  clearValue(name: string) {\r\n    __(this.values).findIndexOf(v => v[0] === name).forEach(index => this.values.splice(index, 1));\r\n  }\r\n\r\n  putValue(name: string, value: BusinessVariable) {\r\n    this.clearValue(name);\r\n    this.values.push([name, PropertyValueHolder.value(value)]);\r\n  }\r\n\r\n  putError(name: string, timestamp: LocalDateTime, message: string) {\r\n    this.clearValue(name);\r\n    this.values.push([name, PropertyValueHolder.error(timestamp, message)]);\r\n  }\r\n\r\n  putInProgress(name: string) {\r\n\r\n    const current = this.propertyByName(name);\r\n    this.clearValue(name);\r\n    if (current.isDefined()) {\r\n      this.values.push([name, new PropertyValueHolder(true, current.get().v, current.get().e)]);\r\n    } else {\r\n      this.values.push([name, PropertyValueHolder.inProgress()]);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  private propertyByName(name: string): Option<PropertyValueHolder> {\r\n    return __(this.values).find(v => v[0] === name).map(v => v[1]);\r\n  }\r\n\r\n  booleanProperty(name: string): PropertyTry<boolean> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<boolean>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof BooleanVariable) {\r\n      return PropertyTry.success(property.get().p, (<BooleanVariable>property.get().value).value);\r\n    } else {\r\n      return PropertyTry.errorCompleted<boolean>(`Property [${name}] was not of type 'Boolean' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  trileanProperty(name: string): PropertyTry<Trilean> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<Trilean>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof BooleanVariable) {\r\n      return PropertyTry.success(property.get().p, Trilean.ofBoolean((<BooleanVariable>property.get().value).value));\r\n    } else if (property.get().value instanceof NullVariable) {\r\n      return PropertyTry.success(property.get().p, Trilean.UNKNOWN);\r\n    } else {\r\n      return PropertyTry.errorCompleted<Trilean>(`Property [${name}] was not of type 'Boolean' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  labeledValuesProperty(name: string): PropertyTry<Array<BusinessVariable>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<Array<BusinessVariable>>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof ArrayVariable) {\r\n      return PropertyTry.success(property.get().p, (<ArrayVariable<BusinessVariable>>property.get().value).unwrappedValue());\r\n    } else {\r\n      return PropertyTry.errorCompleted<Array<BusinessVariable>>(`Property [${name}] was not of type 'ValuesArray' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  modelProperty(name: string): PropertyTry<BusinessVariable> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<BusinessVariable>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else {\r\n      return PropertyTry.success(property.get().p, (<BusinessVariable>property.get().value));\r\n    }\r\n  }\r\n\r\n  optionalModelProperty(name: string): PropertyTry<Option<BusinessVariable>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else {\r\n      return PropertyTry.success(property.get().p, Some((<BusinessVariable>property.get().value)));\r\n    }\r\n  }\r\n\r\n  stringProperty(name: string): PropertyTry<string> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<string>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, (<StringVariable>property.get().value).value);\r\n    } else {\r\n      return PropertyTry.errorCompleted<string>(`Property [${name}] was not of type 'String' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  i18nTextProperty(name: string): PropertyTry<I18nText> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<I18nText>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof I18nTextVariable) {\r\n      return PropertyTry.success(property.get().p, (<I18nTextVariable>property.get().value).value);\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, I18nText.ofCurrent((<StringVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<I18nText>(`Property [${name}] was not of type 'I18nText' nor 'String' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  stringifiedI18nProperty(name: string): PropertyTry<I18nText> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<I18nText>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof I18nTextVariable) {\r\n      return PropertyTry.success(property.get().p, (<I18nTextVariable>property.get().value).value);\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, I18nText.ofCurrent((<StringVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.success(property.get().p, I18nText.ofCurrent(property.get().value.toStringVariable().value));\r\n    }\r\n  }\r\n\r\n\r\n  numberProperty(name: string): PropertyTry<number> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<number>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof NumberVariable) {\r\n      return PropertyTry.success(property.get().p, (<NumberVariable>property.get().value).value);\r\n    } else {\r\n      return PropertyTry.errorCompleted<number>(`Property [${name}] was not of type 'Number' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  fileProperty(name: string): PropertyTry<FileUri> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<FileUri>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof FileVariableV2) {\r\n      return PropertyTry.success(property.get().p, (<FileVariableV2>property.get().value).value);\r\n    } else {\r\n      return PropertyTry.errorCompleted<FileUri>(`Property [${name}] was not of type 'File' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalNumberProperty(name: string): PropertyTry<Option<number>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof NumberVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<NumberVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<number>>(`Property [${name}] was not of type 'Number' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalBusinessVariableProperty(name: string): PropertyTry<Option<BusinessVariable>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else {\r\n      return PropertyTry.success(property.get().p, Some(property.get().value));\r\n    }\r\n  }\r\n\r\n  optionalStringProperty(name: string): PropertyTry<Option<string>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<StringVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<string>>(`Property [${name}] was not of type 'String' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalPasswordProperty(name: string): PropertyTry<Option<string>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof PasswordVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<PasswordVariable>property.get().value).value.password));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<string>>(`Property [${name}] was not of type 'Password' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalI18nTextProperty(name: string): PropertyTry<Option<I18nText>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof I18nTextVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<I18nTextVariable>property.get().value).value));\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, Some(I18nText.ofCurrent((<StringVariable>property.get().value).value)));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<I18nText>>(`Property [${name}] was not of type 'I18nText' or 'String' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalDateProperty(name: string): PropertyTry<Option<LocalDate>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof DateVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<DateVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<LocalDate>>(`Property [${name}] was not of type 'Date' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalDateTimeProperty(name: string): PropertyTry<Option<LocalDateTime>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof DateTimeVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<DateTimeVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<LocalDateTime>>(`Property [${name}] was not of type 'DateTime' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalTimeProperty(name: string): PropertyTry<Option<LocalTime>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof TimeVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<TimeVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<LocalTime>>(`Property [${name}] was not of type 'Time' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalDurationProperty(name: string): PropertyTry<Option<Duration>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof IntervalVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<IntervalVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<Duration>>(`Property [${name}] was not of type 'Duration' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalBooleanProperty(name: string): PropertyTry<Option<boolean>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof BooleanVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<BooleanVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<boolean>>(`Property [${name}] was not of type 'Boolean' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalObjectsArrayProperty(name: string): PropertyTry<Option<ArrayVariable<ObjectVariable>>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof ArrayVariable && __((<ArrayVariable<BusinessVariable>>property.get().value).unwrappedValue()).all(o => o instanceof ObjectVariable)) {\r\n      return PropertyTry.success(property.get().p, Some(<ArrayVariable<ObjectVariable>>property.get().value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<ArrayVariable<ObjectVariable>>>(`Property [${name}] was not of type 'Array[Object]' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  stringArrayProperty(name: string): PropertyTry<Array<string>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.errorCompleted<Array<string>>(`Property [${name}] was not available`);\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof ArrayVariable && __((<ArrayVariable<BusinessVariable>>property.get().value).unwrappedValue()).all(o => o instanceof StringVariable)) {\r\n      return PropertyTry.success(property.get().p, (<ArrayVariable<StringVariable>>property.get().value).unwrappedValue().map(v => v.value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Array<string>>(`Property [${name}] was not of type 'Array[String]' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n\r\n  optionalStringArrayProperty(name: string): PropertyTry<Option<Array<string>>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof ArrayVariable && __((<ArrayVariable<BusinessVariable>>property.get().value).unwrappedValue()).all(o => o instanceof StringVariable)) {\r\n      const value: ArrayVariable<BusinessVariable> = <ArrayVariable<BusinessVariable>>property.get().value;\r\n      return PropertyTry.success(property.get().p, Some((<Array<StringVariable>>value.unwrappedValue()).map(vv => vv.value)));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<Array<string>>>(`Property [${name}] was not of type 'Array[String]' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalArrayProperty(name: string): PropertyTry<Option<ArrayVariable<BusinessVariable>>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof ArrayVariable) {\r\n      return PropertyTry.success(property.get().p, Some(<ArrayVariable<ObjectVariable>>property.get().value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<ArrayVariable<BusinessVariable>>>(`Property [${name}] was not of type 'Array' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalPersonProperty(name: string): PropertyTry<Option<PersonId>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof PersonVariable) {\r\n      return PropertyTry.success(property.get().p, Some((<PersonVariable>property.get().value).value));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<PersonId>>(`Property [${name}] was not of type 'Person' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalOrganizationNodeProperty(name: string): PropertyTry<Option<OrganizationNodeId>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof PersonVariable) {\r\n      return PropertyTry.success(property.get().p, Some(OrganizationNodeId.fromPersonId((<PersonVariable>property.get().value).value.id)));\r\n    } else if (property.get().value instanceof DepartmentVariable) {\r\n      return PropertyTry.success(property.get().p, Some(OrganizationNodeId.fromDepartmentId((<DepartmentVariable>property.get().value).value.id)));\r\n    } else if (property.get().value instanceof GroupVariable) {\r\n      return PropertyTry.success(property.get().p, Some(OrganizationNodeId.fromGroupId((<GroupVariable>property.get().value).value.id)));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<OrganizationNodeId>>(`Property [${name}] was not of type 'Person' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  optionalFileProperty(name: string): PropertyTry<Option<FileUri>> {\r\n    const property: Option<PropertyValueHolder> = this.propertyByName(name);\r\n    if (property.isEmpty()) {\r\n      return PropertyTry.successCompleted(None());\r\n    } else if (property.get().isInProgress() && !property.get().isError() && !property.get().isOK()) {\r\n      return PropertyTry.inProgressEmpty<any>();\r\n    } else if (property.get().isError()) {\r\n      return PropertyTry.error<any>(property.get().p, `Property [${name}] is in error state: ${property.get().error.toString()}`);\r\n    } else if (property.get().value instanceof FileVariableV2) {\r\n      return PropertyTry.success(property.get().p, Some((<FileVariableV2>property.get().value).value));\r\n    } else if (property.get().value instanceof StringVariable) {\r\n      return PropertyTry.success(property.get().p, Some(FileUri.parse((<StringVariable>property.get().value).value)));\r\n    } else {\r\n      return PropertyTry.errorCompleted<Option<FileUri>>(`Property [${name}] was not of type 'File' but of type [${property.get().value.simpleValueType()}]`);\r\n    }\r\n  }\r\n\r\n  static copy(other: PropertiesStateHolder) {\r\n    return new PropertiesStateHolder(\r\n      other.validationErrors.map(ComponentValidationErrorFactory.copyTyped),\r\n      Option.copy(other.validationException).map(ComponentValidationExceptionState.copy),\r\n      other.values.map((v: [string, PropertyValueHolder]) => <[string, PropertyValueHolder]>[v[0], PropertyValueHolder.copy(v[1])]),\r\n      other.actions.map((v: [string, ActionStateHolder]) => <[string, ActionStateHolder]>[v[0], ActionStateHolder.copy(v[1])])\r\n    )\r\n  }\r\n\r\n  static empty() {\r\n    return new PropertiesStateHolder([], None(), [], []);\r\n  }\r\n\r\n  errors(): Array<ComponentErrorInfo> {\r\n    const validation = this.validationException.toArray().map(e => new ComponentErrorInfo(\"validation \" + e.ruleIndex, Some(e.timestamp), e.message))\r\n    const values = this.values.filter((v: [string, PropertyValueHolder]) => v[1].isError()).map((v: [string, PropertyValueHolder]) => new ComponentErrorInfo(v[0], Some(v[1].error.timestamp), v[1].error.message));\r\n    const actions = ___(this.actions).filter((a: [string, ActionStateHolder]) => a[1].isError()).flatMap((v: [string, ActionStateHolder]) => v[1].errors.map(e => new ComponentErrorInfo(v[0] + \":\" + (e.index + 1), Some(e.timestamp), e.message))).value();\r\n    return values.concat(actions).concat(validation);\r\n  }\r\n\r\n  allValidationErrors(): Array<string> {\r\n    const values: Array<string> = this.validationErrors.map(e => Typed.value(e).toMessage());\r\n    const actions = ___(this.actions).filter((a: [string, ActionStateHolder]) => a[1].isValidationError()).flatMap((v: [string, ActionStateHolder]) => v[1].validationErrors.map(e => e.getCurrentWithFallback())).value();\r\n    return values.concat(actions);\r\n  }\r\n\r\n  anyInProgress(): boolean {\r\n    const valuesInProgress = __(this.values).exists((v: [string, PropertyValueHolder]) => v[1].isInProgress());\r\n    const actionsInProgress = __(this.actions).exists((a: [string, ActionStateHolder]) => a[1].isInProgress());\r\n    return valuesInProgress || actionsInProgress;\r\n  }\r\n\r\n  setActionStateInProgress(actionName: string, timestamp: LocalDateTime) {\r\n    this.updateActionState(actionName, new ActionStateHolder(true, [], [], [], []));\r\n  }\r\n\r\n\r\n  setActionStateValidationError(actionName: string, messages: Array<I18nText>) {\r\n    this.updateActionState(actionName, new ActionStateHolder(false, [], messages, [], []));\r\n  }\r\n\r\n  setActionSyncStateError(actionName: string, timestamp: LocalDateTime, index: number, message: string) {\r\n    const actionState = this.getActionState(actionName);\r\n    if (actionState.isDefined()) {\r\n      const state = actionState.get();\r\n      this.updateActionState(actionName, new ActionStateHolder(false, state.errors.filter(e => e.index != index).concat([new ActionStateError(index, message, timestamp)]),\r\n        [], state.asyncStarted, state.asyncCompleted));\r\n    } else {\r\n      this.updateActionState(actionName, new ActionStateHolder(false, [new ActionStateError(index, message, timestamp)], [], [], []));\r\n    }\r\n  }\r\n\r\n  setActionAsyncStateError(actionName: string, timestamp: LocalDateTime, index: number, message: string) {\r\n    const actionState = this.getActionState(actionName);\r\n    if (actionState.isDefined()) {\r\n      const state = actionState.get();\r\n      const asyncCompleted = state.asyncCompleted.concat([index]);\r\n      this.updateActionState(actionName, new ActionStateHolder(state.syncInProgress, state.errors.filter(e => e.index != index).concat([new ActionStateError(index, message, timestamp)]),\r\n        [], state.asyncStarted, asyncCompleted));\r\n    } else {\r\n      this.updateActionState(actionName, new ActionStateHolder(false, [new ActionStateError(index, message, timestamp)], [], [], []));\r\n    }\r\n  }\r\n\r\n  private updateActionState(actionName: string, state: ActionStateHolder) {\r\n    const ind = __(this.actions).findIndexOf(a => a[0] == actionName);\r\n    ind.forEach(i => this.actions.splice(i, 1));\r\n    this.actions.push([actionName, state]);\r\n  }\r\n\r\n  getActionState(actionName: string): Option<ActionStateHolder> {\r\n    return __(this.actions).find(a => a[0] == actionName).map(a => a[1]);\r\n  }\r\n\r\n  setActionStateInAsyncStarted(name: string, startedAsyncActions: Array<number>) {\r\n    const currentActionState = __(this.actions).find(a => a[0] == name).map(s => s[1]);\r\n\r\n    const currentSyncInProgress = currentActionState.map(s => s.syncInProgress).getOrElse(false);\r\n    const currentErrors = currentActionState.map(s => s.errors).getOrElse([]);\r\n    const currentActionCompleted = currentActionState.map(s => s.asyncCompleted).getOrElse([]);\r\n    this.updateActionState(name, new ActionStateHolder(currentSyncInProgress, currentErrors, [], startedAsyncActions, currentActionCompleted));\r\n  }\r\n\r\n  setActionStateInAsyncCompleted(name: string, completedAsyncAction: number) {\r\n    const currentActionState = __(this.actions).find(a => a[0] == name).map(a => a[1]);\r\n\r\n    const currentSyncInProgress = currentActionState.map(s => s.syncInProgress).getOrElse(false);\r\n    const currentErrors = currentActionState.map(s => s.errors).getOrElse([]);\r\n    const currentActionCompleted = currentActionState.map(s => s.asyncCompleted).getOrElse([]).concat(completedAsyncAction);\r\n    const actionStared = currentActionState.map(s => s.asyncStarted).getOrElse([]);\r\n    this.updateActionState(name, new ActionStateHolder(currentSyncInProgress, currentErrors, [], actionStared, currentActionCompleted));\r\n  }\r\n\r\n  setActionStateSyncCompleted(actionName: string) {\r\n    const index = __(this.actions).findIndexOf(a => a[0] == actionName);\r\n    if (index.isDefined()) {\r\n      const actionState = this.actions[index.get()][1];\r\n      if (actionState.errors.length == 0 && actionState.asyncCompleted.length === actionState.asyncStarted.length) {\r\n        index.forEach(i => this.actions.splice(i, 1));\r\n      } else {\r\n        this.updateActionState(actionName, new ActionStateHolder(false, actionState.errors, [], actionState.asyncStarted, actionState.asyncCompleted));\r\n      }\r\n    } else {\r\n      throw new Error(\"No state for action '\" + actionName + \"' when completing sync\")\r\n    }\r\n\r\n\r\n  }\r\n\r\n  isActionInProgress(actionName: string) {\r\n    return __(this.actions).find(a => a[0] == actionName).exists(a => a[1].isInProgress());\r\n  }\r\n\r\n  setComponentValidationErrors(validationErrors: Array<Typed<ComponentValidationError>>) {\r\n    this.validationException = None();\r\n    overwriteArray(this.validationErrors, validationErrors);\r\n  }\r\n\r\n  setComponentValidationException(message: string, timestamp: LocalDateTime, ruleIndex: number) {\r\n    this.validationException = Some(new ComponentValidationExceptionState(ruleIndex, timestamp, message));\r\n    clearArray(this.validationErrors);\r\n  }\r\n}\r\n\r\nexport class RefPositionPropertiesState {\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get desiredWidth() {\r\n    return this.properties.optionalStringProperty(\"desiredWidth\")\r\n  }\r\n\r\n  get desiredHeight() {\r\n    return this.properties.optionalStringProperty(\"desiredHeight\")\r\n  }\r\n\r\n  get left() {\r\n    return this.properties.optionalStringProperty(\"left\")\r\n  }\r\n\r\n  get top() {\r\n    return this.properties.optionalStringProperty(\"top\")\r\n  }\r\n\r\n  get right() {\r\n    return this.properties.optionalStringProperty(\"right\")\r\n  }\r\n\r\n  get bottom() {\r\n    return this.properties.optionalStringProperty(\"bottom\")\r\n  }\r\n\r\n  get column() {\r\n    return this.properties.optionalNumberProperty(\"column\")\r\n  }\r\n\r\n  get row() {\r\n    return this.properties.optionalNumberProperty(\"row\")\r\n  }\r\n\r\n  get columnSpan() {\r\n    return this.properties.numberProperty(\"columnSpan\")\r\n  }\r\n\r\n  get rowSpan() {\r\n    return this.properties.numberProperty(\"rowSpan\")\r\n  }\r\n\r\n  get marginTop() {\r\n    return this.properties.optionalStringProperty(\"marginTop\")\r\n  }\r\n\r\n  get marginLeft() {\r\n    return this.properties.optionalStringProperty(\"marginLeft\")\r\n  }\r\n\r\n  get marginBottom() {\r\n    return this.properties.optionalStringProperty(\"marginBottom\")\r\n  }\r\n\r\n  get marginRight() {\r\n    return this.properties.optionalStringProperty(\"marginRight\")\r\n  }\r\n}\r\n\r\nexport class BordersPropertiesState {\r\n\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get borderTop() {\r\n    return this.properties.optionalStringProperty(\"borderTop\")\r\n  }\r\n\r\n  get borderLeft() {\r\n    return this.properties.optionalStringProperty(\"borderLeft\")\r\n  }\r\n\r\n  get borderBottom() {\r\n    return this.properties.optionalStringProperty(\"borderBottom\")\r\n  }\r\n\r\n  get borderRight() {\r\n    return this.properties.optionalStringProperty(\"borderRight\")\r\n  }\r\n\r\n  get borderRadius() {\r\n    return this.properties.optionalStringProperty(\"borderRadius\")\r\n  }\r\n\r\n  get borderColorTop() {\r\n    return this.properties.optionalStringProperty(\"borderColorTop\")\r\n  }\r\n\r\n  get borderColorLeft() {\r\n    return this.properties.optionalStringProperty(\"borderColorLeft\")\r\n  }\r\n\r\n  get borderColorBottom() {\r\n    return this.properties.optionalStringProperty(\"borderColorBottom\")\r\n  }\r\n\r\n  get borderColorRight() {\r\n    return this.properties.optionalStringProperty(\"borderColorRight\")\r\n  }\r\n\r\n  get outerShadow() {\r\n    return this.properties.booleanProperty(\"outerShadow\")\r\n  }\r\n}\r\n\r\nexport class BackgroundsPropertiesState {\r\n  constructor(readonly prefix: string,\r\n              readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get backgroundColor() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"backgroundColor\")\r\n  }\r\n}\r\n\r\nexport class LayoutsPropertiesState {\r\n  constructor(readonly prefix: string,\r\n              readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get gapColumn() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"gapColumn\")\r\n  }\r\n\r\n  get gapRow() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"gapRow\")\r\n  }\r\n\r\n  get layout() {\r\n    return this.properties.stringProperty(this.prefix + \"layout\")\r\n  }\r\n\r\n  get layoutAlign() {\r\n    return this.properties.stringProperty(this.prefix + \"layoutAlign\")\r\n  }\r\n\r\n  get layoutStretch() {\r\n    return this.properties.stringProperty(this.prefix + \"layoutStretch\")\r\n  }\r\n\r\n  get layoutWrap() {\r\n    return this.properties.stringProperty(this.prefix + \"layoutWrap\")\r\n  }\r\n\r\n  get rows() {\r\n    return this.properties.numberProperty(this.prefix + \"rows\")\r\n  }\r\n\r\n  get columns() {\r\n    return this.properties.numberProperty(this.prefix + \"columns\")\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class PaddingsPropertiesState {\r\n  constructor(readonly prefix: string,\r\n              readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n\r\n  get paddingTop() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"paddingTop\")\r\n  }\r\n\r\n  get paddingLeft() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"paddingLeft\")\r\n  }\r\n\r\n  get paddingBottom() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"paddingBottom\")\r\n  }\r\n\r\n  get paddingRight() {\r\n    return this.properties.optionalStringProperty(this.prefix + \"paddingRight\")\r\n  }\r\n}\r\n\r\n\r\nexport class BoxPropertiesState {\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get componentSkin() {\r\n    return this.properties.optionalStringProperty(\"componentSkin\")\r\n  }\r\n\r\n  get componentClass() {\r\n    return this.properties.stringProperty(\"componentClass\")\r\n  }\r\n\r\n  get cssClass() {\r\n    return this.properties.optionalStringProperty(\"cssClass\")\r\n  }\r\n\r\n  get contentMinWidth() {\r\n    return this.properties.optionalStringProperty(\"contentMinWidth\")\r\n  }\r\n\r\n  get contentMinHeight() {\r\n    return this.properties.optionalStringProperty(\"contentMinHeight\")\r\n  }\r\n\r\n  get maxWidth() {\r\n    return this.properties.optionalStringProperty(\"maxWidth\")\r\n  }\r\n\r\n  get maxHeight() {\r\n    return this.properties.optionalStringProperty(\"maxHeight\")\r\n  }\r\n}\r\n\r\nexport class TextPropertiesState {\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get textSize() {\r\n    return this.properties.optionalStringProperty(\"textSize\")\r\n  }\r\n\r\n  get textColor() {\r\n    return this.properties.optionalStringProperty(\"textColor\")\r\n  }\r\n\r\n  get textAlign() {\r\n    return this.properties.stringProperty(\"textAlign\")\r\n  }\r\n\r\n  get textVerticalAlign() {\r\n    return this.properties.stringProperty(\"textVerticalAlign\")\r\n  }\r\n\r\n  get textFont() {\r\n    return this.properties.optionalStringProperty(\"textFont\")\r\n  }\r\n\r\n  get bold() {\r\n    return this.properties.booleanProperty(\"bold\")\r\n  }\r\n\r\n  get italic() {\r\n    return this.properties.booleanProperty(\"italic\")\r\n  }\r\n\r\n  get underline() {\r\n    return this.properties.booleanProperty(\"underline\")\r\n  }\r\n\r\n  get lineThrough() {\r\n    return this.properties.booleanProperty(\"lineThrough\")\r\n  }\r\n}\r\n\r\n\r\nexport class HeaderPropertiesState {\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get headerTextSize() {\r\n    return this.properties.optionalStringProperty(\"headerTextSize\")\r\n  }\r\n\r\n  get headerTextColor() {\r\n    return this.properties.optionalStringProperty(\"headerTextColor\")\r\n  }\r\n\r\n  get headerTextAlign() {\r\n    return this.properties.optionalStringProperty(\"headerTextAlign\")\r\n  }\r\n\r\n  get headerTextVerticalAlign() {\r\n    return this.properties.optionalStringProperty(\"headerTextVerticalAlign\")\r\n  }\r\n\r\n  get headerTextFont() {\r\n    return this.properties.optionalStringProperty(\"headerTextFont\")\r\n  }\r\n\r\n  get headerTextBold() {\r\n    return this.properties.booleanProperty(\"headerTextBold\")\r\n  }\r\n\r\n  get headerTextItalic() {\r\n    return this.properties.booleanProperty(\"headerTextItalic\")\r\n  }\r\n\r\n  get headerTextUnderline() {\r\n    return this.properties.booleanProperty(\"headerTextUnderline\")\r\n  }\r\n\r\n  get headerTextLineThrough() {\r\n    return this.properties.booleanProperty(\"headerTextLineThrough\")\r\n  }\r\n\r\n  get headerBackgroundColor() {\r\n    return this.properties.optionalStringProperty(\"headerBackgroundColor\")\r\n  }\r\n\r\n  get headerMinHeight() {\r\n    return this.properties.optionalStringProperty(\"headerMinHeight\")\r\n  }\r\n\r\n  // Header Borders\r\n  get borderTop() {\r\n    return this.properties.optionalStringProperty(\"headerBorderTop\")\r\n  }\r\n\r\n  get borderLeft() {\r\n    return this.properties.optionalStringProperty(\"headerBorderLeft\")\r\n  }\r\n\r\n  get borderBottom() {\r\n    return this.properties.optionalStringProperty(\"headerBorderBottom\")\r\n  }\r\n\r\n  get borderRight() {\r\n    return this.properties.optionalStringProperty(\"headerBorderRight\")\r\n  }\r\n\r\n  get borderRadius() {\r\n    return this.properties.optionalStringProperty(\"headerBorderRadius\")\r\n  }\r\n\r\n  get borderColorTop() {\r\n    return this.properties.optionalStringProperty(\"headerBorderColorTop\")\r\n  }\r\n\r\n  get borderColorLeft() {\r\n    return this.properties.optionalStringProperty(\"headerBorderColorLeft\")\r\n  }\r\n\r\n  get borderColorBottom() {\r\n    return this.properties.optionalStringProperty(\"headerBorderColorBottom\")\r\n  }\r\n\r\n  get borderColorRight() {\r\n    return this.properties.optionalStringProperty(\"headerBorderColorRight\")\r\n  }\r\n\r\n  get outerShadow() {\r\n    return this.properties.booleanProperty(\"headerOuterShadow\")\r\n  }\r\n\r\n  // Header paddings\r\n  get paddingTop() {\r\n    return this.properties.optionalStringProperty(\"headerPaddingTop\")\r\n  }\r\n\r\n  get paddingLeft() {\r\n    return this.properties.optionalStringProperty(\"headerPaddingLeft\")\r\n  }\r\n\r\n  get paddingBottom() {\r\n    return this.properties.optionalStringProperty(\"headerPaddingBottom\")\r\n  }\r\n\r\n  get paddingRight() {\r\n    return this.properties.optionalStringProperty(\"headerPaddingRight\")\r\n  }\r\n}\r\n\r\nexport class LabelPropertiesState {\r\n  constructor(readonly properties: PropertiesStateHolder) {\r\n  }\r\n\r\n  get label() {\r\n    return this.properties.optionalI18nTextProperty(\"label\")\r\n  }\r\n\r\n  get labelPosition() {\r\n    return this.properties.stringProperty(\"labelPosition\")\r\n  }\r\n\r\n  get labelWidth() {\r\n    return this.properties.optionalStringProperty(\"labelWidth\")\r\n  }\r\n\r\n  get labelHeight() {\r\n    return this.properties.optionalStringProperty(\"labelHeight\")\r\n  }\r\n\r\n  get labelSize() {\r\n    return this.properties.optionalStringProperty(\"labelSize\")\r\n  }\r\n\r\n  get labelColor() {\r\n    return this.properties.optionalStringProperty(\"labelColor\")\r\n  }\r\n\r\n  get labelFont() {\r\n    return this.properties.optionalStringProperty(\"labelFont\")\r\n  }\r\n\r\n  get labelAlign() {\r\n    return this.properties.optionalStringProperty(\"labelAlign\")\r\n  }\r\n\r\n  get labelVerticalAlign() {\r\n    return this.properties.optionalStringProperty(\"labelVerticalAlign\")\r\n  }\r\n\r\n  get labelBold() {\r\n    return this.properties.booleanProperty(\"labelBold\")\r\n  }\r\n\r\n  get labelItalic() {\r\n    return this.properties.booleanProperty(\"labelItalic\")\r\n  }\r\n\r\n  get labelUnderline() {\r\n    return this.properties.booleanProperty(\"labelUnderline\")\r\n  }\r\n\r\n  get labelLineThrough() {\r\n    return this.properties.booleanProperty(\"labelLineThrough\")\r\n  }\r\n}\r\n\r\n\r\nexport class ScreenComponentsState {\r\n\r\n  private componentStates: Array<[string, Array<[ScreenComponentIdInScreen, Typed<ScreenComponentState>]>]> = [];\r\n  private refStates: Array<[string, Array<[ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]>]> = [];\r\n\r\n  private componentStatesMap: { [contextId: string]: { [componentIdInScreen: string]: ScreenComponentState } } = {};\r\n  private refStatesMap: { [contextId: string]: { [componentIdInScreen: string]: ScreenComponentRefState } } = {};\r\n\r\n  updateMaps() {\r\n    this.componentStatesMap = {};\r\n    this.refStatesMap = {};\r\n    this.componentStates.forEach((context: [string, Array<[ScreenComponentIdInScreen, Typed<ScreenComponentState>]>]) => {\r\n      const state: { [name: string]: ScreenComponentState } = {};\r\n      this.componentStatesMap[context[0]] = state;\r\n      context[1].forEach((entry: [ScreenComponentIdInScreen, Typed<ScreenComponentState>]) => {\r\n        state[entry[0].asMapKey()] = Typed.value(entry[1]);\r\n      });\r\n    });\r\n    this.refStates.forEach((context: [string, Array<[ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]>]) => {\r\n      const state: { [name: string]: ScreenComponentRefState } = {};\r\n      this.refStatesMap[context[0]] = state;\r\n      context[1].forEach((entry: [ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]) => {\r\n        state[entry[0].asMapKey()] = Typed.value(entry[1]);\r\n      });\r\n    });\r\n    return this;\r\n  }\r\n\r\n  getComponentState(context: VariableId, componentId: ScreenComponentIdInScreen): ScreenComponentState {\r\n    const contextKey = context.id;\r\n    let byContext = this.componentStatesMap[contextKey];\r\n    if (!byContext) {\r\n      throw new Error(\"State not available for context [\" + contextKey + \"] and component \" + componentId.id);\r\n    }\r\n    let state = byContext[componentId.asMapKey()];\r\n    if (!state) {\r\n      throw new Error(\"State not available for context [\" + contextKey + \"] and component \" + componentId.id);\r\n    }\r\n    return state;\r\n  }\r\n\r\n  isComponentRefState(context: VariableId, componentRefId: ScreenComponentRefIdInScreen): boolean {\r\n    const contextKey = context.id;\r\n    let byContext = this.refStatesMap[contextKey];\r\n    if (!byContext) {\r\n      return false;\r\n    }\r\n    return byContext[componentRefId.asMapKey()] != undefined;\r\n  }\r\n\r\n  getComponentRefState(context: VariableId, componentRefId: ScreenComponentRefIdInScreen): ScreenComponentRefState {\r\n    const contextKey = context.id;\r\n    let byContext = this.refStatesMap[contextKey];\r\n    if (!byContext) {\r\n      throw new Error(\"State not available for context [\" + contextKey + \"] and component ref \" + componentRefId.id);\r\n    }\r\n    let state = byContext[componentRefId.asMapKey()];\r\n    if (!state) {\r\n      throw new Error(\"State not available for context [\" + contextKey + \"] and component ref \" + componentRefId.id);\r\n    }\r\n    return state;\r\n  }\r\n\r\n  putComponentState(context: VariableId, componentId: ScreenComponentIdInScreen, componentState: ScreenComponentState) {\r\n    const contextKey = context.id;\r\n    let byContext = this.componentStatesMap[contextKey];\r\n    if (!byContext) {\r\n      byContext = {};\r\n      this.componentStatesMap[contextKey] = byContext;\r\n    }\r\n    byContext[componentId.asMapKey()] = componentState;\r\n  }\r\n\r\n  deleteComponentState(context: VariableId, componentId: ScreenComponentIdInScreen) {\r\n    const contextKey = context.id;\r\n    let byContext = this.componentStatesMap[contextKey];\r\n    if (byContext) {\r\n      delete byContext[componentId.asMapKey()];\r\n    }\r\n  }\r\n\r\n  putComponentRefState(context: VariableId, componentRefId: ScreenComponentRefIdInScreen, refState: ScreenComponentRefState) {\r\n    const contextKey = context.id;\r\n    let byContext = this.refStatesMap[contextKey];\r\n    if (!byContext) {\r\n      byContext = {};\r\n      this.refStatesMap[contextKey] = byContext;\r\n    }\r\n    byContext[componentRefId.asMapKey()] = refState;\r\n  }\r\n\r\n  deleteComponentRefState(context: VariableId, componentRefId: ScreenComponentRefIdInScreen) {\r\n    const contextKey = context.id;\r\n    const byContext = this.refStatesMap[contextKey];\r\n    if (byContext) {\r\n      delete byContext[componentRefId.asMapKey()];\r\n    }\r\n  }\r\n\r\n  static copy(other: ScreenComponentsState) {\r\n    const states = new ScreenComponentsState();\r\n    states.componentStates = other.componentStates.map((cs: [string, Array<[ScreenComponentIdInScreen, Typed<ScreenComponentState>]>]) => <[string, Array<[ScreenComponentIdInScreen, Typed<ScreenComponentState>]>]>[cs[0], cs[1].map((css: [ScreenComponentIdInScreen, Typed<ScreenComponentState>]) => [ScreenComponentIdInScreen.copy(css[0]), ScreenComponentStateFactory.copyTyped(css[1])])]);\r\n    states.refStates = other.refStates.map((cs: [string, Array<[ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]>]) => <[string, Array<[ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]>]>[cs[0], cs[1].map((css: [ScreenComponentRefIdInScreen, Typed<ScreenComponentRefState>]) => [ScreenComponentRefIdInScreen.copy(css[0]), ScreenComponentRefStateFactory.copyTyped(css[1])])]);\r\n    return states;\r\n  }\r\n}\r\n\r\n\r\nexport class RepeatableContext {\r\n  constructor(readonly contextId: VariableId,\r\n              readonly entries: Array<VariableId>) {\r\n  }\r\n\r\n  static copy(other: RepeatableContext) {\r\n    return new RepeatableContext(\r\n      VariableId.copy(other.contextId),\r\n      other.entries.map(VariableId.copy));\r\n  }\r\n}\r\n\r\n\r\nexport class ScriptValue {\r\n  constructor(readonly script: string) {\r\n  }\r\n\r\n  static copy(other: ScriptValue) {\r\n    return new ScriptValue(other.script);\r\n  }\r\n}\r\n\r\nexport class ScreenSharedViewModel {\r\n  constructor(\r\n    readonly eventBus: ScreenEventBus,\r\n    readonly skins: Array<SkinPrototype>) {\r\n  }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ScreenComponentViewModel} from \"@screens\";\n\n\n@Component({\n  selector: 'my-screen-component',\n  templateUrl: './screen-component.component.html',\n  styleUrls: ['./screen-component.component.scss']\n})\nexport class ScreenComponentComponent {\n\n  @Input() component!: ScreenComponentViewModel;\n}\n","<ng-container [ngSwitch]=\"component.typeName\">\r\n  <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n  <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n  <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n  <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n  <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n  <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n  <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n  <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n  <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n  <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n  <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n  <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n  <my-date-input-component *ngSwitchCase=\"'DateInput'\" [viewModel]=\"$any(component)\"></my-date-input-component>\r\n\r\n  <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n  <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n  <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n  <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n  <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n  <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n  <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n  <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n  <div *ngSwitchDefault>\r\n    Unsupported Component {{component.typeName}}\r\n  </div>\r\n</ng-container>\r\n<div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n  <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n</div>\r\n\r\n<div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit, ViewContainerRef} from '@angular/core';\nimport {ScreenInstanceId} from \"@libs/IdModel\";\nimport {ScreenExternalEventBus, ScreenInstanceService} from \"@screens\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {Option} from \"@libs/Option\";\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\nimport {clearArray} from \"@libs/Collections\";\nimport {__} from \"@libs/FunctionalExtensions\";\nimport {valueOrError} from \"@libs/TypeCheck\";\nimport {setPageVisibleBox} from \"@libs/Elements\";\n\n\n\nexport class ScreenPortletViewModel {\n  notFound: boolean = false;\n  error: string | null = null;\n  cssContent: string = \"\";\n\n  screenInstanceId: ScreenInstanceId | null = null;\n\n  readonly screenExternalEventBus = new ScreenExternalEventBus();\n\n  readonly eventBusSubscriptions: Array<number> = [];\n\n  constructor(readonly screenInstanceService: ScreenInstanceService,\n              readonly iframeId: string|null,\n              applicationIdentifier: string|null,\n              screenIdentifier: string|null,\n              screenInstanceId: ScreenInstanceId|null,\n              params: any|null) {\n    this.screenExternalEventBus = new ScreenExternalEventBus();\n    this.screenInstanceId = screenInstanceId;\n    if(screenIdentifier !== null && applicationIdentifier !== null) {\n      this.runInstance(applicationIdentifier, screenIdentifier, params);\n    }\n\n    this.eventBusSubscriptions.push(this.screenExternalEventBus.on(this.screenExternalEventBus.outputParameterChanged, (input: boolean, variableName: string, value: Option<BusinessVariable>) => {\n      const iframeIdPart = this.iframeId == undefined ? \"\" : (this.iframeId + \"::\");\n      const simpleValue = value.map(v => v.valueToSimpleString()).getOrNull();\n      if(input) {\n        console.log(\"Not implemented\");\n       // $location.search(variableName, simpleValue);\n      }\n      parent.postMessage(\"screenPortletAttributeChanged::\"+iframeIdPart+JSON.stringify([variableName, simpleValue]),\"*\");\n    }));\n  }\n\n  static forNewScreenInstance(screenInstanceService: ScreenInstanceService,\n                              iframeId: string|null,\n                              applicationIdentifier: string,\n                              screenIdentifier: string, params: Record<string, string>) {\n    return new ScreenPortletViewModel(screenInstanceService, iframeId, applicationIdentifier, screenIdentifier, null, params);\n  }\n\n  static forGivenScreenInstance(screenInstanceService: ScreenInstanceService,\n                                iframeId: string|null,\n                                screenInstanceId: ScreenInstanceId) {\n    return new ScreenPortletViewModel(screenInstanceService, iframeId, null, null, screenInstanceId, null);\n  }\n\n  parametersUpdated(params: any) {\n\n    this.screenExternalEventBus.inputParametersChanged(this.toParamsList(params));\n  }\n\n  runInstance(applicationIdentifier: string, screenIdentifier: string, params: any) {\n    this.screenInstanceService.runExternal(applicationIdentifier, screenIdentifier, this.toParamsList(params),\n      (screenInstanceId: ScreenInstanceId, volatileScreen: boolean) => {\n\n      this.screenInstanceId = screenInstanceId;\n      this.error = null;\n    }, (error: string) => {\n      this.error = error;\n      this.screenInstanceId = null;\n      console.log(\"Error when starting screen:\" + error);\n    });\n\n  }\n\n  private toParamsList(params: any): Array<[string, string]> {\n    const paramsList: Array<[string, string]> = [];\n    for (const [key, value] of (<any>Object).entries(params)) {\n      paramsList.push([key, value]);\n    }\n    return paramsList;\n  }\n\n  destroy() {\n    this.eventBusSubscriptions.forEach(s => this.screenExternalEventBus.unsubscribe(s));\n    clearArray(this.eventBusSubscriptions);\n  }\n}\n\n\n  export class ScreenPortletController {\n    private sizeInterval = 0;\n    constructor(readonly element: HTMLElement,\n                readonly iframeId: string|undefined,\n                readonly fontSizePx: number,\n                readonly backgroundColor: string) {\n    }\n\n    start() {\n\n      // Resize iframe\n      this.sizeInterval = <any>setInterval(() => {\n        if(this.element !== null) {\n          const height = this.element.querySelector(\".viewCanvas\")?.clientHeight;\n          const iframeIdPart = this.iframeId === undefined ? \"\" : this.iframeId + \"::\";\n          parent.postMessage(\"screenPortletResize::\" + iframeIdPart + height, \"*\");\n        }\n      }, 100);\n    }\n\n\n    stop() {\n      clearInterval(this.sizeInterval);\n      this.sizeInterval = 0;\n    }\n\n  }\n\n\n@Component({\n  selector: 'my-screen-portlet',\n  templateUrl: './screen-portlet.component.html',\n  styleUrls: ['./screen-portlet.component.scss']\n})\nexport class ScreenPortletComponent implements OnInit, OnDestroy {\n\n  viewModel: ScreenPortletViewModel|null = null;\n  iframeId: string|null = null;\n  controller!: ScreenPortletController;\n\n  constructor(private route: ActivatedRoute,\n              private screenInstanceService: ScreenInstanceService,\n              private readonly viewContainerRef: ViewContainerRef,\n              private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  private lastHash = \"\";\n\n  ngOnInit() {\n\n    this.init();\n    this.lastHash = window.location.hash;\n\n    setInterval(this.onLocationChanged, 100); // there seem to be no way to listen on url search params\n\n\n    const eventMethod = <any>window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n    const eventer: any = window[<any>eventMethod];\n    const messageEvent = eventMethod === \"attachEvent\" ? \"onmessage\" : \"message\";\n\n    eventer(messageEvent,(e: any) => {\n      if((typeof e.data == \"string\") && e.data.indexOf('portletVisibleBox::') !== -1) {\n        const visibleBox = JSON.parse(e.data.substring(\"portletVisibleBox::\".length));\n        setPageVisibleBox(visibleBox);\n      }\n    })\n  }\n\n  private onLocationChanged = () => {\n    if(window.location.hash !== this.lastHash) {\n      this.lastHash = window.location.hash;\n      this.init();\n    }\n  }\n\n\n  private init() {\n\n    let newViewModel!: ScreenPortletViewModel;\n\n    const parsed = this.parseUrl();\n\n    if(parsed.screenInstanceId !== undefined) {\n      newViewModel = ScreenPortletViewModel.forGivenScreenInstance(this.screenInstanceService, this.iframeId,\n        new ScreenInstanceId(parsed.screenInstanceId));\n    } else if(parsed.applicationIdentifier !== undefined && parsed.screenIdentifier !== undefined) {\n      newViewModel = ScreenPortletViewModel.forNewScreenInstance(this.screenInstanceService, this.iframeId,\n        parsed.applicationIdentifier, parsed.screenIdentifier, this.getParamsFromUrl());\n    } else {\n      throw new Error(\"Incorrect params\");\n    }\n\n    this.controller = new ScreenPortletController(this.viewContainerRef.element.nativeElement, undefined, 13, \"#ffffff\");\n    this.controller.start();\n\n\n\n    this.initGlobalStyles(parsed.fontSizePx, parsed.backgroundColor, parsed.fontFamily, parsed.pageScroll);\n\n    // TODO make it responsive\n    const int = setInterval(() => {\n      if(newViewModel.screenInstanceId !== null || newViewModel.error !== null) {\n        this.viewModel = newViewModel;\n        console.log(\"View Model updated\");\n        this.changeDetectorRef.detectChanges();\n        clearInterval(int);\n        setTimeout(() => { // TODO this can be improved by getting callback from screen view model, or maybe from screen component\n          parent.postMessage(\"screenPortletLoaded\",\"*\");\n        });\n      }\n    }, 8);\n\n\n  }\n\n  private getParamsFromUrl() {\n    const params: Record<string, string> = {};\n    let locationHash = window.location.hash;\n    if (locationHash.indexOf(\"?\") >= 0) {\n      const searchParams = locationHash.substring(locationHash.indexOf(\"?\") + 1)\n      for (const [key, value] of (new URLSearchParams(searchParams).entries())) {\n        params[key] = value;\n      }\n    }\n    return params;\n  }\n\n  private initGlobalStyles(fontSizePx: number|undefined, backgroundColor: string|undefined, fontFamily: string|undefined, pageScroll: \"on\"|\"off\"|undefined) {\n    let style = \"\";\n\n    if (fontSizePx !== undefined) {\n      style += `html, body {font-size: ${fontSizePx}px !important;}`;\n    }\n\n    if (backgroundColor !== undefined) {\n      style += \"html, body {background-color: #\" + backgroundColor + \" !important;} #pageWelcome {background-color: #\" + backgroundColor + \" !important;}\";\n    }\n\n    if (pageScroll === \"on\") {\n      style += `html {overflow-y: scroll !important;}`;\n    } else if (pageScroll === \"off\") {\n      style += `html {overflow-y: hidden !important;}`;\n    }\n\n    if (style.length > 0) {\n      valueOrError(document.getElementById(\"predefinedStyle\"), \"No predefinedStyle\").innerHTML = style;\n    }\n  }\n\n  private parseUrl(): {\n    screenInstanceId?: string,\n    applicationIdentifier?: string,\n    screenIdentifier?: string,\n    backgroundColor?: string,\n    pageScroll?: \"on\"|\"off\",\n    fontSizePx?: number,\n    fontFamily?: string,\n    iframeId?: string\n  } {\n\n    let questionMarkIndex = window.location.hash.indexOf(\"?\");\n    const hash = questionMarkIndex >= 0\n      ? window.location.hash.substring(2, questionMarkIndex)\n      : window.location.hash.substring(2);\n\n    const urlPath = hash.split(\"/\").filter(t => t.length > 0);\n\n    let screenInstanceId: string|undefined = undefined;\n    let applicationIdentifier: string|undefined = undefined\n    let screenIdentifier: string|undefined = undefined;\n    let backgroundColor: string|undefined = undefined;\n    let fontSizePx: number|undefined = undefined;\n    let fontFamily: string|undefined = undefined;\n    let iframeId: string|undefined = undefined;\n    let pageScroll: string|undefined = undefined;\n\n\n    let portletStyleParams: Array<string> = [];\n    if(urlPath.length === 0) {\n      throw new Error(\"Incorrect URL (1)\");\n    } else if(urlPath[0].startsWith(\"@\")) {\n      screenInstanceId = urlPath[0].substring(1);\n      portletStyleParams = urlPath.slice(1);\n    } else if(urlPath.length === 1) {\n      throw new Error(\"Incorrect URL (2)\");\n    } else {\n      applicationIdentifier = urlPath[0];\n      screenIdentifier = urlPath[1];\n      portletStyleParams = urlPath.slice(2);\n    }\n\n    __(portletStyleParams).find(p => p.toLowerCase().match(/^n-background-color=[0-9a-f]{6}$/) !== null).forEach(definition => {\n      backgroundColor = definition.substring(\"n-background-color=\".length);\n    });\n\n    __(portletStyleParams).find(p => p.toLowerCase().match(/^n-font-size=[1-9]?[0-9]+$/) !== null).forEach(definition => {\n      fontSizePx = parseInt(definition.substring(\"n-font-size=\".length));\n    });\n\n    __(portletStyleParams).find(p => p.toLowerCase().match(/^n-scroll=(on|off)$/) !== null).forEach(definition => {\n      pageScroll = definition.substring(\"n-scroll=\".length);\n    });\n\n    __(portletStyleParams).find(p => p.toLowerCase().match(/^n-iframe-id=[1-9]?[0-9]+$/) !== null).forEach(definition => {\n      iframeId = definition.substring(\"n-iframe-id=\".length);\n    });\n\n    return {screenInstanceId: screenInstanceId,\n      applicationIdentifier: applicationIdentifier,\n      screenIdentifier: screenIdentifier,\n      backgroundColor: backgroundColor,\n      fontSizePx: fontSizePx,\n      pageScroll: pageScroll,\n      fontFamily: fontFamily,\n      iframeId: iframeId\n    };\n\n  }\n\n  // based on https://stackoverflow.com/questions/2090551/parse-query-string-in-javascript\n  private parseParams(queryString: string): Record<string, string> {\n    let query: Record<string, string> = {};\n    let pairs = (queryString[0] === '?' ? queryString.substring(1) : queryString).split('&');\n    for (let i = 0; i < pairs.length; i++) {\n      let pair = pairs[i].split('=');\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n    }\n    return query;\n  }\n\n\n\n  ngOnDestroy(): void {\n    window.removeEventListener('locationchange', this.onLocationChanged);\n    this.controller.stop();\n  }\n\n\n}\n","<div class=\"error\" *ngIf=\"viewModel !== null && viewModel.error !== null\">{{viewModel.error}}</div>\n<my-screen *ngIf=\"viewModel !== null && viewModel.screenInstanceId !== null\" [screenInstanceId]=\"viewModel.screenInstanceId\"\n           [terminateOnDestroy]=\"true\"\n           [externalEventBus]=\"viewModel.screenExternalEventBus\"></my-screen>\n\n","import {Component, Input, OnInit, ViewContainerRef} from '@angular/core';\nimport {ScreenInstanceId} from \"@libs/IdModel\";\nimport {\n  ScreenViewModel,\n  ScreenExternalEventBus,\n  ScreenInstanceService,\n  ScreenQueryService,\n  FilesService\n} from \"@screens\";\nimport {ServerEventsService} from \"../events/ServerEventsService\";\n\n@Component({\n  selector: 'my-screen',\n  templateUrl: './screen.component.html',\n  styleUrls: ['./screen.component.scss']\n})\nexport class ScreenComponent implements OnInit {\n\n  _screenInstanceId: ScreenInstanceId|undefined;\n  viewModel!: ScreenViewModel;\n  @Input() terminateOnDestroy: boolean = false;\n  @Input() externalEventBus: ScreenExternalEventBus|undefined;\n  allowDebug: boolean = false;\n  onNotFound: () => void|null = () => {};\n\n\n  private initiated = false;\n\n  constructor(private readonly screenInstanceService: ScreenInstanceService,\n              private readonly serverEventsService: ServerEventsService,\n              private readonly viewContainerRef: ViewContainerRef,\n              private readonly screenQueryService: ScreenQueryService,\n              private readonly filesService: FilesService) {\n  }\n\n  @Input() set screenInstanceId(screenInstanceId: ScreenInstanceId|undefined) {\n    this._screenInstanceId = screenInstanceId;\n    if(this.initiated) {\n      this.init();\n    }\n  }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  private init() {\n\n    this.initiated = true;\n\n    if(this._screenInstanceId === undefined) {\n      throw new Error(\"No screenInstanceId\");\n    } else {\n\n\n      this.screenQueryService.loadSkins((skins) => {\n\n        if(this._screenInstanceId === undefined) {\n          throw new Error(\"No screenInstanceId\");\n        } else {\n          // const externalEventBus: ScreenExternalEventBus = this.externalEventBus !== null ? this.externalEventBus : new ScreenExternalEventBus();\n          const externalEventBus: ScreenExternalEventBus = this.externalEventBus === undefined ? new ScreenExternalEventBus() : this.externalEventBus;\n\n          this.viewModel = new ScreenViewModel(this.viewContainerRef.element.nativeElement, this._screenInstanceId, this.terminateOnDestroy,\n            externalEventBus,\n            this.screenInstanceService, this.serverEventsService, this.filesService,\n            this.allowDebug, () => {\n              if (this.onNotFound !== null) {\n                this.onNotFound();\n              }\n            }, skins);\n        }\n      });\n    }\n  }\n\n}\n","<div class=\"screenInstance view\" *ngIf=\"viewModel\">\r\n  <button class=\"debugButton\" (click)=\"viewModel.toggleDebugInfo()\" *ngIf=\"viewModel.debugAvailable\" my-tooltip=\"{i18n: 'Debug', position: 'left'}\"><i class=\"ss-info\"></i></button>\r\n  <div class=\"viewCanvas childrenPlain\"><div\r\n    *ngFor=\"let component of viewModel.mainContainerViewModel\" class=\"ViewComponent ViewComponent{{component.id}} {{component.errorClass}}\" [style]=\"component.positionCss\">\r\n    <div class=\"componentBodyContainer labelPosition_{{component.label?.positionClass}}\">\r\n    <!--              SHARED -->\r\n    <ng-container [ngSwitch]=\"component.typeName\">\r\n      <my-section-container *ngSwitchCase=\"'Section'\" [viewModel]=\"$any(component)\"></my-section-container>\r\n      <my-repeatable-container *ngSwitchCase=\"'Repeatable'\" [viewModel]=\"$any(component)\"></my-repeatable-container>\r\n      <my-tabs-container *ngSwitchCase=\"'Tabs'\" [viewModel]=\"$any(component)\"></my-tabs-container>\r\n      <my-table-container *ngSwitchCase=\"'Table'\" [viewModel]=\"$any(component)\"></my-table-container>\r\n\r\n      <my-single-attachment-input-component *ngSwitchCase=\"'SingleAttachmentInput'\" [viewModel]=\"$any(component)\"></my-single-attachment-input-component>\r\n      <my-multi-attachment-input-component *ngSwitchCase=\"'MultiAttachmentInput'\" [viewModel]=\"$any(component)\"></my-multi-attachment-input-component>\r\n\r\n      <my-label-component *ngSwitchCase=\"'Label'\" [viewModel]=\"$any(component)\"></my-label-component>\r\n      <my-link-component *ngSwitchCase=\"'Link'\" [viewModel]=\"$any(component)\"></my-link-component>\r\n      <my-button-component *ngSwitchCase=\"'Button'\" [viewModel]=\"$any(component)\"></my-button-component>\r\n      <my-image-component *ngSwitchCase=\"'Image'\" [viewModel]=\"$any(component)\"></my-image-component>\r\n      <my-map-component *ngSwitchCase=\"'Map'\" [viewModel]=\"$any(component)\"></my-map-component>\r\n      <my-html-component *ngSwitchCase=\"'Html'\" [viewModel]=\"$any(component)\"></my-html-component>\r\n\r\n      <my-date-input-component *ngSwitchCase=\"'DateInput'\" [viewModel]=\"$any(component)\"></my-date-input-component>\r\n\r\n      <my-single-checkbox-component *ngSwitchCase=\"'SingleCheckbox'\" [viewModel]=\"$any(component)\"></my-single-checkbox-component>\r\n      <my-multi-checkbox-component *ngSwitchCase=\"'MultiCheckbox'\" [viewModel]=\"$any(component)\"></my-multi-checkbox-component>\r\n      <my-radio-button-component *ngSwitchCase=\"'RadioButton'\" [viewModel]=\"$any(component)\"></my-radio-button-component>\r\n      <my-drop-list-component *ngSwitchCase=\"'DropList'\" [viewModel]=\"$any(component)\"></my-drop-list-component>\r\n\r\n      <my-text-input-component *ngSwitchCase=\"'TextInput'\" [viewModel]=\"$any(component)\"></my-text-input-component>\r\n      <my-number-input-component *ngSwitchCase=\"'NumberInput'\" [viewModel]=\"$any(component)\"></my-number-input-component>\r\n      <my-password-input-component *ngSwitchCase=\"'PasswordInput'\" [viewModel]=\"$any(component)\"></my-password-input-component>\r\n\r\n      <my-switch-component *ngSwitchCase=\"'Switch'\" [viewModel]=\"$any(component)\"></my-switch-component>\r\n\r\n      <div *ngSwitchDefault>\r\n        Unsupported Component {{component.typeName}}\r\n      </div>\r\n    </ng-container>\r\n    <div class=\"errorsInfo\" *ngIf=\"component.error\">\r\n      <i class=\"errorsIcon ss-alert\" my-tooltip=\"{text: component.errorText, position: 'top'}\" title=\"{{component.errorText}}\"></i>\r\n    </div>\r\n\r\n    <div class=\"inProgressGlass\" *ngIf=\"component.inProgress\"></div>\r\n    <!--              SHARED -->\r\n    </div>\r\n  </div></div>\r\n  <div class=\"allErrorsInfo\" *ngIf=\"viewModel.validationErrors.length > 0 || viewModel.internalErrors.length > 0\">\r\n    <div class=\"errorsLabel\" *ngIf=\"viewModel.internalErrors.length > 0\">Errors:</div>\r\n    <button class=\"errorInfo\" *ngFor=\"let error of viewModel.internalErrors\">\r\n      <span class=\"definitionId\">{{error.definitionId}}</span>\r\n      <span class=\"refId\">{{error.refId}}</span>\r\n      <div class=\"componentName\"><i class=\"errorsIcon ss-alert\"></i>{{error.componentName}} :</div>\r\n      <div class=\"errorMessage\" *ngFor=\"let err of error.errors\">{{err.name}}: {{err.message}}</div>\r\n    </button>\r\n    <div class=\"errorsLabel\" *ngIf=\"viewModel.validationErrors.length > 0\">{{'screen_incorrect_form_values' | i18n}}:</div>\r\n    <button class=\"errorInfo\" *ngFor=\"let error of viewModel.validationErrors\">\r\n      <div class=\"componentName\">{{error.componentName}}:</div>\r\n      <div class=\"errorMessages\">\r\n        <div class=\"errorMessage\" *ngFor=\"let err of error.errors\">{{err}}</div>\r\n      </div>\r\n    </button>\r\n  </div>\r\n<!--  <my-screen-debug *ngIf=\"viewModel.debugInfoVisible\" view-model=\"viewModel.debugInfo\"></my-screen-debug>-->\r\n</div>\r\n","import {AutomaticActionId, AutomaticActionRefId} from \"@libs/IdModel\";\nimport {ApplicationComponentRef} from \"@screens\";\nimport {Either} from \"@libs/Either\";\nimport {Option} from \"@libs/Option\";\n\nexport class AutomaticActionRefWithSchedule {\n    constructor(readonly actionRef: AutomaticActionRef,\n                readonly delaySeconds: number,\n                readonly intervalSeconds: number) {\n    }\n\n    static copy(other: AutomaticActionRefWithSchedule) {\n      return new AutomaticActionRefWithSchedule(AutomaticActionRef.copy(other.actionRef), other.delaySeconds, other.intervalSeconds);\n    }\n  }\n\n  export class AutomaticActionRef {\n    constructor(readonly id: AutomaticActionRefId,\n                readonly applicationComponent: Option<ApplicationComponentRef>,\n                readonly actionId: Either<AutomaticActionId, string>) {\n    }\n\n    static copy(other: AutomaticActionRef) {\n      return new AutomaticActionRef(AutomaticActionRefId.copy(other.id),\n        Option.copy(other.applicationComponent, s => ApplicationComponentRef.copy(s)),\n        Either.copy(other.actionId, AutomaticActionId.copy, s => s));\n    }\n  }\n\n","import {ApplicationComponentId, ApplicationId, OrganizationId, ScreenId} from \"@libs/IdModel\";\nimport {OrganizationNodeId, PersonId} from \"@libs/OrganizationIdsModel\";\nimport {I18nText} from \"@libs/I18nText\";\nimport {None, Option} from \"@libs/Option\";\nimport {AggregateId, AggregateVersion} from \"@libs/AggregateId\";\n\n\nexport class ScreenRef {\n    private constructor(readonly id: string|undefined, // must be undefined instead of null for proper JSON serialization\n                        readonly identifier: string|undefined) {}// must be undefined instead of null for proper JSON serialization\n\n    static ofId(id: ScreenId) {\n      return new ScreenRef(id.id, undefined);\n    }\n\n    static ofIdentifier(identifier: string) {\n      return new ScreenRef(undefined, identifier);\n    }\n\n    static copy(other: ScreenRef) {\n      if(other.id != undefined) {\n        return new ScreenRef(other.id, undefined);\n      } else {\n        return new ScreenRef(undefined, other.identifier);\n      }\n    }\n\n    idOption(): Option<ScreenId> {\n      return Option.of(this.id).map(id => new ScreenId(id));\n    }\n    identifierOption(): Option<string> {\n      return Option.of(this.identifier);\n    }\n  }\n\n  export class ApplicationComponentRef {\n    private constructor(readonly id: ApplicationComponentId|undefined, // must be undefined instead of null for proper JSON serialization\n                readonly identifier: string|undefined) {}// must be undefined instead of null for proper JSON serialization\n\n    static ofId(id: ApplicationComponentId) {\n      return new ApplicationComponentRef(id, undefined);\n    }\n\n    static ofIdentifier(identifier: string) {\n      return new ApplicationComponentRef(undefined, identifier);\n    }\n\n    static copy(other: ApplicationComponentRef) {\n      if(other.id != undefined) {\n        return new ApplicationComponentRef(ApplicationComponentId.copy(other.id), undefined);\n      } else {\n        return new ApplicationComponentRef(undefined, other.identifier);\n      }\n    }\n\n    idOption(): Option<ApplicationComponentId> {\n      return Option.of(this.id);\n    }\n    identifierOption(): Option<string> {\n      return Option.of(this.identifier);\n    }\n\n    static ofScreenId(screenId: ScreenId) {\n      return new ApplicationComponentRef(ApplicationComponentId.ofScreenId(screenId), undefined);\n    }\n  }\n\n\n\n  export class ApplicationAuthorizations {\n    constructor(readonly read: Array<OrganizationNodeId>,\n                readonly edit: Array<OrganizationNodeId>,\n                readonly groupsManagement: Array<OrganizationNodeId>,\n                readonly access: Array<OrganizationNodeId>) {}\n\n    static copy(other: ApplicationAuthorizations) {\n      return new ApplicationAuthorizations(\n        other.read.map(OrganizationNodeId.copy),\n        other.edit.map(OrganizationNodeId.copy),\n        other.groupsManagement.map(OrganizationNodeId.copy),\n        other.access.map(OrganizationNodeId.copy)\n      )\n    }\n  }\n\n  export class ApplicationInfo {\n    constructor(\n      readonly id: ApplicationId,\n      readonly version: AggregateVersion,\n      readonly organizationId: OrganizationId,\n      readonly name: I18nText,\n      readonly codeName: string,\n      readonly description: I18nText,\n      readonly applicationCategoryId: number,\n      readonly ownerId: PersonId,\n      readonly authorizations: ApplicationAuthorizations\n    ) {}\n\n    static copy(other: ApplicationInfo) {\n      return new ApplicationInfo(ApplicationId.copy(other.id),\n        AggregateVersion.copy(other.version),\n        OrganizationId.copy(other.organizationId),\n        I18nText.copy(other.name),\n        other.codeName,\n        I18nText.copy(other.description),\n        other.applicationCategoryId,\n        PersonId.copy(other.ownerId),\n        ApplicationAuthorizations.copy(other.authorizations));\n    }\n  }\n\n\n  export class ApplicationName {\n    constructor(readonly id: ApplicationId,\n                readonly name: string,\n                readonly identifier: string) {}\n\n\n    static copy(other: ApplicationName) {\n      return new ApplicationName(\n        ApplicationId.copy(other.id),\n        other.name, other.identifier);\n    }\n  }\n\n  export class ApplicationSummary {\n    constructor(readonly id: ApplicationId,\n                public version: AggregateVersion,\n                public name: string,\n                public description: string,\n                public categoryId: number,\n                public ownerId: PersonId,\n                readonly identifier: string) {}\n\n    static copy(other: ApplicationSummary) {\n      return new ApplicationSummary(\n        ApplicationId.copy(other.id),\n        AggregateVersion.copy(other.version),\n        other.name,\n        other.description,\n        other.categoryId,\n        PersonId.copy(other.ownerId),\n        other.identifier);\n    }\n  }\n\n  export class ApplicationsSearchQuery {\n\n    constructor(public textQuery: Option<string>,\n                public onlyOwnedByPerson: Option<AggregateId>) {}\n\n    static empty(): ApplicationsSearchQuery {\n      return new ApplicationsSearchQuery(None(), None());\n    }\n  }\n\n\n","import {FileUri} from \"@libs/FileUri\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {BusinessEntityId} from \"@libs/IdModel\";\r\nimport {None, Some} from \"@libs/Option\";\r\nimport {businessEntityDownloadUrl} from \"@libs/Attachments\";\r\nimport {DirInfo, FileBasicInfo, FileInfo, FileNotFound} from \"./files/FilesMessages\";\r\nimport {FilesService} from \"./files/FilesService\";\r\n\r\n\r\n  export class FileInfoModel {\r\n\r\n    constructor(\r\n      readonly uri: FileUri,\r\n      readonly exists: boolean,\r\n      readonly directory: boolean,\r\n      readonly name: string,\r\n      readonly size: number,\r\n      readonly version: number,\r\n      readonly repositoryPath: Option<string>,\r\n      readonly modified: LocalDateTime,\r\n      readonly downloadUrl: string\r\n    ) {}\r\n\r\n    static ofBasicInfo(info: FileBasicInfo, downloadUrl: (uri: FileUri) => string): FileInfoModel {\r\n      if (info instanceof DirInfo) {\r\n        const path: Option<string> = info.path.length === 0 ? None() : Some(info.path);\r\n        return new FileInfoModel(\r\n          info.uri,\r\n          true,\r\n          true,\r\n          info.name,\r\n          0,\r\n          0,\r\n          path,\r\n          info.modified,\r\n          \"\"\r\n        );\r\n      } else if (info instanceof FileInfo) {\r\n        const path: Option<string> = info.path.length === 0 ? None() : Some(info.path);\r\n        return new FileInfoModel(\r\n          info.uri,\r\n          true,\r\n          false,\r\n          info.name,\r\n          info.size,\r\n          info.version,\r\n          path,\r\n          info.modified,\r\n          downloadUrl(info.uri)\r\n        );\r\n      } else if (info instanceof FileNotFound) {\r\n        if (info.uri.isAnyFile()) {\r\n          return new FileInfoModel(\r\n            info.uri,\r\n            false,\r\n            false,\r\n            \"\",\r\n            0,\r\n            0,\r\n            None(),\r\n            LocalDateTime.ZERO,\r\n            \"\"\r\n          );\r\n        } else {\r\n          return new FileInfoModel(\r\n            info.uri,\r\n            false,\r\n            true,\r\n            \"\",\r\n            0,\r\n            0,\r\n            None(),\r\n            LocalDateTime.ZERO,\r\n            \"\"\r\n          );\r\n        }\r\n      } else {\r\n        throw new Error(\"Incorrect file type [\" + (<any>info).className() + \"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class BusinessVariableInputServerModel {\r\n    constructor(\r\n      readonly filesService: FilesService,\r\n      // readonly incomingEmailsQueryService: IncomingEmailsQueryService,\r\n      // readonly processFlowService: ProcessFlowService,\r\n      // readonly businessEntityQueryService: BusinessEntityQueryService\r\n    ) {\r\n    }\r\n\r\n    loadFilesInfo(file: FileUri, onSuccess: (fileInfo: FileInfoModel) => void): void {\r\n      this.filesService.filesInfo([file], files => {\r\n        onSuccess(FileInfoModel.ofBasicInfo(files[0], (uri) => businessEntityDownloadUrl(new BusinessEntityId(\"\"), uri)));\r\n      });\r\n    }\r\n\r\n    loadEmailsInfo(requestNumber: number, emails: Array<FileUri>, onSuccess: (requestNumber: number, emailsInfo: Array<any>) => void): void {\r\n      throw new Error(\"Not implemented\");\r\n      // if(emails.length == 0) {\r\n      //   onSuccess(requestNumber, []);\r\n      // } else {\r\n      //   this.incomingEmailsQueryService.loadEmailsSummary(requestNumber, emails, onSuccess);\r\n      // }\r\n    }\r\n\r\n    // loadEmailInfo(email: FileUri, onSuccess: (emailInfo: EmailBasicInfo) => void): void {\r\n    //   this.loadEmailsInfo(0, [email], (requestNumber: number, emailsInfo: Array<EmailBasicInfo>) => onSuccess(emailsInfo[0]));\r\n    // }\r\n\r\n  }\r\n\r\n\r\n","import {AutomaticActionId, AutomaticActionRefId} from \"@libs/IdModel\";\r\nimport {\r\n  AutomaticActionRef,\r\n  AutomaticVariableMode,\r\n  AutomaticVariableSettings,\r\n  ComponentProperty,\r\n  EntriesLayoutType,\r\n  LayoutAlign,\r\n  LayoutStretch,\r\n  LayoutType,\r\n  ScreenAuthorizationType,\r\n  ScreenComponentId,\r\n  ScreenComponentRef,\r\n  ScreenComponentRefFactory,\r\n  ScreenComponentRefId,\r\n  ScreenLifeMode,\r\n  ValidationMessageType,\r\n  ValidationRule,\r\n  ValidationRuleId,\r\n  ValidationRuleRef\r\n} from \"@screens\";\r\nimport {AutomaticAction} from \"@libs/ActionsModel\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {BusinessVariable, BusinessVariableType} from \"@libs/ProcessVariables\";\r\nimport {AnyVariablePath} from \"@libs/VariablePath\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\nexport interface ScreenEditorCommand {\r\n    className(): string;\r\n  }\r\n\r\n\r\n  export class CreateComponentRef implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateComponentRef\";\r\n    }\r\n\r\n    constructor(readonly ref: Typed<ScreenComponentRef>,\r\n                readonly containerId: ScreenComponentId,\r\n                readonly containerPlainId: number,\r\n                readonly childIndex: number) {}\r\n\r\n    static of(ref: ScreenComponentRef, containerId: ScreenComponentId, containerPlainId: number, childIndex: number) {\r\n      const refCopy = ScreenComponentRefFactory.copy(ref);\r\n      refCopy.defaultPropertiesProvider = undefined; // unification with server model\r\n      return new CreateComponentRef(Typed.of(refCopy), containerId, containerPlainId, childIndex);\r\n    }\r\n  }\r\n\r\n  export class CreateSection implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateSection\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly layout: LayoutType,\r\n                readonly stretch: LayoutStretch,\r\n                readonly align: LayoutAlign,\r\n                readonly gap: Option<string>,\r\n                readonly padding: Option<string>,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreateRepeatable implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateRepeatable\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly entriesLayout: EntriesLayoutType,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string,\r\n                readonly layout: LayoutType,\r\n                readonly stretch: LayoutStretch,\r\n                readonly align: LayoutAlign,\r\n                readonly gap: Option<string>,\r\n                readonly padding: Option<string>) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreateTable implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateTable\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n\r\n  export class AddTableColumn implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"AddTableColumn\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly componentRefId: ScreenComponentRefId,\r\n                readonly label: I18nText) {}\r\n  }\r\n\r\n  export class TabToCreate {\r\n    constructor(readonly tabId: number,\r\n                readonly name: I18nText,\r\n                readonly layout: LayoutType,\r\n                readonly stretch: LayoutStretch,\r\n                readonly align: LayoutAlign,\r\n                readonly gap: Option<string>,\r\n                readonly padding: Option<string>) {}\r\n  }\r\n\r\n  export class CreateTabs implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateTabs\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly tabs: Array<TabToCreate>,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class AddTabToTabs implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"AddTabToTabs\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly tabId: number,\r\n                readonly tabName: I18nText,\r\n                readonly layout: LayoutType,\r\n                readonly stretch: LayoutStretch,\r\n                readonly align: LayoutAlign,\r\n                readonly gap: Option<string>,\r\n                readonly padding: Option<string>) {}\r\n  }\r\n\r\n  export class ReorderTabs implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ReorderTabs\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly tabIds: Array<number>) {}\r\n  }\r\n\r\n\r\n  export class DeleteTabFromTabs implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"DeleteTabFromTabs\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly tabId: number) {}\r\n  }\r\n\r\n\r\n  export class CreateTextInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateTextInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreatePasswordInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreatePasswordInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateNumberInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateNumberInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n  export class CreateDateInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateDateInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateDateTimeInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateDateTimeInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n  export class CreateTimeInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateTimeInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateDurationInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateDurationInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateDropList implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateDropList\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string,\r\n                readonly options: Array<string>) {}\r\n  }\r\n\r\n\r\n  export class CreateCalendar implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateCalendar\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly entriesVariableName: string,\r\n                readonly selectedVariableName: string) {}\r\n  }\r\n\r\n  export class CreateMap implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateMap\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly markersVariableName: string,\r\n                readonly selectedVariableName: string,\r\n                readonly mapBoundariesVariableName: string,\r\n                readonly mapCenterVariableName: string) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreateRadioButton implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateRadioButton\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string,\r\n                readonly options: Array<string>) {}\r\n  }\r\n\r\n\r\n\r\n\r\n  export class CreateMultiCheckbox implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateMultiCheckbox\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string,\r\n                readonly options: Array<string>) {}\r\n  }\r\n\r\n\r\n  export class CreateSingleCheckbox implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateSingleCheckbox\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly valueLabel: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateSwitch implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateSwitch\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateSingleAttachmentInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateSingleAttachmentInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n  export class CreateMultiAttachmentInput implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateMultiAttachmentInput\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class CreateButton implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateButton\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText) {}\r\n  }\r\n\r\n\r\n  export class CreateLabel implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateLabel\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly text: I18nText) {}\r\n  }\r\n\r\n\r\n  export class CreateLink implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateLink\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly url: string) {}\r\n  }\r\n\r\n\r\n  export class CreateImage implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateImage\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreateHtml implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateHtml\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly html: string) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreateWidgetComponent implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateWidgetComponent\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId) {}\r\n  }\r\n\r\n\r\n\r\n  export class CreatePersonSelect implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreatePersonSelect\";\r\n    }\r\n\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly label: I18nText,\r\n                readonly modelVariableName: string) {}\r\n  }\r\n\r\n\r\n  export class ChangeComponentPosition implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentPosition\";\r\n    }\r\n    constructor(\r\n      readonly componentRefId: ScreenComponentRefId,\r\n      readonly left: number,\r\n      readonly top: number) {}\r\n  }\r\n\r\n  export class MoveComponentToNewContainer implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"MoveComponentToNewContainer\";\r\n    }\r\n    constructor(\r\n      readonly componentRefId: ScreenComponentRefId,\r\n      readonly oldContainerId: ScreenComponentId,\r\n      readonly oldPlainId: number,\r\n      readonly newContainerId: ScreenComponentId,\r\n      readonly newPlainId: number,\r\n      readonly childIndex: number,\r\n      readonly left: number,\r\n      readonly top: number) {}\r\n  }\r\n\r\n\r\n  export class ChangeComponentIdentifier implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentIdentifier\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly identifier: Option<string>) {}\r\n  }\r\n\r\n\r\n\r\n  export class MoveComponent implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"MoveComponent\";\r\n    }\r\n    constructor(\r\n      readonly componentRefId: ScreenComponentRefId,\r\n      readonly left: number,\r\n      readonly top: number) {}\r\n  }\r\n\r\n  export class ChangeComponentDesiredSize implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentDesiredSize\";\r\n    }\r\n    constructor(\r\n      readonly componentRefId: ScreenComponentRefId,\r\n      readonly width: number,\r\n      readonly height: number) {}\r\n  }\r\n\r\n  export class ChangeComponentMinContentSize implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentMinContentSize\";\r\n    }\r\n    constructor(\r\n      readonly componentId: ScreenComponentId,\r\n      readonly minWidth: number,\r\n      readonly minHeight: number) {}\r\n  }\r\n\r\n  export class ChangeComponentDesiredHeight implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentDesiredHeight\";\r\n    }\r\n    constructor(readonly componentRefId: ScreenComponentRefId,\r\n                readonly height: number) {}\r\n  }\r\n\r\n  export class ChangeComponentDesiredWidth implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentDesiredWidth\";\r\n    }\r\n    constructor(readonly componentRefId: ScreenComponentRefId,\r\n                readonly width: number) {}\r\n  }\r\n\r\n  export class ChangeComponentContentMinHeight implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentContentMinHeight\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly height: number) {}\r\n  }\r\n\r\n  export class ChangeComponentContentMinWidth implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentContentMinWidth\";\r\n    }\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly width: number) {}\r\n  }\r\n\r\n  export class ChangeComponentGridPosition implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentGridPosition\";\r\n    }\r\n    constructor(readonly componentRefId: ScreenComponentRefId,\r\n                readonly column: number,\r\n                readonly columnSpan: number,\r\n                readonly row: number,\r\n                readonly rowSpan: number) {}\r\n  }\r\n\r\n  export class ChangeComponentGridPositionNewContainer implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeComponentGridPositionNewContainer\";\r\n    }\r\n    constructor(readonly componentRefId: ScreenComponentRefId,\r\n                readonly containerId: ScreenComponentId,\r\n                readonly column: number,\r\n                readonly columnSpan: number,\r\n                readonly row: number,\r\n                readonly rowSpan: number) {}\r\n  }\r\n\r\n  export class DeleteComponentRef implements ScreenEditorCommand {\r\n    constructor(readonly containerId: ScreenComponentId,\r\n                readonly containerPlainId: number,\r\n                readonly componentRefId: ScreenComponentRefId) {}\r\n    className(): string {\r\n      return \"DeleteComponentRef\";\r\n    }\r\n  }\r\n\r\n  export class ComponentRefIndex {\r\n    constructor(readonly componentRefId: ScreenComponentRefId,\r\n                readonly toIndex: number) {\r\n    }\r\n  }\r\n\r\n  export class RearrangeComponentRefs implements ScreenEditorCommand {\r\n    constructor(readonly containerId: ScreenComponentId,\r\n                readonly containerPlainId: number,\r\n                readonly newComponentsIndieces: Array<ComponentRefIndex>) {}\r\n    className(): string {\r\n      return \"RearrangeComponentRefs\";\r\n    }\r\n  }\r\n\r\n\r\n  // Automatic actions\r\n\r\n  export class CreateScriptAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateScriptAction\";\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId) {\r\n    }\r\n  }\r\n\r\n  export class CreateClearValueAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateClearValueAction\";\r\n    }\r\n    constructor(readonly id: AutomaticActionId) {}\r\n  }\r\n\r\n  export class CreateSetValueAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateSetValueAction\";\r\n    }\r\n    constructor(readonly id: AutomaticActionId) {}\r\n  }\r\n\r\n  export class CreateCompleteAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"CreateCompleteAction\";\r\n    }\r\n\r\n    constructor(readonly action: Typed<AutomaticAction>) {}\r\n  }\r\n\r\n\r\n  export class DeleteAutomaticAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"DeleteAutomaticAction\";\r\n    }\r\n\r\n    constructor(readonly id: AutomaticActionId) {}\r\n  }\r\n\r\n  export class ChangeAction implements ScreenEditorCommand {\r\n    className(): string {\r\n      return \"ChangeAction\";\r\n    }\r\n    constructor(readonly action: Typed<AutomaticAction>) {}\r\n  }\r\n\r\n\r\n\r\n\r\n  export class ChangeComponentDefinitionActionsProperty implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string,\r\n                readonly actions: Array<AutomaticActionRef>) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeComponentDefinitionActionsProperty\";\r\n    }\r\n  }\r\n\r\n  export class ChangeComponentDefinitionActionValidation implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string,\r\n                readonly validationRules: Array<ValidationRuleRef>) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeComponentDefinitionActionValidation\";\r\n    }\r\n  }\r\n\r\n\r\n  export class ChangeComponentActionComponentsToValidate  implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string,\r\n                readonly componentsToValidate: Array<ScreenComponentRefId>) {}\r\n    className(): string {\r\n      return \"ChangeComponentActionComponentsToValidate\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class ChangeComponentDefinitionProperty implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string,\r\n                readonly property: Typed<ComponentProperty<BusinessVariable>>) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeComponentDefinitionProperty\";\r\n    }\r\n  }\r\n\r\n  export class ClearComponentDefinitionProperty implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string) {}\r\n    className(): string {\r\n      return \"ClearComponentDefinitionProperty\";\r\n    }\r\n  }\r\n\r\n\r\n  export class ChangeComponentRefProperty implements ScreenEditorCommand {\r\n    constructor(readonly refId: ScreenComponentRefId,\r\n                readonly name: string,\r\n                readonly property: Typed<ComponentProperty<BusinessVariable>>) {}\r\n    className(): string {\r\n      return \"ChangeComponentRefProperty\";\r\n    }\r\n  }\r\n\r\n\r\n  export class ClearComponentRefProperty implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly name: string) {}\r\n    className(): string {\r\n      return \"ClearComponentRefProperty\";\r\n    }\r\n  }\r\n\r\n  export class DeleteComponent implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId) {}\r\n    className(): string {\r\n      return \"DeleteComponent\";\r\n    }\r\n  }\r\n\r\n  export class ChangeComponentDefinitionValidationRules  implements ScreenEditorCommand {\r\n    constructor(readonly componentId: ScreenComponentId,\r\n                readonly validationRules: Array<ValidationRuleRef>) {}\r\n    className(): string {\r\n      return \"ChangeComponentDefinitionValidationRules\";\r\n    }\r\n  }\r\n\r\n  export class CreateCompleteValidationRule  implements ScreenEditorCommand {\r\n    constructor(public validationRule: ValidationRule) {}\r\n    className(): string {\r\n      return \"CreateCompleteValidationRule\";\r\n    }\r\n  }\r\n\r\n  export class CreateValidationRule  implements ScreenEditorCommand {\r\n    constructor(readonly id: ValidationRuleId,\r\n                readonly messageType: ValidationMessageType) {}\r\n    className(): string {\r\n      return \"CreateValidationRule\";\r\n    }\r\n  }\r\n\r\n  export class ChangeValidationRule implements ScreenEditorCommand {\r\n    constructor(readonly ruleId: ValidationRuleId,\r\n                readonly identifier: Option<string>,\r\n                readonly name: Option<string>,\r\n                readonly expression: string,\r\n                readonly messageType: ValidationMessageType,\r\n                readonly message: I18nText,\r\n                readonly messageExpression: string) {}\r\n    className(): string {\r\n      return \"ChangeValidationRule\";\r\n    }\r\n  }\r\n\r\n\r\n  export class DeleteValidationRule  implements ScreenEditorCommand {\r\n    constructor(readonly ruleId: ValidationRuleId) {}\r\n    className(): string {\r\n      return \"DeleteValidationRule\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  export class ChangeDescription implements ScreenEditorCommand {\r\n    constructor(readonly description: I18nText) {}\r\n    className(): string {\r\n      return \"ChangeDescription\";\r\n    }\r\n  }\r\n\r\n  export class ChangeTitleExpression implements ScreenEditorCommand {\r\n    constructor(readonly titleExpression: string) {}\r\n    className(): string {\r\n      return \"ChangeTitleExpression\";\r\n    }\r\n  }\r\n\r\n  export class AddOnInitAction implements ScreenEditorCommand {\r\n    constructor(readonly actionId: number) {}\r\n    className(): string {\r\n      return \"AddOnInitAction\";\r\n    }\r\n  }\r\n\r\n  export class ChangeOnInitAction implements ScreenEditorCommand {\r\n    constructor(readonly action: Typed<AutomaticAction>) {}\r\n    className(): string {\r\n      return \"ChangeOnInitAction\";\r\n    }\r\n  }\r\n\r\n  export class DeleteOnInitAction implements ScreenEditorCommand {\r\n    constructor(readonly actionId: number) {}\r\n    className(): string {\r\n      return \"DeleteOnInitAction\";\r\n    }\r\n  }\r\n\r\n  export class AddOnIntervalAction implements ScreenEditorCommand {\r\n    constructor(readonly actionId: number) {}\r\n    className(): string {\r\n      return \"AddOnIntervalAction\";\r\n    }\r\n  }\r\n\r\n  export class ChangeOnInitActions implements ScreenEditorCommand {\r\n    constructor(readonly actions: Array<Typed<AutomaticAction>>) {}\r\n    className(): string {\r\n      return \"ChangeOnInitActions\";\r\n    }\r\n  }\r\n\r\n  export class AddParam implements ScreenEditorCommand {\r\n    constructor(readonly paramId: number,\r\n                readonly tpe: Typed<BusinessVariableType>) {}\r\n    className(): string {\r\n      return \"AddParam\";\r\n    }\r\n  }\r\n\r\n  export class ChangeParam implements ScreenEditorCommand {\r\n    constructor(readonly paramId: number,\r\n                readonly variableName: string,\r\n                readonly tpe: Typed<BusinessVariableType>,\r\n                readonly defaultValue: Option<Typed<BusinessVariable>>,\r\n                readonly documentation: I18nText) {}\r\n    className(): string {\r\n      return \"ChangeParam\";\r\n    }\r\n  }\r\n\r\n  export class DeleteParam implements ScreenEditorCommand {\r\n    constructor(readonly paramId: number) {}\r\n    className(): string {\r\n      return \"DeleteParam\";\r\n    }\r\n  }\r\n\r\n\r\n  export class AddAutomaticVariable implements ScreenEditorCommand {\r\n    constructor(readonly automaticVariableId: number,\r\n                readonly path: AnyVariablePath,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly script: string) {}\r\n    className(): string {\r\n      return \"AddAutomaticVariable\";\r\n    }\r\n  }\r\n\r\n  export class ChangeAutomaticVariable implements ScreenEditorCommand {\r\n    constructor(readonly automaticVariableId: number,\r\n                readonly path: AnyVariablePath,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly settings: Typed<AutomaticVariableSettings>) {}\r\n    className(): string {\r\n      return \"ChangeAutomaticVariable\";\r\n    }\r\n  }\r\n\r\n  export class AddAutomaticVariableDefined implements ScreenEditorCommand {\r\n    constructor(readonly automaticVariableId: number,\r\n                readonly path: AnyVariablePath,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly settings: Typed<AutomaticVariableSettings>) {}\r\n    className(): string {\r\n      return \"AddAutomaticVariableDefined\";\r\n    }\r\n  }\r\n\r\n  export class DeleteAutomaticVariable implements ScreenEditorCommand {\r\n    constructor(readonly automaticVariableId: number) {}\r\n    className(): string {\r\n      return \"DeleteAutomaticVariable\";\r\n    }\r\n  }\r\n\r\n\r\n  export class ChangeAuthorizationType implements ScreenEditorCommand {\r\n    constructor(readonly authorizationType: ScreenAuthorizationType) {}\r\n    className(): string {\r\n      return \"ChangeAuthorizationType\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class AddScreenAutomaticVariableBoundExpression implements ScreenEditorCommand {\r\n    constructor(readonly id: number,\r\n                readonly path: string,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly async: boolean,\r\n                readonly expression: string) {}\r\n\r\n    className(): string {\r\n      return \"AddScreenAutomaticVariableBoundExpression\";\r\n    }\r\n  }\r\n\r\n  export class DeleteScreenAutomaticVariable implements ScreenEditorCommand {\r\n    constructor(readonly id: number) {}\r\n\r\n    className(): string {\r\n      return \"DeleteScreenAutomaticVariable\";\r\n    }\r\n  }\r\n\r\n  export class ChangeScreenAutomaticVariable implements ScreenEditorCommand {\r\n    constructor(readonly id: number,\r\n                readonly path: AnyVariablePath,\r\n                readonly mode: AutomaticVariableMode,\r\n                readonly settings: Typed<AutomaticVariableSettings>) {}\r\n\r\n    className(): string {\r\n      return \"ChangeScreenAutomaticVariable\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class AddScreenParam implements ScreenEditorCommand {\r\n    constructor(readonly id: number,\r\n                readonly tpe: Typed<BusinessVariableType>,\r\n                readonly variableName: string) {\r\n    }\r\n    className(): string {\r\n      return \"AddScreenParam\";\r\n    }\r\n  }\r\n\r\n  export class DeleteScreenParam implements ScreenEditorCommand {\r\n    constructor(readonly id: number) {\r\n    }\r\n    className(): string {\r\n      return \"DeleteScreenParam\";\r\n    }\r\n  }\r\n\r\n  export class ChangeScreenParam implements ScreenEditorCommand {\r\n    constructor(readonly id: number,\r\n                readonly tpe: Typed<BusinessVariableType>,\r\n                readonly defaultValue: Option<Typed<BusinessVariable>>,\r\n                readonly documentation: I18nText,\r\n                readonly input: boolean,\r\n                readonly output: boolean,\r\n                readonly required: boolean,\r\n                readonly variableName: string) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeScreenParam\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n  export class AddScreenOnInitAction implements ScreenEditorCommand {\r\n    constructor(readonly refId: AutomaticActionRefId,\r\n                readonly actionId: AutomaticActionId) {\r\n    }\r\n    className(): string {\r\n      return \"AddScreenOnInitAction\";\r\n    }\r\n  }\r\n\r\n  export class RearrangeScreenOnInitActions implements ScreenEditorCommand {\r\n      constructor(readonly refsIds: Array<AutomaticActionRefId>) {\r\n    }\r\n    className(): string {\r\n      return \"RearrangeScreenOnInitActions\";\r\n    }\r\n  }\r\n\r\n  export class DeleteScreenOnInitAction implements ScreenEditorCommand {\r\n    constructor(readonly refId: AutomaticActionRefId) {\r\n    }\r\n    className(): string {\r\n      return \"DeleteScreenOnInitAction\";\r\n    }\r\n  }\r\n\r\n\r\n  export class AddScreenOnIntervalAction implements ScreenEditorCommand {\r\n    constructor(readonly refId: AutomaticActionRefId,\r\n                readonly actionId: AutomaticActionId,\r\n                readonly delaySeconds: number,\r\n                readonly intervalSeconds: number) {\r\n    }\r\n    className(): string {\r\n      return \"AddScreenOnIntervalAction\";\r\n    }\r\n  }\r\n\r\n  export class RearrangeScreenOnIntervalActions implements ScreenEditorCommand {\r\n    constructor(readonly refsIds: Array<AutomaticActionRefId>) {\r\n    }\r\n    className(): string {\r\n      return \"RearrangeScreenOnIntervalActions\";\r\n    }\r\n  }\r\n\r\n\r\n  export class DeleteScreenOnIntervalAction implements ScreenEditorCommand {\r\n    constructor(readonly refId: AutomaticActionRefId) {\r\n    }\r\n    className(): string {\r\n      return \"DeleteScreenOnIntervalAction\";\r\n    }\r\n  }\r\n\r\n\r\n  export class ChangeScreenOnIntervalAction implements ScreenEditorCommand {\r\n    constructor(readonly refId: AutomaticActionRefId,\r\n                readonly delaySeconds: number,\r\n                readonly intervalSeconds: number) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeScreenOnIntervalAction\";\r\n    }\r\n  }\r\n\r\n  export class ChangeScreenLifeMode implements ScreenEditorCommand {\r\n    constructor(readonly lifeMode: ScreenLifeMode) {\r\n    }\r\n    className(): string {\r\n      return \"ChangeScreenLifeMode\";\r\n    }\r\n  }\r\n","import { EventBus } from \"@libs/EventBus\";\r\nimport { BusinessVariable } from \"@libs/ProcessVariables\";\r\nimport {ScreenDebugInfo} from \"@screens\";\r\nimport {Option} from \"@libs/Option\";\r\n\r\n\r\nexport class ScreenEventBus extends EventBus {\r\n\r\n    componentHeightChanged() {}\r\n\r\n    componentsStateUpdated() {}\r\n\r\n    debugInfoAvailableLoaded(debugInfo: boolean) {}\r\n\r\n    debugInfoLoaded(debugInfo: ScreenDebugInfo) {}\r\n\r\n    expressionEvaluated(callNumber: number, result: BusinessVariable, durationMillis: number) {}\r\n    expressionEvaluatedWithError(callNumber: number, error: string, durationMillis: number) {}\r\n\r\n    outputParameterChanged(input: boolean, variableName: string, businessVariableOptional: Option<BusinessVariable>) {}\r\n  }\r\n","import {ApplicationId, ScreenId, ScreenInstanceId, ScreenReleaseId, VariableId, WidgetInstanceId} from \"@libs/IdModel\";\nimport {\n  AddRepeatableContextEntry,\n  AppendToComponentModel,\n  ApplicationResponse,\n  ChangeComponentModel,\n  ChangeMultipleComponentModels,\n  ChangeSimpleInputParameters,\n  ClearComponentModel,\n  ComponentModelChange,\n  CreateScreenInstance,\n  CreateScreenWorkingReleaseInstance,\n  DeleteRepeatableContextEntry,\n  EvaluateExpressionInScreen,\n  EvaluateExpressionInScreenFailureResponse,\n  EvaluateExpressionInScreenResponse,\n  EvaluateExpressionInScreenResponseFactory,\n  EvaluateExpressionInScreenSuccessResponse,\n  ExecuteAction, ExecuteEntryAction,\n  GetScreenInstanceForWidgetScope, GetScreenInstanceState,\n  MoveEntry,\n  RefIdInContext,\n  RemoveFromComponentModel,\n  ScreenDebugInfo, ScreenDefinitionComponents,\n  ScreenInstanceState,\n  ScreenInstanceSummary,\n  TerminateScreen\n} from \"@screens\";\nimport {Either, Left, Right} from \"@libs/Either\";\nimport {AuthenticatedHttp} from \"@libs/AuthenticatedHttp\";\nimport {BusinessVariable} from \"@libs/ProcessVariables\";\nimport {Typed} from \"@libs/Typed\";\nimport toastr from \"@libs/components/toastr/toastr\";\nimport {Injectable} from \"@angular/core\";\nimport {ApplicationComponentRef} from \"@screens\";\nimport {ScreenInitResponse} from \"@screens\";\nimport {Option, Some} from \"@libs/Option\";\n\n\n@Injectable({\n  providedIn: 'root',\n})\n  export class ScreenInstanceService {\n\n    constructor(readonly authenticatedHttp: AuthenticatedHttp) {\n    }\n\n    run(applicationId: ApplicationId, screenId: ScreenId, params: Array<[string, string]>, onSuccess: (screenInstanceId: ScreenInstanceId, volatileScreen: Boolean) => void, onError: (error: string) => void) {\n      this.authenticatedHttp.post(\"screen/run\", new CreateScreenInstance(Left(applicationId), ApplicationComponentRef.ofScreenId(screenId), params, true), (data: Either<string, ScreenInitResponse>) => {\n        const result = Either.copy(data, l => l, r => ScreenInitResponse.copy(r));\n        if (result.isRight()) {\n          onSuccess(result.getRight().screenInstanceId, result.getRight().volatileScreen);\n        } else {\n          onError(result.getLeft());\n        }\n      })\n    }\n\n    runWorkingRelease(applicationId: ApplicationId, screenId: ScreenId, params: Array<[string, string]>, onSuccess: (screenInstanceId: ScreenInstanceId, volatileScreen: Boolean) => void, onError: (error: string) => void) {\n      this.authenticatedHttp.post(\"screen/run-working-release\", new CreateScreenWorkingReleaseInstance(Left(applicationId), ApplicationComponentRef.ofScreenId(screenId), params), (data: Either<string, ScreenInitResponse>) => {\n        const result = Either.copy(data, l => l, r => ScreenInitResponse.copy(r));\n        if (result.isRight()) {\n          onSuccess(result.getRight().screenInstanceId, result.getRight().volatileScreen);\n        } else {\n          onError(result.getLeft());\n        }\n      })\n    }\n\n    private instanceCache: Map<string, ScreenInstanceState> = new Map();\n\n\n    private getComponents(applicationIdentifier: string, screenIdentifier: string, storedScreenReleasesIds: string, onError: (message: string) => void): Promise<ScreenDefinitionComponents> {\n      // Components definition is quite large, so we want browser to cache it, thous separate GET request\n      return new Promise<ScreenDefinitionComponents>((resolve, reject) => {\n        this.authenticatedHttp.get(\"screen/external-get-screen-components/\"+applicationIdentifier+\"/\"+ screenIdentifier+\"?\"+storedScreenReleasesIds, (data: Either<string, ScreenDefinitionComponents>) => {\n          const result = Either.copy(data, l => l, r => ScreenDefinitionComponents.copy(r));\n          if(result.isRight()) {\n            resolve(result.getRight());\n          } else {\n            onError(result.getLeft());\n          }\n        });\n      });\n    }\n\n    runExternal(applicationIdentifier: string, screenIdentifier: string, params: Array<[string, string]>,\n                onSuccess: (screenInstanceId: ScreenInstanceId, volatileScreen: boolean) => void, onError: (error: string) => void) {\n\n      let storedScreenReleasesIds = localStorage.getItem(\"screenReleases|\"+applicationIdentifier+\"|\"+screenIdentifier);\n      let components: Promise<ScreenDefinitionComponents>|null =\n        storedScreenReleasesIds === null ? null : this.getComponents(applicationIdentifier, screenIdentifier, storedScreenReleasesIds, onError);\n\n\n      this.authenticatedHttp.post(\"screen/run-external-anonymously-and-get\",\n        new CreateScreenInstance(Right(applicationIdentifier), ApplicationComponentRef.ofIdentifier(screenIdentifier), params, false), (data: Either<string, ScreenInstanceState>) => {\n        const result = Either.copy(data, l => l, r => ScreenInstanceState.copy(r));\n        if (result.isRight()) {\n          let instance: ScreenInstanceState = result.getRight();\n\n          let allReleases = instance.allScreensReleases.sort().join(\",\");\n          if(components === null || storedScreenReleasesIds !== allReleases) {\n            components = this.getComponents(applicationIdentifier, screenIdentifier, allReleases, onError);\n            localStorage.setItem(\"screenReleases|\"+applicationIdentifier+\"|\"+screenIdentifier, allReleases);\n          }\n\n          if(components === null ){\n            throw new Error(\"Should not happen\");\n          } else {\n            components.then(data => {\n              instance.components = Some(data.components);\n\n              this.instanceCache.set(instance.id.id, instance);\n\n              setTimeout(() => {\n                this.instanceCache.delete(instance.id.id);\n              }, 10000); // just to not keep it unnecessary\n\n              onSuccess(instance.id, (instance.lifeMode.isVolatile()));\n            });\n          }\n\n\n        } else {\n          onError(result.getLeft());\n        }\n      }, (status) => {\n        onError(\"Unable to initialize Screen: \" + status);\n      })\n    }\n\n    changeInputParameters(instanceId: ScreenInstanceId, params: Array<[string, string]>, onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/change-input-parameters\", new ChangeSimpleInputParameters(instanceId, params), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n      })\n    }\n\n    getForWidgetScope(widgetInstanceId: WidgetInstanceId, onSuccess: (instance: ScreenInstanceId) => void, onError: (message: string) => void) {\n      this.authenticatedHttp.post(\"screen/get-for-widget-scope\", new GetScreenInstanceForWidgetScope(widgetInstanceId), (data: Either<string, ScreenInstanceId>) => {\n        const result = Either.copy(data, l => l, r => r);\n        if (result.isRight()) {\n          onSuccess(result.getRight());\n        } else {\n          onError(result.getLeft());\n        }\n      })\n    }\n\n    getInstance(id: ScreenInstanceId, onSuccess: (instance: Option<ScreenInstanceState>) => void) {\n      const fromCache = this.instanceCache.get(id.id);\n      if(fromCache !== undefined) {\n        this.instanceCache.delete(id.id);\n        onSuccess(Some(fromCache))\n      } else {\n        this.authenticatedHttp.post(\"screen/get-instance\",new GetScreenInstanceState(id), (data: Option<ScreenInstanceState>) => {\n          onSuccess(Option.copy(data).map(aw => ScreenInstanceState.copy(aw)));\n        })\n      }\n    };\n\n    // getPromise(id: ScreenInstanceId): IPromise<Option<ScreenInstanceState>> {\n    //   if (!id.id) {\n    //     toastr.error(\"Application view instance id is undefined, getPromise\");\n    //   }\n    //   return this.authenticatedHttp.getPromise(\"screen/get-instance/\" + id.id)\n    //     .then((response: IHttpPromiseCallbackArg<Option<ScreenInstanceState>>) => {\n    //       return Option.copy(response.data).map(aw => ScreenInstanceState.copy(aw));\n    //     })\n    // }\n\n    changeMultipleModels(instanceId: ScreenInstanceId,\n                refsPath: Array<RefIdInContext>,\n                modelsChanges: Array<ComponentModelChange>,\n                actionsTriggered: Array<string>,\n                onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/change-multiple-models\", new ChangeMultipleComponentModels(instanceId, refsPath, modelsChanges, actionsTriggered), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    changeModel(instanceId: ScreenInstanceId,\n                refsPath: Array<RefIdInContext>,\n                modelName: string,\n                value: BusinessVariable,\n                actionsTriggered: Array<string>,\n                onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/change-model\", new ChangeComponentModel(instanceId, refsPath, modelName, Typed.of(value), actionsTriggered), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n\n    clearModel(instanceId: ScreenInstanceId,\n               refsPath: Array<RefIdInContext>,\n               modelName: string,\n               actionsTriggered: Array<string>,\n               onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/clear-model\", new ClearComponentModel(instanceId, refsPath, modelName, actionsTriggered), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    appendToModel(instanceId: ScreenInstanceId,\n                  refsPath: Array<RefIdInContext>,\n                  modelName: string,\n                  value: BusinessVariable,\n                  onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/append-to-model\", new AppendToComponentModel(instanceId, refsPath, modelName, Typed.of(value)), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n\n    removeFromModel(instanceId: ScreenInstanceId,\n                    refsPath: Array<RefIdInContext>,\n                    modelName: string,\n                    valueIndex: number,\n                    value: BusinessVariable,\n                    actionsTriggered: Array<string>,\n                    onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/remove-from-model\", new RemoveFromComponentModel(instanceId, refsPath, modelName, valueIndex, Typed.of(value), actionsTriggered), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    executeAction(instanceId: ScreenInstanceId,\n                  refsPath: Array<RefIdInContext>,\n                  actionName: string,\n                  onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/execute-action\", new ExecuteAction(instanceId, refsPath, actionName), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    executeEntryAction(instanceId: ScreenInstanceId,\n                  refsPath: Array<RefIdInContext>,\n                  entryContextId: VariableId,\n                  actionName: string,\n                  onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/execute-entry-action\", new ExecuteEntryAction(instanceId, refsPath, entryContextId, actionName), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    addRepeatableContextEntry(instanceId: ScreenInstanceId, refsPath: Array<RefIdInContext>, onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/add-entry\", new AddRepeatableContextEntry(instanceId, refsPath), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    deleteRepeatableContextEntry(instanceId: ScreenInstanceId, refsPath: Array<RefIdInContext>, entryId: VariableId, entryIndex: number, onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/delete-entry\", new DeleteRepeatableContextEntry(instanceId, refsPath, entryId, entryIndex), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n    moveEntry(instanceId: ScreenInstanceId, refsPath: Array<RefIdInContext>, entryId: VariableId, fromIndex: number, toIndex: number, onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/move-entry\", new MoveEntry(instanceId, refsPath, entryId, fromIndex, toIndex), (data: ApplicationResponse) => {\n        const copied = ApplicationResponse.copy(data);\n        if(copied.isSuccess()) {\n          onSuccess();\n        } else {\n          toastr.error(copied.status);\n        }\n\n      })\n    }\n\n\n    getDebugInfoAvailable(screenInstanceId: ScreenInstanceId, onSuccess: (debugInfoAvailable: boolean) => void) {\n      this.authenticatedHttp.get(\"screen/debug-info-available/\"+screenInstanceId.id, (data: Option<boolean>) => {\n        const result = Option.copy(data);\n        if(result.isDefined()) {\n          onSuccess(result.get());\n        } else {\n          toastr.error(\"No debug info available loaded\");\n        }\n      })\n    }\n\n    getDebugInfo(screenInstanceId: ScreenInstanceId, onSuccess: (debugInfo: ScreenDebugInfo) => void) {\n      this.authenticatedHttp.get(\"screen/debug-info/\"+screenInstanceId.id, (data: Option<ScreenDebugInfo>) => {\n        const result = Option.copy(data, ScreenDebugInfo.copy);\n        if(result.isDefined()) {\n          onSuccess(result.get());\n        } else {\n          toastr.error(\"No debug info loaded\");\n        }\n      })\n    }\n\n    evaluateExpression(screenInstanceId: ScreenInstanceId, expression: string, contextPath: string,\n                       onSuccess: (result: BusinessVariable, durationMillis: number) => void,\n                       onFailure: (error: string, durationMillis: number) => void) {\n      this.authenticatedHttp.post(\"screen/evaluate-expression\", new EvaluateExpressionInScreen(screenInstanceId, expression, contextPath), (data: Typed<EvaluateExpressionInScreenResponse>) => {\n        const responseUnwrapped: EvaluateExpressionInScreenResponse = Typed.value(EvaluateExpressionInScreenResponseFactory.copyTyped(data));\n        if(responseUnwrapped.isSuccess()) {\n          onSuccess(Typed.value((<EvaluateExpressionInScreenSuccessResponse>responseUnwrapped).resultVariable), (<EvaluateExpressionInScreenSuccessResponse>responseUnwrapped).durationMillis);\n        } else {\n          onFailure((<EvaluateExpressionInScreenFailureResponse>responseUnwrapped).error, (<EvaluateExpressionInScreenFailureResponse>responseUnwrapped).durationMillis);\n        }\n      })\n    }\n\n    loadActiveInstances(onSuccess: (instance: Array<ScreenInstanceSummary>) => void) {\n      this.authenticatedHttp.get(\"screen/active-instances\", (data: Array<ScreenInstanceSummary>) => {\n        onSuccess(data.map(ScreenInstanceSummary.copy));\n      })\n    }\n\n    // loadActiveInstancesInApplication(applicationId: ApplicationId): IPromise<Array<ScreenInstanceSummary>> {\n    //   return this.authenticatedHttp.getPromise(\"screen/active-instances-in-application/\"+applicationId.id)\n    //     .then((response: IHttpPromiseCallbackArg<Array<ScreenInstanceSummary>>) => {\n    //       return response.data.map((aw: ScreenInstanceSummary) => ScreenInstanceSummary.copy(aw));\n    //     });\n    // }\n\n    terminate(screenInstanceId: ScreenInstanceId, onSuccess: () => void) {\n      this.authenticatedHttp.post(\"screen/terminate\", new TerminateScreen(screenInstanceId), (data: boolean) => {\n        onSuccess();\n      })\n    }\n\n\n\n  }\n","\r\nimport {Injectable} from '@angular/core';\r\n\r\nimport {AuthenticatedHttp} from \"@libs/AuthenticatedHttp\";\r\nimport {I18nText} from \"@libs/I18nText\";\r\nimport {ApplicationId, ScreenId, ScreenReleaseId} from \"@libs/IdModel\";\r\nimport {AggregateWrapper} from \"@libs/CQRS\";\r\nimport {None, Option, Some} from \"@libs/Option\";\r\nimport {AggregateVersion} from \"@libs/AggregateId\";\r\nimport {ScreenInfo, ScreenRelease, ScreenWithRelease, SkinInfo, SkinPrototype} from \"@screens\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ScreenQueryService {\r\n\r\n  private skinsCache: Option<Array<SkinPrototype>> = None();\r\n\r\n  constructor(\r\n    readonly authenticatedHttp: AuthenticatedHttp,\r\n  ) {}\r\n\r\n  private skinNameFrom(name: any): I18nText {\r\n    const translations: Array<[string, string]> = [];\r\n    Object.keys(name).forEach(key => translations.push(<[string, string]>[key, <string>name[key]]));\r\n    return new I18nText(translations);\r\n  }\r\n\r\n  loadSkins(onSuccess: (skins: Array<SkinPrototype>) => void) {\r\n\r\n    if(this.skinsCache.isDefined()) {\r\n      onSuccess(this.skinsCache.get());\r\n    } else {\r\n      const skins: Array<SkinPrototype> = [];\r\n      let misses = 0;\r\n\r\n      this.authenticatedHttp.get(\"screen/skins/list.json\", (skinsList: Array<SkinInfo>) => {\r\n        if(skinsList.length > 0) {\r\n          skinsList.map(s => new SkinInfo(this.skinNameFrom(s.name) , s.identifier)).forEach(skinInfo => {\r\n            this.authenticatedHttp.get(\"screen/skins/\" + skinInfo.identifier + \".json\", (skin: any) => {\r\n              skins.push(new SkinPrototype(skinInfo.name, skinInfo.identifier, skin));\r\n              if (skins.length + misses == skinsList.length) {\r\n                this.skinsCache = Some(skins);\r\n                onSuccess(skins);\r\n              }\r\n            }, () => {\r\n              misses += 1;\r\n              console.error(\"Skin not loaded\", skinInfo.name);\r\n              if (skins.length + misses == skinsList.length) {\r\n                this.skinsCache = Some(skins);\r\n                onSuccess(skins);\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          onSuccess([]);\r\n        }\r\n      }, () => {\r\n        console.error(\"Skins list not loaded\");\r\n        onSuccess([]);\r\n      });\r\n    }\r\n  }\r\n\r\n  getAllFromApplication(applicationId: ApplicationId, onSuccess: (screens: Array<ScreenInfo>) => void) {\r\n    this.authenticatedHttp.get(\"screen/get-all-from-application/\"+applicationId.id, (data: Array<ScreenInfo>) => {\r\n      const copied = data.map(a => ScreenInfo.copy(a));\r\n      onSuccess(copied);\r\n    })\r\n  }\r\n\r\n  // getPromise(applicationId: ApplicationId, screenId: ScreenId): IPromise<Option<ScreenInfo>> {\r\n  //   if(!screenId.id) {\r\n  //     console.error(\"Application view id is undefined, getPromise\");\r\n  //   }\r\n\r\n  //   return this.authenticatedHttp.getPromise(\"screen/get/\" + applicationId.id+\"/\"+screenId.id)\r\n  //     .then((response: IHttpPromiseCallbackArg<Option<ScreenInfo>>) => {\r\n  //       return Option.copy(response.data).map((aw: ScreenInfo) => ScreenInfo.copy(aw));\r\n  //     })\r\n  // }\r\n\r\n  load(applicationId: ApplicationId, screenId: ScreenId, screenReleaseId: ScreenReleaseId, onSuccess: (view: Option<ScreenWithRelease>) => void) {\r\n    this.authenticatedHttp.get(\"screen/get/\" + applicationId.id + \"/\" + screenId.id + \"/\" + screenReleaseId.id, (data: Option<ScreenWithRelease>) =>{\r\n      const copied = Option.copy(data).map(aw => ScreenWithRelease.copy(aw));\r\n      onSuccess(copied);\r\n    });\r\n  }\r\n\r\n  loadWithWorkingRelease(applicationId: ApplicationId, screenId: ScreenId, onSuccess: (view: Option<ScreenWithRelease>) => void) {\r\n    this.authenticatedHttp.get(\"screen/get-working/\" + applicationId.id + \"/\" + screenId.id, (data: Option<ScreenWithRelease>) =>{\r\n      const copied = Option.copy(data).map(aw => ScreenWithRelease.copy(aw));\r\n      onSuccess(copied);\r\n    });\r\n  }\r\n\r\n\r\n  loadWithWorkingReleaseOrWait(applicationId: ApplicationId, screenId: ScreenId, onSuccess: (view: Option<ScreenWithRelease>) => void) {\r\n    this.authenticatedHttp.get(\"screen/get-working-or-wait/\" + applicationId.id + \"/\" + screenId.id, (data: Option<ScreenWithRelease>) =>{\r\n      const copied = Option.copy(data).map(aw => ScreenWithRelease.copy(aw));\r\n      onSuccess(copied);\r\n    });\r\n  }\r\n\r\n\r\n  loadReleaseById(releaseId: ScreenReleaseId, onSuccess: (release: ScreenRelease, id: ScreenReleaseId, version: AggregateVersion) => void) {\r\n    this.authenticatedHttp.get(\"screen/get-release/\" + releaseId.id, (data: Option<AggregateWrapper<ScreenRelease>>) =>{\r\n      const copied = Option.copy(data).map(aw => AggregateWrapper.copy(aw, ScreenRelease.copy));\r\n      if(copied.isDefined()) {\r\n        onSuccess(copied.get().aggregate, new ScreenReleaseId(copied.get().id.id), copied.get().version);\r\n      } else {\r\n        // toastr.error(\"Unable to load view release\");\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n","import {Typed} from \"@libs/Typed\";\r\nimport {None, Option} from \"@libs/Option\";\r\nimport {AggregateId, AggregateVersion, AnyFlowId} from \"@libs/AggregateId\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {__} from \"@libs/FunctionalExtensions\";\r\nimport {Optional} from \"@angular/core\";\r\nimport {\r\n  BusinessVariable,\r\n  BusinessVariableFactory,\r\n  BusinessVariableType,\r\n  BusinessVariableTypeFactory,\r\n  StringVariable\r\n} from \"@libs/ProcessVariables\";\r\nimport {DirectoryId, DocumentTypeId} from \"@libs/IdModel\";\r\nimport {FileProtocol, FileUri} from \"@libs/FileUri\";\r\nimport {OrganizationNodeId, PersonId} from \"@libs/OrganizationIdsModel\";\r\nimport {i18n} from \"../../../shared/internationalization/i18n.service\";\r\nimport {ViewableFile, ViewableFileUrl} from \"./FileViewerModel\";\r\nimport {restUrl} from \"../../../environment\";\r\nimport {BusinessVariableValidation, BusinessVariableValidationFactory} from \"@libs/ProcessVariableValidation\";\r\n\r\nexport const rootDirectory = new DirectoryId(new AggregateId(\"1ek7el8khedsk\"));\r\n  export const orphanDirectory = new DirectoryId(new AggregateId(\"rm6s7ejlliwa\"));\r\n  export const sharedDirectory = new DirectoryId(new AggregateId(\"4o65tkipso00\"));\r\n  export const starDirectory = new DirectoryId(new AggregateId(\"10ltr4dl24vm7\"));\r\n\r\n  export const rootDirectoryPath = \"/\";\r\n  export const sharedDirectoryPath = \"/*shared\";\r\n  export const starDirectoryPath = \"/*star\";\r\n\r\n  export class RepositoryNodeClientInfoFactory {\r\n    static copyTyped(other: Typed<RepositoryNodeClientInfo>): Typed<RepositoryNodeClientInfo> {\r\n      switch(Typed.className(other)) {\r\n        case DirectoryClientInfo.className: return Typed.of(DirectoryClientInfo.copy(<DirectoryClientInfo>Typed.value(other)));\r\n        case FileClientInfo.className: return Typed.of(FileClientInfo.copy(<FileClientInfo>Typed.value(other)));\r\n        default: throw new Error(\"Unsupported type [\"+Typed.className(other)+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export interface FileRequestResult<T> {\r\n    className(): string;\r\n    isSuccess(): boolean;\r\n    isNotFound(): boolean;\r\n    isError(): boolean;\r\n    isNotAuthorized(): boolean;\r\n    isIncorrectRequest(): boolean;\r\n    asSuccess(): FileRequestSuccess<T>;\r\n    errorMessage(): string;\r\n    uri: FileUri;\r\n  }\r\n\r\n  export class FileRequestSuccess<T> implements FileRequestResult<T>{\r\n    static className = \"FileRequestSuccess\";\r\n    className(): string {\r\n      return FileRequestSuccess.className;\r\n    }\r\n\r\n    constructor(readonly uri: FileUri,\r\n                readonly file: T) {}\r\n\r\n\r\n    static copy<T>(other: FileRequestSuccess<T>, fileCopy: (file: T) => T) {\r\n      return new FileRequestSuccess<T>(FileUri.copy(other.uri), fileCopy(other.file));\r\n    }\r\n\r\n    asSuccess(): FileRequestSuccess<T> {\r\n      return this;\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isNotFound(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isError(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotAuthorized(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isIncorrectRequest(): boolean {\r\n      return false;\r\n    }\r\n\r\n    errorMessage(): string {\r\n      throw new Error(\"Not a failure\");\r\n    }\r\n\r\n  }\r\n\r\n  export class FileRequestNotFound implements FileRequestResult<any> {\r\n    static className = \"FileRequestNotFound\";\r\n    className(): string {\r\n      return FileRequestNotFound.className;\r\n    }\r\n    constructor(readonly uri: FileUri) {}\r\n\r\n    static copy(other: FileRequestNotFound) {\r\n      return new FileRequestNotFound(FileUri.copy(other.uri));\r\n    }\r\n\r\n    asSuccess(): FileRequestSuccess<any> {\r\n      throw new Error(\"Not a success: \" + this.errorMessage());\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotFound(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isError(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isIncorrectRequest(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotAuthorized(): boolean {\r\n      return false;\r\n    }\r\n\r\n    errorMessage(): string {\r\n      return \"Not found\";\r\n    }\r\n  }\r\n\r\n  export class FileRequestIncorrect implements FileRequestResult<any> {\r\n    static className = \"FileRequestIncorrect\";\r\n    className(): string {\r\n      return FileRequestIncorrect.className;\r\n    }\r\n    constructor(readonly uri: FileUri, readonly message: string) {}\r\n\r\n    static copy(other: FileRequestIncorrect) {\r\n      return new FileRequestIncorrect(FileUri.copy(other.uri), other.message);\r\n    }\r\n    asSuccess(): FileRequestSuccess<any> {\r\n      throw new Error(\"Not a success: \" + this.errorMessage());\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotFound(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isError(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isIncorrectRequest(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isNotAuthorized(): boolean {\r\n      return false;\r\n    }\r\n\r\n    errorMessage(): string {\r\n      return \"Request incorrect: \" + this.message;\r\n    }\r\n\r\n  }\r\n\r\n  export class FileRequestNotAuthorized implements FileRequestResult<any> {\r\n    static className = \"FileRequestNotAuthorized\";\r\n    className(): string {\r\n      return FileRequestNotAuthorized.className;\r\n    }\r\n    constructor(readonly uri: FileUri, readonly message: string) {}\r\n    static copy(other: FileRequestNotAuthorized) {\r\n      return new FileRequestNotAuthorized(FileUri.copy(other.uri), other.message);\r\n    }\r\n    asSuccess(): FileRequestSuccess<any> {\r\n      throw new Error(\"Not a success: \" + this.errorMessage());\r\n    }\r\n\r\n    isNotFound(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotAuthorized(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isError(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isIncorrectRequest(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return false;\r\n    }\r\n    errorMessage(): string {\r\n      return \"Not authorized: \" + this.message;\r\n    }\r\n  }\r\n\r\n  export class FileRequestFailed implements FileRequestResult<any> {\r\n    static className = \"FileRequestFailed\";\r\n    className(): string {\r\n      return FileRequestFailed.className;\r\n    }\r\n    constructor(readonly uri: FileUri, readonly message: string) {}\r\n    static copy(other: FileRequestFailed) {\r\n      return new FileRequestFailed(FileUri.copy(other.uri), other.message);\r\n    }\r\n    asSuccess(): FileRequestSuccess<any> {\r\n      throw new Error(\"Not a success: \" + this.errorMessage());\r\n    }\r\n\r\n    isNotFound(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isNotAuthorized(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isError(): boolean {\r\n      return true;\r\n    }\r\n\r\n    isIncorrectRequest(): boolean {\r\n      return false;\r\n    }\r\n\r\n    isSuccess(): boolean {\r\n      return false;\r\n    }\r\n    errorMessage(): string {\r\n      return \"Request failed: \" + this.message;\r\n    }\r\n  }\r\n\r\n  export class FileRequestResultFactory {\r\n    static copyTypedAndUnwrap<T>(response: Typed<FileRequestResult<T>>, copyFile: (file: T) => T): FileRequestResult<T> {\r\n      switch(Typed.className(response)) {\r\n        case FileRequestSuccess.className: return FileRequestSuccess.copy<T>(<FileRequestSuccess<T>>Typed.value(response), copyFile);\r\n        case FileRequestNotFound.className: return FileRequestNotFound.copy(<FileRequestNotFound>Typed.value(response));\r\n        case FileRequestIncorrect.className: return FileRequestIncorrect.copy(<FileRequestIncorrect>Typed.value(response));\r\n        case FileRequestNotAuthorized.className: return FileRequestNotAuthorized.copy(<FileRequestNotAuthorized>Typed.value(response));\r\n        case FileRequestFailed.className: return FileRequestFailed.copy(<FileRequestFailed>Typed.value(response));\r\n        default: throw new Error(\"Unsupported type [\"+Typed.className(response)+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  export class PathEntry {\r\n    public displayName: string;\r\n    readonly virtual: boolean;\r\n    constructor(readonly name: string, readonly link: string) {\r\n      switch(name) {\r\n        case \"*star\":\r\n          this.displayName = i18n(\"documentsRepository_file_starred\");\r\n          this.virtual = true;\r\n          break;\r\n        case \"*shared\":\r\n          this.displayName = i18n(\"documentRepository_sharing_shared\");\r\n          this.virtual = true;\r\n          break;\r\n        default:\r\n          this.displayName = name;\r\n          this.virtual = false;\r\n          break;\r\n      }\r\n    }\r\n\r\n    static copy(other: PathEntry) {\r\n      return new PathEntry(other.name, other.link);\r\n    }\r\n  }\r\n  export class NodeWithAuthorization {\r\n    constructor(readonly node: DocumentRepositoryNodeClientInfo,\r\n                readonly nodeLink: string,\r\n                readonly locationPath: Option<Array<PathEntry>>,\r\n                readonly preview: boolean,\r\n                readonly read: boolean,\r\n                readonly write: boolean,\r\n                readonly administration: boolean) {}\r\n\r\n    static copy(other: NodeWithAuthorization) {\r\n      return new NodeWithAuthorization(DocumentRepositoryNodeClientInfo.copy(other.node), other.nodeLink, Option.copy(other.locationPath).map(p => p.map(PathEntry.copy)), other.preview, other.read, other.write, other.administration);\r\n    }\r\n  }\r\n\r\n  export class ContentWithAuthorization {\r\n    constructor(\r\n      readonly id: AggregateId,\r\n      readonly content: Array<NodeWithAuthorization>,\r\n      readonly preview: boolean,\r\n      readonly read: boolean,\r\n      readonly write: boolean,\r\n      readonly administration: boolean,\r\n      readonly contentAdministration: boolean) {}\r\n\r\n    static copy(other: ContentWithAuthorization) {\r\n      return new ContentWithAuthorization(AggregateId.copy(other.id), other.content.map(NodeWithAuthorization.copy), other.preview, other.read, other.write, other.administration, other.contentAdministration);\r\n    }\r\n  }\r\n\r\n  export class SharingAccessLevel {\r\n    constructor(readonly name: string) {}\r\n    static preview = new SharingAccessLevel(\"preview\");\r\n    static read = new SharingAccessLevel(\"read\");\r\n    static write = new SharingAccessLevel(\"write\");\r\n\r\n    static copy(other: SharingAccessLevel) {\r\n      switch(other.name) {\r\n        case SharingAccessLevel.preview.name: return SharingAccessLevel.preview;\r\n        case SharingAccessLevel.read.name: return SharingAccessLevel.read;\r\n        case SharingAccessLevel.write.name: return SharingAccessLevel.write;\r\n        default: throw new Error(\"Unsupported sharing level [\"+other.name+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class DocumentShare {\r\n    constructor(readonly id: number,\r\n                readonly link: string,\r\n                readonly users: Array<OrganizationNodeId>,\r\n                readonly accessLevel: SharingAccessLevel) {}\r\n\r\n    static copy(other: DocumentShare): DocumentShare {\r\n      return new DocumentShare(other.id, other.link, other.users.map(OrganizationNodeId.copy), SharingAccessLevel.copy(other.accessLevel))\r\n    }\r\n  }\r\n\r\n  export class DocumentRepositoryNodeClientInfo {\r\n\r\n    constructor(readonly id: AggregateId,\r\n                readonly version: AggregateVersion,\r\n                readonly organizationId: AggregateId,\r\n                readonly parentId: AggregateId,\r\n                readonly name: string,\r\n                readonly sortName: string,\r\n                readonly description: string,\r\n                readonly keywords: Array<string>,\r\n                readonly starredBy: Array<PersonId>,\r\n                readonly sharing: Array<DocumentShare>,\r\n                readonly created: LocalDateTime,\r\n                readonly updated: LocalDateTime,\r\n                readonly info: Typed<RepositoryNodeClientInfo>,\r\n                readonly deleted: Option<LocalDateTime>) {}\r\n\r\n\r\n    isDirectory(): boolean {\r\n      return Typed.className(this.info) === DirectoryClientInfo.className;\r\n    }\r\n\r\n    isRootDirectory(): boolean {\r\n      return this.isDirectory() && this.id.id === rootDirectory.id.id;\r\n    }\r\n\r\n    isFile(): boolean {\r\n      return Typed.className(this.info) === FileClientInfo.className;\r\n    }\r\n\r\n    getFileInfo(): FileClientInfo {\r\n      if(this.isFile()) {\r\n        return <FileClientInfo>Typed.value(this.info);\r\n      } else {\r\n        throw new Error(\"Cannot get file info for non file\");\r\n      }\r\n    }\r\n\r\n    getDirectoryInfo(): DirectoryClientInfo {\r\n      if(this.isDirectory()) {\r\n        return <DirectoryClientInfo>Typed.value(this.info);\r\n      } else {\r\n        throw new Error(\"Cannot get directory info for non directory\");\r\n      }\r\n    }\r\n\r\n\r\n    static directoryMock(id: AggregateId, directoryName: string) {\r\n      return new DocumentRepositoryNodeClientInfo(id, new AggregateVersion(0), new AggregateId(\"\"), new AggregateId(\"\"), directoryName, \"\", \"\", [], [],[], LocalDateTime.now(),\r\n        LocalDateTime.now(), Typed.of(new DirectoryClientInfo(new DirectoryAuthorization(false, [],[], [], []), DirectoryDisplayMode.DEFAULT)), None());\r\n    }\r\n\r\n    static copy(other: DocumentRepositoryNodeClientInfo) {\r\n      return new DocumentRepositoryNodeClientInfo(other.id, other.version, other.organizationId, other.parentId, other.name, other.sortName,\r\n        other.description, other.keywords.slice(), other.starredBy.map(PersonId.copy), other.sharing.map(DocumentShare.copy), LocalDateTime.copy(other.created), LocalDateTime.copy(other.updated),\r\n        RepositoryNodeClientInfoFactory.copyTyped(other.info), Option.copy(other.deleted).map(LocalDateTime.copy));\r\n    }\r\n  }\r\n\r\n  export interface RepositoryNodeClientInfo {\r\n    className(): string;\r\n  }\r\n\r\n  export class DirectoryAuthorization {\r\n\r\n    constructor(readonly customAuthorization: boolean,\r\n                readonly access: Array<OrganizationNodeId>,\r\n                readonly read: Array<OrganizationNodeId>,\r\n                readonly write: Array<OrganizationNodeId>,\r\n                readonly administration: Array<OrganizationNodeId>) {}\r\n\r\n    static copy(other: DirectoryAuthorization) {\r\n      return new DirectoryAuthorization(other.customAuthorization, other.access.map(OrganizationNodeId.copy),\r\n        other.read.map(OrganizationNodeId.copy), other.write.map(OrganizationNodeId.copy), other.administration.map(OrganizationNodeId.copy));\r\n    }\r\n  }\r\n\r\n  export class DirectoryDisplayMode {\r\n    constructor(readonly name: string) {}\r\n\r\n    static standard = new DirectoryDisplayMode(\"s\");\r\n    static documentation = new DirectoryDisplayMode(\"d\");\r\n    static DEFAULT = DirectoryDisplayMode.standard;\r\n\r\n    static copy(other: DirectoryDisplayMode) {\r\n      switch (other.name) {\r\n        case DirectoryDisplayMode.standard.name: return DirectoryDisplayMode.standard;\r\n        case DirectoryDisplayMode.documentation.name: return DirectoryDisplayMode.documentation;\r\n        default: throw new Error(\"Incorect display mode [\"+other.name+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n  export class DirectoryClientInfo implements RepositoryNodeClientInfo {\r\n    static className = \"DirectoryClientInfo\";\r\n    className() {\r\n      return DirectoryClientInfo.className;\r\n    }\r\n\r\n    constructor(readonly authorization: DirectoryAuthorization,\r\n                readonly mode: DirectoryDisplayMode) {}\r\n\r\n    static copy(other: DirectoryClientInfo) {\r\n      return new DirectoryClientInfo(DirectoryAuthorization.copy(other.authorization), DirectoryDisplayMode.copy(other.mode));\r\n    }\r\n  }\r\n\r\n  export class FileLockInfo {\r\n    constructor(\r\n      readonly locked: LocalDateTime,\r\n      readonly locker: OrganizationNodeId\r\n    ) {}\r\n\r\n    static copy(other: FileLockInfo) {\r\n      return new FileLockInfo(LocalDateTime.copy(other.locked), OrganizationNodeId.copy(other.locker));\r\n    }\r\n  }\r\n\r\n\r\n  export class FileComment {\r\n\r\n    constructor(public commentId: number,\r\n                public authorId: PersonId,\r\n                public deleted: Option<LocalDateTime>,\r\n                public versions: Array<FileCommentVersion>,\r\n                public notifyPersons: Array<PersonId>) {}\r\n\r\n    static copy(other: FileComment) {\r\n      return new FileComment(other.commentId, PersonId.copy(other.authorId), Option.copy(other.deleted).map(LocalDateTime.copy),\r\n        other.versions.map(FileCommentVersion.copy), other.notifyPersons.map(PersonId.copy));\r\n    }\r\n  }\r\n\r\n  export class FileCommentVersion {\r\n\r\n    constructor(readonly text: string,\r\n                readonly created: LocalDateTime) {}\r\n\r\n    static copy(other: FileCommentVersion) {\r\n      return new FileCommentVersion(other.text, LocalDateTime.copy(other.created));\r\n    }\r\n  }\r\n\r\n  export class FileAuthorization {\r\n\r\n    constructor(readonly customAuthorization: boolean,\r\n                readonly read: Array<OrganizationNodeId>,\r\n                readonly write: Array<OrganizationNodeId>) {}\r\n\r\n    static copy(other: FileAuthorization) {\r\n      return new FileAuthorization(other.customAuthorization, other.read.map(OrganizationNodeId.copy), other.write.map(OrganizationNodeId.copy));\r\n    }\r\n  }\r\n\r\n  export class FileClientInfo implements RepositoryNodeClientInfo {\r\n    static className = \"FileClientInfo\";\r\n\r\n    className() {\r\n      return FileClientInfo.className;\r\n    }\r\n\r\n    constructor(public version: number,\r\n                public fileVersions: Array<FileVersionClientInfo>,\r\n                public lock: Option<FileLockInfo>,\r\n                public description: string,\r\n                public comments: Array<FileComment>,\r\n                public authorization: FileAuthorization,\r\n                public documentTypeId: Option<DocumentTypeId>,\r\n                public properties: Array<DocumentPropertyIdVariable>,\r\n                public watchersIds: Array<PersonId>,\r\n                public commentsVersion: AggregateVersion,\r\n                public settingsVersion: AggregateVersion,\r\n                public authorizationVersion: AggregateVersion) {}\r\n\r\n    static copy(other: FileClientInfo) {\r\n\r\n      return new FileClientInfo(other.version, other.fileVersions.map(df => FileVersionClientInfo.copy(df)),\r\n      Option.copy(other.lock).map(FileLockInfo.copy), other.description, other.comments.map(FileComment.copy),\r\n        FileAuthorization.copy(other.authorization), Option.copy(other.documentTypeId), other.properties.map(DocumentPropertyIdVariable.copy),\r\n        other.watchersIds.map(id => PersonId.copy(id)), new AggregateVersion(other.commentsVersion.asInt),\r\n        new AggregateVersion(other.settingsVersion.asInt), new AggregateVersion(other.authorizationVersion.asInt));\r\n    }\r\n\r\n    lastVersion() {\r\n      return __(this.fileVersions).last();\r\n    }\r\n\r\n    getVersion(version: number) {\r\n      return __(this.fileVersions).find(v => v.id == version);\r\n    }\r\n  }\r\n\r\n  export class DocumentPropertyIdVariable {\r\n    constructor(readonly name: string, readonly businessVariable: Typed<BusinessVariable>) {}\r\n\r\n    businessVariableUnwrapped() {\r\n      return Typed.value(this.businessVariable);\r\n    }\r\n\r\n    static copy(other: DocumentPropertyIdVariable) {\r\n      return new DocumentPropertyIdVariable(other.name, BusinessVariableFactory.copyTyped(other.businessVariable));\r\n    }\r\n\r\n    static empty() {\r\n      return new DocumentPropertyIdVariable(\"\", Typed.of(new StringVariable(\"\")))\r\n    }\r\n  }\r\n\r\n\r\n  export class FileVersionClientInfo {\r\n\r\n    constructor(readonly id: number,\r\n                readonly fileSize: number,\r\n                readonly created: LocalDateTime,\r\n                readonly deleted: Option<LocalDateTime>,\r\n                readonly deleter: Option<OrganizationNodeId>,\r\n                readonly checksum: string,\r\n                readonly creator: OrganizationNodeId,\r\n                readonly mimeType: string) {}\r\n\r\n    static copy(other: FileVersionClientInfo) {\r\n      return new FileVersionClientInfo(other.id, other.fileSize, LocalDateTime.copy(other.created), Option.copy(other.deleted).map(LocalDateTime.copy),\r\n        Option.copy(other.deleter).map(OrganizationNodeId.copy), other.checksum, OrganizationNodeId.copy(other.creator), other.mimeType);\r\n    }\r\n  }\r\n\r\n  export class DirectoryPathEntry {\r\n    constructor(readonly name: string) {}\r\n    static copy(other: DirectoryPathEntry) {\r\n      return new DirectoryPathEntry(other.name);\r\n    }\r\n  }\r\n\r\n  export class DirectoryWithContent {\r\n    constructor(readonly directory: NodeWithAuthorization, readonly content: Array<NodeWithAuthorization>) {}\r\n    static copy(other: DirectoryWithContent) {\r\n      return new DirectoryWithContent(NodeWithAuthorization.copy(other.directory), other.content.map(NodeWithAuthorization.copy));\r\n    }\r\n  }\r\n\r\n  export class DocumentTypeInfo {\r\n    constructor(readonly id: DocumentTypeId, readonly name: string, readonly parentsIds: Array<DocumentTypeId>, readonly properties: Array<DocumentPropertyInfo>) {}\r\n    static copy(other: DocumentTypeInfo) {\r\n      return new DocumentTypeInfo(DocumentTypeId.copy(other.id), other.name, other.parentsIds.map(DocumentTypeId.copy), other.properties.map(DocumentPropertyInfo.copy))\r\n    }\r\n  }\r\n\r\n  export class DocumentPropertyInfo {\r\n    constructor(readonly name: string, readonly variableType: Typed<BusinessVariableType>,\r\n                readonly validation: Option<Typed<BusinessVariableValidation>>) {}\r\n    static copy(other: DocumentPropertyInfo) {\r\n      return new DocumentPropertyInfo(other.name, BusinessVariableTypeFactory.copyTyped(other.variableType),\r\n        Option.copy(other.validation).map(BusinessVariableValidationFactory.copyTyped))\r\n    }\r\n\r\n    unwrappedVariableType() {\r\n      return Typed.value(this.variableType);\r\n    }\r\n    typeClassName() {\r\n      return Typed.className(this.variableType);\r\n    }\r\n  }\r\n\r\n  export class PageSize {\r\n    constructor(readonly width: number, readonly height: number) {}\r\n\r\n    static copy(other: PageSize) {\r\n      return new PageSize(other.width, other.height);\r\n    }\r\n  }\r\n\r\n  export class WebdavFileLink{\r\n    constructor(readonly uri: string, readonly error: string) {}\r\n\r\n    static copy(other: WebdavFileLink) {\r\n      return new WebdavFileLink(other.uri, other.error);\r\n    }\r\n  }\r\n\r\n  export interface RepositoryNodeSearchInfo {\r\n    className(): string;\r\n\t  id: AggregateId;\r\n\t  version: AggregateVersion;\r\n    name: string;\r\n\r\n\t  // only UI\r\n    isDirectory: boolean;\r\n\t  getDirectoryPath(): string;\r\n    getFullPath(): string;\r\n  }\r\n\r\n\texport class RepositoryFileSearchInfo implements RepositoryNodeSearchInfo {\r\n    static className = \"RepositoryFileSearchInfo\";\r\n\r\n    className() {\r\n      return RepositoryFileSearchInfo.className\r\n    }\r\n\r\n\t\tisDirectory: boolean = false;\r\n\r\n    getFullPath() {\r\n      return this.path;\r\n    }\r\n\r\n\t\tgetDirectoryPath() {\r\n\t\t  return this.path.slice(0, this.path.length - this.name.length);\r\n    }\r\n\r\n\t\tconstructor(readonly id: AggregateId, readonly version: AggregateVersion, readonly name: string, readonly size: number,\r\n                public path: string, readonly fileVersion: number, readonly modified: LocalDateTime) {}\r\n\r\n\t\tstatic copy(other: RepositoryFileSearchInfo): RepositoryFileSearchInfo {\r\n\t\t\treturn new RepositoryFileSearchInfo(AggregateId.copy(other.id), other.version, other.name, other.size, other.path, other.fileVersion,\r\n        LocalDateTime.copy(other.modified))\r\n\t\t}\r\n\r\n\t\ttoViewableFile(): ViewableFile {\r\n      const downloadUrl = restUrl(\"documents/download/\"+FileProtocol.RepositoryFile.name+encodeURI(this.getFullPath()));\r\n      return new ViewableFile(this.name, this.size, None(), new ViewableFileUrl(downloadUrl), false, this.modified, new FileUri(FileProtocol.RepositoryFile, this.getFullPath()), false, None(), None(), None(), None(), false);\r\n    }\r\n\t}\r\n\r\n\texport class RepositoryDirSearchInfo implements RepositoryNodeSearchInfo {\r\n\t\tstatic className = \"RepositoryDirSearchInfo\";\r\n\r\n\t\tclassName() {\r\n\t\t\treturn RepositoryDirSearchInfo.className\r\n\t\t}\r\n\r\n\t\tisDirectory: boolean = true;\r\n\r\n\t\tgetFullPath() {\r\n\t\t\treturn this.path;\r\n\t\t}\r\n\r\n\t\tgetDirectoryPath() {\r\n      return this.path.slice(0, this.path.length - this.name.length);\r\n\t\t}\r\n\r\n\t\tconstructor(readonly id: AggregateId, readonly version: AggregateVersion, readonly name: string,\r\n                readonly path: string, readonly modified: LocalDateTime) {}\r\n\r\n\t\tstatic copy(other: RepositoryDirSearchInfo): RepositoryDirSearchInfo {\r\n\t\t\treturn new RepositoryDirSearchInfo(AggregateId.copy(other.id), other.version, other.name, other.path,\r\n        LocalDateTime.copy(other.modified))\r\n\t\t}\r\n\t}\r\n\r\n\texport class RepositoryNodeBasicInfoFactory {\r\n\r\n\t\tstatic copy(repositoryNodeBasicInfo: RepositoryNodeSearchInfo): RepositoryNodeSearchInfo {\r\n\t\t\treturn RepositoryNodeBasicInfoFactory.copyByType(repositoryNodeBasicInfo, repositoryNodeBasicInfo.className());\r\n\t\t}\r\n\r\n\t\tstatic copyTyped(repositoryNodeBasicInfo: Typed<RepositoryNodeSearchInfo>): Typed<RepositoryNodeSearchInfo> {\r\n\t\t\treturn Typed.of(RepositoryNodeBasicInfoFactory.copyByType(Typed.value(repositoryNodeBasicInfo), Typed.className(repositoryNodeBasicInfo)));\r\n\t\t}\r\n\r\n\t\tstatic copyByType(repositoryNodeBasicInfo: RepositoryNodeSearchInfo, className: string): RepositoryNodeSearchInfo {\r\n\t\t\tswitch (className) {\r\n\t\t\t\tcase RepositoryFileSearchInfo.className: {\r\n\t\t\t\t\tconst v = <RepositoryFileSearchInfo>repositoryNodeBasicInfo;\r\n\t\t\t\t\treturn RepositoryFileSearchInfo.copy(v);\r\n\t\t\t\t}\r\n\t\t\t\tcase RepositoryDirSearchInfo.className: {\r\n\t\t\t\t\tconst v = <RepositoryDirSearchInfo>repositoryNodeBasicInfo;\r\n\t\t\t\t\treturn RepositoryDirSearchInfo.copy(v);\r\n\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(\"Unsupported repository class: \" + className + \", repository node: \" + JSON.stringify(repositoryNodeBasicInfo));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\texport class GetNodeInfoAdditionalAuthorization {\r\n    constructor(readonly flowId: Option<Typed<AnyFlowId>>,\r\n                readonly nodeId: Option<number>) {\r\n    }\r\n  }\r\n\r\n","import {None, Option} from \"../../../libs/Option\";\r\nimport {LocalDateTime} from \"../../../libs/Types\";\r\nimport {FileUri} from \"../../../libs/FileUri\";\r\nimport {AnyFlowId} from \"../../../libs/AggregateId\";\r\nimport {ObjectId} from \"../../../libs/IdModel\";\r\n\r\nexport class ViewableFileUrl {\r\n  constructor(\r\n    readonly url: string,\r\n  ) {}\r\n\r\n  public static empty = new ViewableFileUrl(\"\");\r\n}\r\n\r\nexport class FormSectionRefId {\r\n  readonly _FormSectionRefId: undefined;  // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n  static copy(other: FormSectionRefId) {\r\n    return new FormSectionRefId(other.id);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class FormSectionId {\r\n  readonly _FormSectionId: undefined;  // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n\r\n  static copy(other: FormSectionId) {\r\n    return new FormSectionId(other.id);\r\n  }\r\n}\r\n\r\n\r\nexport class FileTaskInfo {\r\n  constructor(public flowId: AnyFlowId,\r\n              readonly nodeId: number) {}\r\n}\r\n\r\n\r\nexport class FormElementRefId {\r\n\r\n  private readonly _FormElementRefId: undefined; // force TypeScript to check types (workaround for duck typing)\r\n  constructor(readonly id: number) {}\r\n\r\n  static increment(id: FormElementRefId) {\r\n    return new FormElementRefId(id.id + 1);\r\n  }\r\n\r\n  static copy(other: FormElementRefId) {\r\n    return new FormElementRefId(other.id);\r\n  }\r\n}\r\n\r\nexport class FileTaskFieldInfo {\r\n  constructor(public flowId: AnyFlowId,\r\n              readonly nodeId: number,\r\n              readonly formSectionRefId: FormSectionRefId,\r\n              readonly formSectionId: FormSectionId,\r\n              readonly fieldId: FormElementRefId,\r\n              readonly contextObjectId: Option<ObjectId>) {}\r\n}\r\n\r\nexport class FileFlowInfo {\r\n  constructor(public flowId: AnyFlowId) {}\r\n}\r\n\r\nexport class ViewableFile {\r\n  constructor(public name: string,\r\n              readonly size: number,\r\n              public fileVersion: Option<number>,\r\n              private url: ViewableFileUrl,\r\n              readonly versionDeleted: boolean,\r\n              readonly uploadDate: LocalDateTime,\r\n              readonly fileUri: FileUri,\r\n              public writeAuthorized: boolean,\r\n              readonly flowInfo: Option<FileFlowInfo>,\r\n              readonly flowTaskInfo: Option<FileTaskInfo>,\r\n              readonly flowTaskFieldInfo: Option<FileTaskFieldInfo>,\r\n              readonly matchingSignatureFile: Option<FileUri> = None(),\r\n              readonly deleted: boolean) {}\r\n\r\n  updateWriteAuthorized(writeAuthorized: boolean) {\r\n    this.writeAuthorized = writeAuthorized;\r\n  }\r\n\r\n  injectMatchingSignatureFile(matchingSignatureFile: Option<FileUri>): ViewableFile {\r\n    return new ViewableFile(this.name, this.size, this.fileVersion, this.url, this.versionDeleted, this.uploadDate, this.fileUri, this.writeAuthorized, this.flowInfo, this.flowTaskInfo, this.flowTaskFieldInfo, matchingSignatureFile, this.deleted);\r\n  }\r\n\r\n  injectVersion(version: Option<number>): ViewableFile {\r\n    return new ViewableFile(this.name, this.size, version, this.url, this.versionDeleted, this.uploadDate, this.fileUri, this.writeAuthorized, this.flowInfo, this.flowTaskInfo, this.flowTaskFieldInfo, this.matchingSignatureFile, this.deleted);\r\n  }\r\n\r\n  injectUrl(url: ViewableFileUrl): ViewableFile {\r\n    return new ViewableFile(this.name, this.size, this.fileVersion, url, this.versionDeleted, this.uploadDate, this.fileUri, this.writeAuthorized, this.flowInfo, this.flowTaskInfo, this.flowTaskFieldInfo, this.matchingSignatureFile, this.deleted);\r\n  }\r\n\r\n  urlWithVersion() {\r\n    return this.url.url + this.fileVersion.map(v => \":\"+v).getOrElse(\"\");\r\n  }\r\n}\r\n","import {AggregateId, FlowId} from \"@libs/AggregateId\";\r\nimport {LocalDateTime} from \"@libs/Types\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {Option} from \"@libs/Option\";\r\nimport {OrganizationNodeId} from \"@libs/OrganizationIdsModel\";\r\nimport {FileLockInfo} from \"./DocumentRepositoryModel\";\r\n\r\nexport class GetFilesInfo {\r\n    constructor(readonly uris: Array<FileUri>) {}\r\n  }\r\n\r\n  export class GetFilesInfoFromFlow {\r\n    constructor(readonly flowId: AggregateId, readonly uris: Array<FileUri>) {}\r\n  }\r\n\r\n  export class GetFilesInfoFromTask {\r\n    constructor(readonly flowId: FlowId, readonly nodeId: number, readonly uris: Array<FileUri>) {}\r\n  }\r\n\r\n  export interface FileBasicInfo {\r\n    className(): string;\r\n    uri: FileUri;\r\n  }\r\n\r\n\r\n\r\n  export class FileInfo implements FileBasicInfo {\r\n    static className = \"FileInfo\";\r\n\r\n    className() {\r\n      return FileInfo.className\r\n    }\r\n    constructor(readonly uri: FileUri,\r\n                readonly version: number,\r\n                readonly name: string,\r\n                readonly size: number,\r\n                readonly modified: LocalDateTime,\r\n                readonly lock: Option<FileLockInfo>,\r\n                readonly watchedByMe: boolean,\r\n                readonly commentsCount: number,\r\n                readonly path: string,\r\n                readonly deleted: boolean) {}\r\n\r\n    static copy(other: FileInfo) {\r\n      return new FileInfo(FileUri.copy(other.uri), other.version, other.name, other.size, LocalDateTime.copy(other.modified),\r\n        Option.copy(other.lock, FileLockInfo.copy), other.watchedByMe, other.commentsCount, other.path, other.deleted);\r\n    }\r\n  }\r\n\r\n  export class DirInfo implements FileBasicInfo {\r\n    static className = \"DirInfo\";\r\n\r\n    className() {\r\n      return DirInfo.className\r\n    }\r\n    constructor(readonly uri: FileUri,\r\n                readonly name: string,\r\n                readonly modified: LocalDateTime,\r\n                readonly path: string) {}\r\n\r\n    static copy(other: DirInfo) {\r\n      return new DirInfo(FileUri.copy(other.uri), other.name, LocalDateTime.copy(other.modified), other.path);\r\n    }\r\n  }\r\n\r\n  export class FileNotFound implements FileBasicInfo {\r\n    static className = \"FileNotFound\";\r\n\r\n    className() {\r\n      return FileNotFound.className\r\n    }\r\n    constructor(readonly uri: FileUri) {}\r\n\r\n    static copy(other: FileNotFound) {\r\n      return new FileNotFound(FileUri.copy(other.uri));\r\n    }\r\n  }\r\n\r\n  export class FileBasicInfoFactory {\r\n    static copyUnwrapped(typed: Typed<FileBasicInfo>): FileBasicInfo {\r\n      switch (Typed.className(typed)) {\r\n        case FileInfo.className: return FileInfo.copy(<FileInfo>Typed.value(typed));\r\n        case DirInfo.className: return DirInfo.copy(<DirInfo>Typed.value(typed));\r\n        case FileNotFound.className: return FileNotFound.copy(<FileNotFound>Typed.value(typed));\r\n        default: throw new Error(\"Unsupported FileBasicInfo type [\"+Typed.className(typed)+\"]\");\r\n      }\r\n    }\r\n\r\n    static copyTyped(typed: Typed<FileBasicInfo>): Typed<FileBasicInfo> {\r\n      switch (Typed.className(typed)) {\r\n        case FileInfo.className: return Typed.of(FileInfo.copy(<FileInfo>Typed.value(typed)));\r\n        case DirInfo.className: return Typed.of(DirInfo.copy(<DirInfo>Typed.value(typed)));\r\n        case FileNotFound.className: return Typed.of(FileNotFound.copy(<FileNotFound>Typed.value(typed)));\r\n        default: throw new Error(\"Unsupported FileBasicInfo type [\"+Typed.className(typed)+\"]\");\r\n      }\r\n    }\r\n  }\r\n\r\n","import {Injectable, Optional} from \"@angular/core\";\r\nimport {AuthenticatedHttp} from \"@libs/AuthenticatedHttp\";\r\nimport {FileUri} from \"@libs/FileUri\";\r\nimport {__, ___} from \"@libs/FunctionalExtensions\";\r\nimport {FormElementRefId, FormSectionRefId} from \"./FileViewerModel\";\r\nimport {FileBasicInfo, FileBasicInfoFactory, GetFilesInfo} from \"./FilesMessages\";\r\nimport {ObjectId} from \"@libs/IdModel\";\r\nimport {FileRequestResult, FileRequestResultFactory} from \"./DocumentRepositoryModel\";\r\nimport {AnyFlowId, FlowId, RemoteFlowId} from \"@libs/AggregateId\";\r\nimport {Typed} from \"@libs/Typed\";\r\nimport {Option} from \"@libs/Option\";\r\nimport toastr from \"@libs/components/toastr/toastr\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FilesService {\r\n\r\n    constructor(readonly authenticatedHttp: AuthenticatedHttp) {}\r\n\r\n\r\n    filesInfoDetailed(filesInfoRequest: number, filesUri: Array<FileUri>, onSuccess: (filesInfoRequest: number, files: Array<FileRequestResult<Typed<FileBasicInfo>>>) => void) {\r\n      if(filesUri.length === 0) {\r\n        onSuccess(filesInfoRequest, []);\r\n      } else {\r\n        this.authenticatedHttp.post(\"files/info\", new GetFilesInfo(filesUri), (data: Array<Typed<FileRequestResult<Typed<FileBasicInfo>>>>) => {\r\n          const result = data.map(d => FileRequestResultFactory.copyTypedAndUnwrap<Typed<FileBasicInfo>>(d, c => FileBasicInfoFactory.copyTyped(c)));\r\n          onSuccess(filesInfoRequest, result);\r\n        });\r\n      }\r\n    }\r\n\r\n    filesInfo(filesUri: Array<FileUri>, onSuccess: (files: Array<FileBasicInfo>) => void) {\r\n      if(filesUri.length === 0) {\r\n        onSuccess([]);\r\n      } else {\r\n        this.authenticatedHttp.post(\"files/info\", new GetFilesInfo(filesUri), (data: Array<Typed<FileRequestResult<Typed<FileBasicInfo>>>>) => {\r\n            const result = data.map(d => FileRequestResultFactory.copyTypedAndUnwrap<Typed<FileBasicInfo>>(d, c => FileBasicInfoFactory.copyTyped(c)));\r\n            if (__(result).all(r => r.isSuccess())) {\r\n              onSuccess(result.map(r => Typed.value(r.asSuccess().file)));\r\n            } else {\r\n              toastr.error(\"Error while getting files info: \" + ___(result).filter(r => !r.isSuccess()).map(r => r.errorMessage()).value().join(\", \"));\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    filesInfoFromTask(filesInfoRequest: number, flowId: AnyFlowId, nodeId: number, formSectionRefId: FormSectionRefId, fieldRefId:FormElementRefId, contextObjectId: Option<ObjectId>, filesUri: Array<FileUri>,\r\n                      onSuccess: (filesInfoRequest: number, files: Array<FileRequestResult<Typed<FileBasicInfo>>>) => void) {\r\n      if(filesUri.length === 0) {\r\n        onSuccess(filesInfoRequest, []);\r\n      } else if(flowId instanceof FlowId) {\r\n        this.filesInfoDetailed(filesInfoRequest, filesUri.map(uri => FileUri.taskFormField(uri, flowId, nodeId, formSectionRefId.id, fieldRefId.id, contextObjectId.map(c => c.id))), onSuccess);\r\n      } else if(flowId instanceof RemoteFlowId) {\r\n       throw new Error(\"Not supported\")\r\n      }\r\n    }\r\n\r\n    filesInfoFromFlow(filesInfoRequest: number, flowId: AnyFlowId, filesUri: Array<FileUri>,\r\n                      onSuccess: (filesInfoRequest: number, files: Array<FileRequestResult<Typed<FileBasicInfo>>>) => void) {\r\n      if(filesUri.length === 0) {\r\n        onSuccess(filesInfoRequest, []);\r\n      } else if(flowId instanceof FlowId) {\r\n        this.filesInfoDetailed(filesInfoRequest, filesUri.map(uri => FileUri.flow(uri, flowId)), onSuccess);\r\n      } else if(flowId instanceof RemoteFlowId) {\r\n       toastr.info(\"Getting files info from remote flow is not supported\");\r\n      }\r\n    }\r\n\r\n  }\r\n","import {Component, ElementRef, EventEmitter, Input, OnDestroy, Output, ViewChild} from \"@angular/core\";\r\nimport {\r\n  getElementPositionAndSize,\r\n  getREMSize,\r\n  getSize,\r\n  getVisibleBox,\r\n} from \"@libs/Elements\";\r\nimport {RectXY} from \"@libs/RectXY\";\r\nimport {onFormFocusLost} from \"@libs/Dom\";\r\n\r\n@Component({\r\n  selector: 'my-drop-menu[cssClass]([visible])[anchor]',\r\n  templateUrl: './drop-menu.component.html',\r\n  styleUrls: ['./drop-menu.component.shadow.scss']\r\n})\r\n// Directive annotation is here so compiler would not complain, but it should have no side effects\r\nexport class DropMenuComponent implements OnDestroy {\r\n\r\n  popupVisible: boolean = false;\r\n  above: boolean = false;\r\n\r\n  @Input() cssClass: string|undefined;\r\n  @Input() anchor: HTMLElement|undefined;\r\n  @ViewChild(\"popupComponent\") popupComponent: ElementRef<HTMLElement>|undefined;\r\n\r\n  @Output() opened = new EventEmitter<HTMLElement>();\r\n  @Output() closed = new EventEmitter<void>();\r\n\r\n  private fixInterval: number = 0;\r\n\r\n  private lastPosition!: RectXY;\r\n\r\n  private formFocusLostCancel: (() => void)|null = null;\r\n\r\n  @Input() set visible(visible: boolean) {\r\n    if(visible) {\r\n      this.showPopup();\r\n    } else if(this.popupVisible) {\r\n      this.hidePopup();\r\n    }\r\n  }\r\n\r\n  @Output() visibleChange = new EventEmitter<boolean>();\r\n\r\n  private showPopup(): void {\r\n\r\n    this.popupVisible = true;\r\n    this.lastPosition = new RectXY(Number.NaN, Number.NaN, Number.NaN, Number.NaN);\r\n\r\n    if(this.popupComponent === undefined) {\r\n      throw new Error(\"No popupComponent\");\r\n    } else if(this.anchor === undefined) {\r\n      throw new Error(\"No anchor\");\r\n    } else {\r\n      const dialogOverlay = document.getElementById(\"drop-menu-overlay\");\r\n      if (dialogOverlay == null) {\r\n        throw new Error(\"Cannot get drop-menu-overlay\");\r\n      } else {\r\n        dialogOverlay.classList.add(\"blockingVisible\")\r\n        dialogOverlay.appendChild(this.popupComponent.nativeElement);\r\n      }\r\n\r\n      this.opened.emit(this.popupComponent.nativeElement);\r\n\r\n\r\n      // position now\r\n      requestAnimationFrame(this.fixPosition);\r\n      // position when scroll happen\r\n      document.addEventListener('scroll', this.onScroll, true);\r\n      // position every 0.5 second\r\n      this.fixInterval = <any>setInterval(() => this.fixPosition(), 500);\r\n\r\n\r\n      this.formFocusLostCancel = onFormFocusLost([this.anchor, this.popupComponent.nativeElement], () => this.hidePopup());\r\n\r\n    }\r\n  }\r\n\r\n\r\n  private onScroll = () => {\r\n    this.fixPosition();\r\n  }\r\n\r\n  hidePopup(): void {\r\n\r\n    this.popupVisible = false;\r\n\r\n    if(this.popupComponent === undefined) {\r\n      throw new Error(\"No popupComponent\");\r\n    } else {\r\n      const dialogOverlay = document.getElementById(\"drop-menu-overlay\");\r\n      if (dialogOverlay == null) {\r\n        throw new Error(\"Cannot get dialogOverlay\");\r\n      } else {\r\n        dialogOverlay.classList.remove(\"blockingVisible\")\r\n        if(dialogOverlay.contains(this.popupComponent.nativeElement)) {\r\n          dialogOverlay.removeChild(this.popupComponent.nativeElement);\r\n        }\r\n      }\r\n    }\r\n\r\n    clearInterval(this.fixInterval);\r\n    document.removeEventListener('scroll', this.onScroll, true);\r\n\r\n    this.visibleChange.emit(false);\r\n    this.closed.emit();\r\n\r\n    if(this.formFocusLostCancel !== null) {\r\n      this.formFocusLostCancel();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  private fixPosition = () => {\r\n    if(this.popupComponent === undefined) {\r\n      throw new Error(\"No popupComponent\")\r\n    } else if (this.anchor === undefined) {\r\n      throw new Error(\"No container\");\r\n    } else {\r\n\r\n      const popupElement = this.popupComponent.nativeElement;\r\n      const anchorPosition = getElementPositionAndSize(this.anchor);\r\n\r\n\r\n      const elementSize = getSize(popupElement);\r\n      const visibleBox = getVisibleBox();\r\n      const remSize = getREMSize();\r\n\r\n      const visibleBoxHeight = visibleBox.bottom - visibleBox.top;\r\n\r\n      const tooLittleSpaceBottom = anchorPosition.endY + elementSize.height > visibleBox.bottom;\r\n\r\n      let spaceAbove = anchorPosition.y - visibleBox.top;\r\n      const spaceBelow = visibleBoxHeight + visibleBox.top - anchorPosition.endY;\r\n\r\n      const above = tooLittleSpaceBottom && spaceAbove > spaceBelow;\r\n\r\n      const newTop = above\r\n        ? (anchorPosition.y - elementSize.height)\r\n        : anchorPosition.endY;\r\n\r\n      const newMaxHeight = above\r\n        ? spaceAbove - Math.floor(remSize / 2)\r\n        : spaceBelow - Math.floor(remSize / 2);\r\n\r\n      const newPosition = new RectXY(anchorPosition.x, newTop, anchorPosition.width, newMaxHeight);\r\n\r\n      if(!newPosition.equals(this.lastPosition) || this.above !== above) {\r\n        this.above = above;\r\n        this.lastPosition = newPosition;\r\n        popupElement.style.top = newPosition.y+\"px\";\r\n        popupElement.style.left = newPosition.x+\"px\";\r\n        popupElement.style.minWidth = newPosition.width+\"px\";\r\n        popupElement.style.maxHeight = newPosition.height+\"px\";\r\n\r\n        console.log(\"Setting \" + newPosition.y, anchorPosition.y, anchorPosition.endY, elementSize.height, visibleBox.top);\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    const dialogOverlay = document.getElementById(\"drop-menu-overlay\");\r\n    if(dialogOverlay !== null && this.popupComponent !== undefined) {\r\n      if(dialogOverlay.contains(this.popupComponent.nativeElement)) {\r\n        dialogOverlay.removeChild(this.popupComponent.nativeElement);\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div #popupComponent class=\"popupComponent {{cssClass}}\" [ngClass]=\"{above: above, visible: popupVisible}\">\r\n  <ng-container *ngIf=\"popupVisible\">\r\n    <ng-content></ng-content>\r\n  </ng-container>\r\n</div>\r\n","import {Injectable} from '@angular/core';\r\n\r\nimport {Option} from \"@libs/Option\";\r\nimport i18next from \"i18next\";\r\nimport HttpApi from 'i18next-http-backend';\r\nimport {NavigationService} from \"../navigation/navigation.service\";\r\nimport {UserSettingsService} from \"../user-settings/user-settings.service\";\r\nimport {Language} from \"@libs/Language\";\r\n\r\nexport class Translation {\r\n  constructor(readonly fileName: string) {}\r\n  static common = new Translation(\"common\");\r\n  // static shared = new Translation(\"shared\");\r\n  static screen = new Translation(\"screen\");\r\n  static date = new Translation(\"date\");\r\n  static fileUploader = new Translation(\"file_uploader\");\r\n}\r\n\r\nlet i18nServiceInstance: I18nService|undefined;\r\n\r\nexport function i18n(key: string, options?: any): string {\r\n  if(i18nServiceInstance !== undefined) {\r\n    return i18nServiceInstance.translate(key);\r\n  } else {\r\n    throw new Error(\"i18nServiceInstance not yet initialized\")\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class I18nService {\r\n\r\n  private loadedTranslations: Array<Translation> = [];\r\n  private defaultOptions: {ns: Array<string>} = {ns: []};\r\n\r\n\r\n  constructor(private readonly userSettingsService: UserSettingsService,\r\n              private readonly navigationService: NavigationService) {\r\n    i18nServiceInstance = this;\r\n    userSettingsService.getLanguageObservable().forEach((language: Option<Language>) => {\r\n      this.onLanguageChanged(this.userSettingsService.getEffectiveLanguage());\r\n    });\r\n  }\r\n\r\n  private onLanguageChanged(language: Language) {\r\n    i18next.changeLanguage(language.name).then(() => {\r\n      this.navigationService.refreshPage();\r\n    });\r\n  }\r\n\r\n  initialize(...translations: Array<Translation>): Promise<boolean> {\r\n\r\n    const translationsToLoad = translations.concat(Translation.common, Translation.screen, Translation.date).filter(t => this.loadedTranslations.indexOf(t) === -1);\r\n\r\n    if(i18next.isInitialized && translationsToLoad.length === 0) {\r\n      return Promise.resolve(true);\r\n    } else {\r\n      return new Promise<boolean>((resolve, reject) => {\r\n\r\n        if(i18next.isInitialized) {\r\n          i18next.loadNamespaces(translationsToLoad.map(t => t.fileName)).then(() => {\r\n            resolve(true);\r\n            this.loadedTranslations = this.loadedTranslations.concat(translationsToLoad);\r\n            this.defaultOptions = {ns: this.loadedTranslations.map(t => t.fileName)};\r\n          })\r\n        } else {\r\n          i18next\r\n            .use(HttpApi)\r\n            .init({\r\n              \"debug\": false,\r\n              \"lng\": this.userSettingsService.getEffectiveLanguage().name,\r\n              \"fallbackLng\": [], // Maybe we do not need it\r\n              \"ns\": translationsToLoad.map(t => t.fileName),\r\n              \"backend\": {\r\n                \"loadPath\": \"i18n/{{ns}}_{{lng}}.json?nocache=\"+1321 // TODO FIX no cache\r\n              }\r\n            }, (err, t) => {\r\n              this.loadedTranslations = this.loadedTranslations.concat(translationsToLoad);\r\n              this.defaultOptions = {ns: this.loadedTranslations.map(t => t.fileName)};\r\n              resolve(true);\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  translate(key: string): string {\r\n    if(i18next.exists(key, this.defaultOptions)) {\r\n      return i18next.t(key, this.defaultOptions);\r\n    } else {\r\n      return key;\r\n    }\r\n  }\r\n\r\n}\r\n","import {Injectable} from \"@angular/core\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {catchError, map} from \"rxjs/operators\";\r\nimport {Observable, of} from \"rxjs\";\r\nimport {clearArray} from \"@libs/Collections\";\r\nimport {I18nService, Translation} from \"../internationalization/i18n.service\";\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LibrariesService {\r\n\r\n  private static googleMapsObservable: Observable<boolean>|undefined;\r\n  private static googleMapsLoaded = false;\r\n  private static googleMapsCallbacks: Array<() => void> = [];\r\n\r\n\r\n  private static fineUploaderLoading = false;\r\n  private static fineUploaderLoaded = false;\r\n  private static fineUploaderCallbacks: Array<() => void> = [];\r\n\r\n\r\n  constructor(private readonly httpClient: HttpClient,\r\n              private readonly i18nService: I18nService) {}\r\n\r\n  loadGoogleMaps(onSuccess: () => void): Observable<boolean> {\r\n\r\n    if(LibrariesService.googleMapsLoaded) {\r\n      if(LibrariesService.googleMapsObservable !== undefined) {\r\n        onSuccess();\r\n      } else {\r\n        throw new Error(\"No observable\");\r\n      }\r\n    } else {\r\n      LibrariesService.googleMapsCallbacks.push(onSuccess);\r\n      if(LibrariesService.googleMapsObservable === undefined) {\r\n        const apiKey = \"AIzaSyD1KQal7N8NRy2CX7QYk0na0kkTihX490I\";\r\n        console.log(\"MAPS API\");\r\n        LibrariesService.googleMapsObservable = this.loadLibrary(\"https://maps.googleapis.com/maps/api/js?key=\" + apiKey, this.onGoogleMapsLoaded);\r\n      }\r\n    }\r\n    return LibrariesService.googleMapsObservable;\r\n\r\n  }\r\n\r\n  private onGoogleMapsLoaded = () => {\r\n    LibrariesService.googleMapsLoaded = true;\r\n    const callbacks = LibrariesService.googleMapsCallbacks.slice();\r\n    clearArray(LibrariesService.googleMapsCallbacks);\r\n    callbacks.forEach(callback => callback());\r\n  };\r\n\r\n  loadFineUploader(onSuccess: () => void): void {\r\n\r\n\r\n\r\n    if(LibrariesService.fineUploaderLoaded) {\r\n      onSuccess();\r\n    } else {\r\n      LibrariesService.fineUploaderCallbacks.push(onSuccess);\r\n      if (!LibrariesService.fineUploaderLoading) {\r\n        LibrariesService.fineUploaderLoading = true;\r\n\r\n        let translationLoaded = false;\r\n        let libraryLoaded = false;\r\n\r\n        this.i18nService.initialize(Translation.fileUploader).finally(() => {\r\n          if(libraryLoaded) {\r\n            this.onFineUploaderLoaded();\r\n          } else {\r\n            translationLoaded = true;\r\n          }\r\n        });\r\n\r\n        this.loadLibraryJSONP([\"libs/fine-uploader/fine-uploader.min.js\"], () => {\r\n          if(translationLoaded) {\r\n            this.onFineUploaderLoaded();\r\n          } else {\r\n            libraryLoaded = true;\r\n          }\r\n        });\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  private onFineUploaderLoaded = () => {\r\n    LibrariesService.fineUploaderLoaded = true;\r\n    const callbacks = LibrariesService.fineUploaderCallbacks.slice();\r\n    clearArray(LibrariesService.fineUploaderCallbacks);\r\n    callbacks.forEach(callback => callback());\r\n  };\r\n\r\n\r\n  private loadLibrary(url: string, onSuccess: () => void): Observable<boolean> {\r\n    return this.httpClient.jsonp(url, \"callback\").pipe(\r\n        map(() => {\r\n          onSuccess();\r\n          return true;\r\n        }),\r\n        catchError((err, caught) => {\r\n          return of(false)\r\n        }),\r\n      );\r\n  }\r\n\r\n\r\n  private loadLibraryJSONP(urls: Array<string>, onSuccess: () => void): void {\r\n\r\n    let loaded = 0;\r\n\r\n    urls.forEach(url => {\r\n      const script = document.createElement(\"script\");\r\n      script.src = url;\r\n      // script.async = true;\r\n      document.head.appendChild(script);\r\n\r\n      script.addEventListener(\"load\", () => {\r\n        loaded++;\r\n        if(loaded === urls.length) {\r\n          onSuccess();\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NavigationService {\r\n\r\n  lastRequestedUrl: string|null = null;\r\n\r\n  constructor(private readonly router: Router) {}\r\n\r\n  navigateToLastRequestedPageOrMainPage() {\r\n\r\n    if (this.lastRequestedUrl !== null) {\r\n      this.router.navigateByUrl(this.lastRequestedUrl);\r\n    } else {\r\n      this.router.navigate(['']);\r\n    }\r\n  }\r\n\r\n  navigateToLoginPage() {\r\n    this.router.navigateByUrl(\"/login\")\r\n  }\r\n\r\n  navigateToLoggedOutPage() {\r\n    this.router.navigateByUrl(\"/logout\")\r\n  }\r\n\r\n  setLastRequestedUrl(url: string) {\r\n    this.lastRequestedUrl = url;\r\n  }\r\n\r\n  clearLastRequestedUrl() {\r\n    this.lastRequestedUrl = null;\r\n  }\r\n\r\n  refreshPage() {\r\n\r\n    // Refreshes current page by changing routing behavior, and reverting it after reload (tested in Angular 14)\r\n    const currentUrl = this.router.url;\r\n    const prevShouldReuseRoute = this.router.routeReuseStrategy.shouldReuseRoute;\r\n    const prevOnSameUrlNavigation = this.router.onSameUrlNavigation;\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\r\n    this.router.onSameUrlNavigation = 'reload';\r\n    this.router.navigate([currentUrl]).then(() => {\r\n      this.router.onSameUrlNavigation = prevOnSameUrlNavigation;\r\n      this.router.routeReuseStrategy.shouldReuseRoute = prevShouldReuseRoute;\r\n    });\r\n  }\r\n\r\n  reloadPage() {\r\n    window.location.reload();\r\n  }\r\n}\r\n","import {Pipe, PipeTransform} from \"@angular/core\";\r\nimport {I18nService} from \"../internationalization/i18n.service\";\r\nimport {prettySize} from \"@libs/time/Size\";\r\n\r\n\r\n@Pipe({name: 'myFileSizeFormat'})\r\nexport class FileSizeFormatPipe implements PipeTransform {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  transform(input: number): string {\r\n    if (input == undefined) {\r\n      return \"no input\";\r\n    } else {\r\n      return prettySize(input);\r\n    }\r\n  }\r\n\r\n}\r\n","import {Pipe, PipeTransform} from \"@angular/core\";\r\nimport {I18nService} from \"../internationalization/i18n.service\";\r\n\r\n\r\n@Pipe({name: 'i18n'})\r\nexport class I18nPipe implements PipeTransform {\r\n\r\n  constructor(private readonly i18nService: I18nService) {\r\n  }\r\n\r\n  // transform(input: string|I18nText): string {\r\n  //     if(input == undefined) {\r\n  //         return \"\";\r\n  //     } else if(input instanceof I18nText) {\r\n  //         return input.getCurrentWithFallback();\r\n  //     } else {\r\n  //         return i18n(input);\r\n  //     }\r\n  // }\r\n\r\n  transform(input: string): string {\r\n    if (input == undefined) {\r\n      return \"no input\";\r\n      // } else if(input instanceof I18nText) {\r\n      //   return input.getCurrentWithFallback();\r\n    } else {\r\n      return this.i18nService.translate(input);\r\n    }\r\n  }\r\n\r\n}\r\n","import {Pipe, PipeTransform} from \"@angular/core\";\r\nimport {DomSanitizer, SafeStyle} from \"@angular/platform-browser\";\r\n\r\n@Pipe({name: 'sanitizeStyle'})\r\nexport class SanitizeStylePipe implements PipeTransform {\r\n\r\n  constructor(private readonly sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  transform(input: string|null): SafeStyle {\r\n    if (input === null) {\r\n      console.log(\"Sanitizing not\", input);\r\n      return this.sanitizer.bypassSecurityTrustStyle(\"\");\r\n    } else {\r\n      console.log(\"Sanitizing\", input, this.sanitizer.bypassSecurityTrustHtml(input));\r\n      return this.sanitizer.bypassSecurityTrustHtml(input);\r\n    }\r\n  }\r\n\r\n}\r\n","import {Injectable} from \"@angular/core\";\r\nimport {Theme, ThemeFontSize} from \"./user-settings.service\";\r\nimport {Language} from \"../../libs/Language\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserSettingsController {\r\n\r\n  onThemeChanged(theme: Theme, languageTheme: \"default-ltr\"|\"default-rtl\"|\"arabic\") {\r\n    let themeLink = document.getElementById(\"currentTheme\");\r\n    if(themeLink instanceof HTMLLinkElement) {\r\n      let oldHref: string = this.getRelativeLocation(themeLink.href);\r\n      let newHref = \"styles/main-\"+theme.name+\"-\"+languageTheme+\".css?no-cache=\"+\"adsd\"; // TODO FIX naticatche\r\n      if(newHref != oldHref) { // setting the same href causes reload, and we don't want it\r\n        themeLink.href = newHref;\r\n      }\r\n    } else if(themeLink == null) {\r\n      throw new Error(\"No theme link found\");\r\n    } else {\r\n      throw new Error(\"Current theme is not a link\");\r\n    }\r\n  }\r\n\r\n  private getRelativeLocation(url: string): string {\r\n    let rootLocation = window.location.protocol+\"//\"+window.location.host+\"/\";\r\n    if(url.indexOf(rootLocation) == 0) {\r\n      return url.substring(rootLocation.length);\r\n    } else {\r\n      throw new Error(`url '${url}' does not start with root '${rootLocation}'`);\r\n    }\r\n  }\r\n\r\n  onFontSizeChanged(fontSize: ThemeFontSize) {\r\n    document.getElementsByTagName(\"html\")[0].className = \"fontSize\"+fontSize.name.toUpperCase();\r\n  }\r\n\r\n  onLanguageChanged(language: Language) {\r\n    const htmlTag = document.getElementsByTagName(\"html\")[0];\r\n    // htmlTag.dir = Language.directionOfLanguage(language);\r\n    htmlTag.lang = language.name.toLowerCase();\r\n  }\r\n}\r\n","import {Injectable} from \"@angular/core\";\r\nimport {None, Option, Some} from \"../../libs/Option\";\r\nimport {Subject} from \"rxjs\";\r\nimport {NavigationService} from \"../navigation/navigation.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {Language} from \"../../libs/Language\";\r\nimport {UserSettingsController} from \"./user-settings.controller\";\r\n\r\nexport enum TimeHoursFormat {\r\n  h12 = 12,\r\n  h24 = 24\r\n}\r\nexport enum WeekDay {\r\n  MONDAY = 1,\r\n  TUESDAY = 2,\r\n  WEDNESDAY = 3,\r\n  THURSDAY = 4,\r\n  FRIDAY = 5,\r\n  SATURDAY = 6,\r\n  SUNDAY = 7\r\n}\r\n\r\nexport class Theme {\r\n\r\n  constructor(readonly name: string) {}\r\n\r\n  static light = new Theme(\"light\");\r\n  static dark = new Theme(\"dark\");\r\n  static highContrast = new Theme(\"high-contrast\");\r\n  static browserCompatibility = new Theme(\"browser-compatibility\");\r\n  static DEFAULT: Theme = Theme.light;\r\n\r\n  static byNameOrDefault(name: string|null): Theme {\r\n    if(name == null) {\r\n      return Theme.DEFAULT;\r\n    } else {\r\n      switch (name) {\r\n        case Theme.light.name: return Theme.light;\r\n        case Theme.dark.name: return Theme.dark;\r\n        case Theme.highContrast.name: return Theme.highContrast;\r\n        case Theme.browserCompatibility.name: return Theme.browserCompatibility;\r\n        default: return Theme.DEFAULT;\r\n      }\r\n    }\r\n  }\r\n\r\n  static byName(name: string): Theme {\r\n    switch (name) {\r\n      case Theme.light.name: return Theme.light;\r\n      case Theme.dark.name: return Theme.dark;\r\n      case Theme.highContrast.name: return Theme.highContrast;\r\n      case Theme.browserCompatibility.name: return Theme.browserCompatibility;\r\n      default: throw new Error(\"Incorrect theme '\"+name+\"'\");\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class ThemeFontSize {\r\n\r\n  constructor(readonly name: string) {}\r\n\r\n  static M = new ThemeFontSize(\"m\");\r\n  static L = new ThemeFontSize(\"l\");\r\n  static XL = new ThemeFontSize(\"xl\");\r\n  static DEFAULT: ThemeFontSize = ThemeFontSize.M;\r\n\r\n  static byNameOrDefault(name: string|null): ThemeFontSize {\r\n    if(name === null) {\r\n      return ThemeFontSize.DEFAULT;\r\n    } else {\r\n      switch (name) {\r\n        case ThemeFontSize.M.name: return ThemeFontSize.M;\r\n        case ThemeFontSize.L.name: return ThemeFontSize.L;\r\n        case ThemeFontSize.XL.name: return ThemeFontSize.XL;\r\n        default: return ThemeFontSize.DEFAULT;\r\n      }\r\n    }\r\n  }\r\n\r\n  static byName(name: string): ThemeFontSize {\r\n    switch (name) {\r\n      case ThemeFontSize.M.name: return ThemeFontSize.M;\r\n      case ThemeFontSize.L.name: return ThemeFontSize.L;\r\n      case ThemeFontSize.XL.name: return ThemeFontSize.XL;\r\n      default: throw new Error(\"Incorrect font size '\"+name+\"'\");\r\n    }\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserSettingsService {\r\n\r\n  private readonly LOCALE_KEY = \"locale\";\r\n  private readonly LANGUAGE_KEY = \"language\";\r\n  private readonly LANGUAGE_THEME_KEY = \"languageTheme\";\r\n  private readonly FONT_SIZE_KEY = \"fontSize\";\r\n  private readonly THEME_KEY = \"theme\";\r\n\r\n  private locale: Option<string> = None();\r\n  private localeSubject: Subject<Option<string>> = new Subject<Option<string>>();\r\n\r\n  private language: Option<Language> = None();\r\n  private languageSubject: Subject<Option<Language>> = new Subject<Option<Language>>();\r\n\r\n  private fontSize: ThemeFontSize;\r\n  private fontSizeSubject: Subject<ThemeFontSize> = new Subject<ThemeFontSize>();\r\n\r\n  private theme: Option<Theme> = None();\r\n  private themeSubject: Subject<Option<Theme>> = new Subject<Option<Theme>>();\r\n\r\n  // TODO - just have a region and language selector, and display formats\r\n\r\n  //(Intl.RelativeTimeFormat)\r\n\r\n\r\n  private timeZone: Option<string> = None();\r\n  private timeZoneSubject: Subject<Option<string>> = new Subject<Option<string>>();\r\n\r\n  private timeHoursFormat: Option<TimeHoursFormat> = None();\r\n  private timeHoursFormatSubject: Subject<Option<TimeHoursFormat>> = new Subject<Option<TimeHoursFormat>>();\r\n\r\n  private firstDayOfWeek: Option<WeekDay> = None(); // 1 - monday, 7 - sunday (ISO 8601 Based)\r\n  private firstDayOfWeekSubject: Subject<Option<WeekDay>> = new Subject<Option<WeekDay>>();\r\n\r\n  private weekendDays: Option<Array<WeekDay>> = None();\r\n  private weekendDaysSubject: Subject<Option<Array<WeekDay>>> = new Subject<Option<Array<WeekDay>>>();\r\n\r\n  private readDateFormat: string = \"dd MM yyyy\"; // e.g. 17 Aug 2022, maybe use (Intl.DateTimeFormat)\r\n  private editDateFormat: string = \"dd-mm-yyyy\" // e.g. 17-08-2022\r\n\r\n  // private timeIncludeZero - TODO is that necessary?\r\n  private numberFormat: string = \"###,###,##0.#####\"; // probably best to use build in JS formatting (Intl.NumberFormat)\r\n  private currencySymbolSide: \"L\"|\"R\" = \"R\";\r\n  private currencyFormat: string = \"###,###,##0.00\"; // (Intl.NumberFormat)\r\n\r\n\r\n  constructor(private readonly router: Router,\r\n              private readonly navigationService: NavigationService,\r\n              private readonly userSettingsController: UserSettingsController) {\r\n\r\n    // INIT DEFAULT SETTINGS START\r\n    // must be in constructor\r\n\r\n    this.fontSize = ThemeFontSize.DEFAULT;\r\n\r\n    // INIT DEFAULT SETTINGS END\r\n\r\n    this.initLocallyStoredSettings();\r\n\r\n\r\n    // TODO ASYNC UPDATE USER SETTINGS FROM SERVER\r\n  }\r\n\r\n  private initLocallyStoredSettings(): void {\r\n    let reload = false;\r\n\r\n    this.initLocallyStoredLanguage();\r\n    this.initLocallyStoredFontSize();\r\n    reload ||= this.initTheme();\r\n\r\n    if(reload) {\r\n      this.navigationService.reloadPage();\r\n    }\r\n  }\r\n\r\n  private initLocallyStoredLanguage(): void {\r\n    const savedLanguage = this.saveLocalStorageGetItem(this.LANGUAGE_KEY);\r\n    let newLanguage: Option<Language>;\r\n    try {\r\n      if(savedLanguage == null) {\r\n        newLanguage = None();\r\n      } else {\r\n        newLanguage = Some(Language.byName(savedLanguage));\r\n      }\r\n    } catch(e) {\r\n      newLanguage = None();\r\n    }\r\n\r\n    if(newLanguage.map(l => l.name).getOrNull() != savedLanguage) {\r\n      if(newLanguage.isDefined()) {\r\n        this.saveLocalStorageSetItem(this.LANGUAGE_KEY, newLanguage.get().name);\r\n      } else {\r\n        this.saveLocalStorageRemoveItem(this.LANGUAGE_KEY);\r\n      }\r\n\r\n      this.userSettingsController.onLanguageChanged(this.language.getOrElse(Language.PL));\r\n    }\r\n    if(newLanguage != this.language) {\r\n      this.language = newLanguage;\r\n    }\r\n  }\r\n\r\n  private initLocallyStoredFontSize(): void {\r\n\r\n    const savedFontSize = this.saveLocalStorageGetItem(this.FONT_SIZE_KEY);\r\n    const newFontSize = ThemeFontSize.byNameOrDefault(savedFontSize);\r\n    if(savedFontSize !== newFontSize.name) {\r\n      this.saveLocalStorageSetItem(\"fontSize\", newFontSize.name);\r\n      this.userSettingsController.onFontSizeChanged(newFontSize);\r\n    }\r\n\r\n    if(newFontSize.name !== this.fontSize.name) {\r\n      this.fontSize = newFontSize;\r\n    }\r\n\r\n  }\r\n\r\n  // user can have local storage disabled\r\n  private saveLocalStorageGetItem(key: string): string|null {\r\n    try {\r\n      return localStorage.getItem(key);\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  // user can have local storage disabled\r\n  private saveLocalStorageRemoveItem(key: string): void {\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (e) {\r\n      // do nothing\r\n    }\r\n  }\r\n\r\n  // user can have local storage disabled\r\n  private saveLocalStorageSetItem(key: string, value: string): void {\r\n    try {\r\n      localStorage.setItem(key, value);\r\n    } catch (e) {\r\n      // do nothing\r\n    }\r\n  }\r\n\r\n  private initTheme(): boolean {\r\n\r\n    let reload = false;\r\n    const savedTheme = this.saveLocalStorageGetItem(this.THEME_KEY);\r\n    let newTheme: Option<Theme>;\r\n\r\n    try {\r\n      if(savedTheme == null) {\r\n        newTheme = None();\r\n      } else {\r\n        newTheme = Some(Theme.byName(savedTheme));\r\n      }\r\n    } catch(e) {\r\n      newTheme = None();\r\n    }\r\n\r\n    if(newTheme.map(l => l.name).getOrNull() != savedTheme) {\r\n      if(newTheme.isDefined()) {\r\n        this.saveLocalStorageSetItem(this.THEME_KEY, newTheme.get().name);\r\n      } else {\r\n        this.saveLocalStorageRemoveItem(this.THEME_KEY);\r\n      }\r\n\r\n      reload = true;\r\n    }\r\n\r\n    if(!newTheme.equals(this.theme, (a, b) => a.name === b.name)) {\r\n      this.theme = newTheme;\r\n    }\r\n\r\n    return reload;\r\n  }\r\n\r\n\r\n\r\n  changeLanguage(language: Option<Language>) {\r\n    if(!this.language.equals(language, (a, b) => a.name === b.name)) {\r\n      this.language = language;\r\n\r\n      if(language.isDefined()) {\r\n        this.saveLocalStorageSetItem(this.LANGUAGE_KEY, this.language.get().name);\r\n      } else {\r\n        this.saveLocalStorageRemoveItem(this.LANGUAGE_KEY);\r\n      }\r\n\r\n//      localStorage.setItem(this.LANGUAGE_THEME_KEY, Language.themeOfLanguage(this.language)); ?? WHY\r\n\r\n      this.languageSubject.next(language);\r\n      const effectiveLanguage = this.language.getOrElse(Language.PL);\r\n\r\n      this.changeLocale(Some(effectiveLanguage.name));\r\n    }\r\n  }\r\n\r\n  changeLocale(locale: Option<string>) {\r\n    this.locale = locale;\r\n    this.localeSubject.next(locale);\r\n    this.navigationService.refreshPage();\r\n  }\r\n\r\n  changeTimeZone(timeZone: Option<string>) {\r\n    this.timeZone = timeZone;\r\n    this.timeZoneSubject.next(timeZone);\r\n    this.navigationService.refreshPage();\r\n  }\r\n\r\n\r\n  changeTimeHoursFormat(timeHoursFormat: Option<TimeHoursFormat>) {\r\n    this.timeHoursFormat = timeHoursFormat;\r\n    this.timeHoursFormatSubject.next(timeHoursFormat);\r\n    this.navigationService.refreshPage();\r\n  }\r\n\r\n  changeFirstDayOfWeek(firstDayOfWeek: Option<WeekDay>) {\r\n    this.firstDayOfWeek = firstDayOfWeek;\r\n    this.firstDayOfWeekSubject.next(firstDayOfWeek);\r\n    this.navigationService.refreshPage();\r\n  }\r\n\r\n  changeWeekendDays(weekendDays: Option<Array<WeekDay>>) {\r\n    this.weekendDays = weekendDays;\r\n    this.weekendDaysSubject.next(weekendDays);\r\n    this.navigationService.refreshPage();\r\n  }\r\n\r\n\r\n  getLanguage() {\r\n    return this.language;\r\n  }\r\n\r\n  getLanguageObservable() {\r\n    return this.languageSubject.asObservable();\r\n  }\r\n\r\n  getFontSize() {\r\n    return this.fontSize;\r\n  }\r\n\r\n  getFontSizeObservable() {\r\n    return this.fontSizeSubject.asObservable();\r\n  }\r\n\r\n  getTheme() {\r\n    return this.theme;\r\n  }\r\n\r\n  getThemeObservable() {\r\n    return this.themeSubject.asObservable();\r\n  }\r\n\r\n  getEffectiveLocale() {\r\n    return this.locale.getOrElse(\"pl-PL\");\r\n  }\r\n\r\n  getTimeZone() {\r\n    return this.timeZone;\r\n  }\r\n\r\n\r\n  getEffectiveTimeZone(): string {\r\n    return this.timeZone.getOrElse(this.timeZone.getOrElse(Intl.DateTimeFormat().resolvedOptions().timeZone));\r\n  }\r\n\r\n  getTimeHoursFormat(): Option<TimeHoursFormat> {\r\n    return this.timeHoursFormat;\r\n  }\r\n\r\n\r\n  getLocaleObservable() {\r\n    return this.localeSubject.asObservable();\r\n  }\r\n\r\n  getTimeZoneObservable() {\r\n    return this.timeZoneSubject.asObservable();\r\n  }\r\n\r\n\r\n  getTimeHoursFormatObservable() {\r\n    return this.timeHoursFormatSubject.asObservable();\r\n  }\r\n\r\n  getFirstDayOfWeekObservable() {\r\n    return this.firstDayOfWeekSubject.asObservable();\r\n  }\r\n\r\n  getWeekendDaysObservable() {\r\n    return this.weekendDaysSubject.asObservable();\r\n  }\r\n\r\n\r\n  getEffectiveLanguage() {\r\n    return this.language.getOrElse(Language.PL);\r\n  }\r\n\r\n  getLocale() {\r\n    return this.locale;\r\n  }\r\n\r\n  getDefaultLocale(): Option<string> {\r\n\r\n    if(this.language.isEmpty() || this.language.contains(Language.PL)) {\r\n      return Some(\"pl-PL\");\r\n    } else {\r\n      return None();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  getDefaultLanguage() {\r\n    return Language.PL;\r\n  }\r\n\r\n  // based on current effective locale\r\n  getDefaultTimeHoursFormat(): TimeHoursFormat {\r\n    const formatted = Intl.DateTimeFormat(this.getEffectiveLocale(), {timeZone: \"UTC\", hour: \"2-digit\"}).format(Date.UTC(2000, 0, 1, 20, 0, 0, 0));\r\n    return formatted.indexOf(\"20\") >= 0 ? 24 : 12;\r\n  }\r\n\r\n  getDefaultTimeZone() {\r\n    return Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n  }\r\n\r\n\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","// export class DurationInputFormatter {\r\n//\r\n//   constructor(public hoursInDays: number) {}\r\n//   public daysMarker: string = 'd';\r\n//   public hoursMarker: string = 'h';\r\n//   public minutesMarker: string = 'm';\r\n//   public secondsMarker: string = 's';\r\n//   public separator: string = ' ';\r\n//\r\n//   parseModel(model: string|null): Duration|null {\r\n//     if (model === undefined || model === null || model.trim().length === 0) {\r\n//       return null;\r\n//     } else {\r\n//       const duration = parseDurationInputString(model, {\r\n//         daysMarker: this.daysMarker,\r\n//         hoursMarker: this.hoursMarker,\r\n//         minutesMarker: this.minutesMarker,\r\n//         secondsMarker: this.secondsMarker,\r\n//         separator: this.separator,\r\n//         hoursInDay: this.hoursInDays\r\n//       });\r\n//       return duration;\r\n//     }\r\n//   }\r\n//\r\n//   format(duration: Duration): string {\r\n//     return duration.format(this.daysMarker, this.hoursMarker, this.minutesMarker, this.secondsMarker, this.separator, this.hoursInDays);\r\n//   }\r\n// }\r\n\r\nexport interface FormattedDurationParserSettings {\r\n  daysMarker: string;\r\n  hoursMarker: string;\r\n  minutesMarker: string;\r\n  secondsMarker: string;\r\n  hoursInDay: number;\r\n  separator: string;\r\n}\r\n\r\n/**\r\n * Creates a new Date object, but maintains the year value, even if it is less than 100.\r\n * Original Date constructor considers that as the year is above 1900.\r\n */\r\nexport function createDateWithStrictYear(year: number = 0, month: number = 0, day: number = 0, hours: number = 0, minutes: number = 0, seconds: number = 0, milliseconds: number = 0): Date {\r\n  const date = new Date();\r\n  date.setFullYear(year);\r\n  date.setMonth(month);\r\n  date.setDate(day);\r\n  date.setHours(hours);\r\n  date.setMinutes(minutes);\r\n  date.setSeconds(seconds);\r\n  date.setMilliseconds(milliseconds);\r\n  return date;\r\n}\r\n\r\nexport function stripNonDigits(str: string): string {\r\n  return String(str).replace(/\\D/g, String())\r\n}\r\n\r\nexport function hasDigits(str: string): boolean {\r\n  return str != null && str.match(/\\d/g) != null;\r\n}\r\n\r\nexport function hasOneOfCharacters(str: string, chars: string): boolean {\r\n  return str != null && str.match(new RegExp(`.*[${chars}].*`, \"i\")) != null;\r\n}\r\n\r\nexport function parseDateTimeInputString(dateTime: string): Date {\r\n\r\n  const date_parser = DateInputParser.parse(dateTime);\r\n  const time_parser = TimeInputParser.parse(date_parser.getLeftoverDigits());\r\n\r\n  const date = date_parser.asDate();\r\n  const time = time_parser.asDate();\r\n\r\n  return createDateWithStrictYear(\r\n    date.getFullYear(),\r\n    date.getMonth(),\r\n    date.getDate(),\r\n    time.getHours(),\r\n    time.getMinutes(),\r\n    time.getSeconds(),\r\n    time.getMilliseconds()\r\n  )\r\n}\r\n\r\nexport function parseDateInputString(date: string): Date {\r\n  return DateInputParser.parse(date).asDate();\r\n}\r\n\r\nexport function parseTimeInputString(time: string): Date {\r\n  return TimeInputParser.parse(time).asDate();\r\n}\r\n\r\n// export function parseDurationInputString(duration: string, settings: FormattedDurationParserSettings): Duration {\r\n//\r\n//   if (hasDigits(duration)) {\r\n//     const markers = settings.daysMarker + settings.hoursMarker + settings.minutesMarker + settings.secondsMarker;\r\n//\r\n//     if (hasOneOfCharacters(duration, markers)) {\r\n//       return FormattedDurationInputParser.parse(duration, settings).asDuration();\r\n//     } else if (hasOneOfCharacters(duration, ':')) {\r\n//       return ColonDurationInputParser.parse(duration, settings.hoursInDay).asDuration();\r\n//     } else {\r\n//       return DurationInputParser.parse(duration).asDuration();\r\n//     }\r\n//\r\n//   }\r\n//\r\n//   return Duration.ZERO;\r\n// }\r\n\r\nexport abstract class DigitsInputParser {\r\n\r\n  protected _input!: string;\r\n  protected digits!: string;\r\n\r\n  protected constructor() {\r\n  }\r\n\r\n  public setDigits(digits: string): void {\r\n    this._input = digits;\r\n    this.digits = stripNonDigits(digits);\r\n  }\r\n\r\n  public getLeftoverDigits(): string {\r\n    return this.digits;\r\n  }\r\n\r\n  public hasDigits(): boolean {\r\n    return Number(this.digits) > 0;\r\n  }\r\n\r\n  public digitsLength(): number {\r\n    return this.digits.length;\r\n  }\r\n\r\n  protected firstDigits(count: number): number {\r\n    return Number(this.digits.slice(0, count));\r\n  }\r\n\r\n  protected lastDigits(count: number): number {\r\n    return Number(this.digits.slice(-count));\r\n  }\r\n\r\n  protected sliceDigitsRight(count: number): string {\r\n    return this.digits = this.digits.slice(count)\r\n  }\r\n\r\n  protected sliceDigitsLeft(count: number): string {\r\n    return this.digits = this.digits.slice(0, this.digits.length - count);\r\n  }\r\n\r\n  protected shiftDigits(count: number): number {\r\n    const shift = this.firstDigits(count);\r\n    this.sliceDigitsRight(count);\r\n    return shift;\r\n  }\r\n\r\n  protected popDigits(count: number): number {\r\n    const pop = this.lastDigits(count);\r\n    this.sliceDigitsLeft(count);\r\n    return pop;\r\n  }\r\n\r\n  protected extractDigitsRight(count: number, max: number = Number.MAX_VALUE, or: number = 0): number {\r\n    if (this.hasDigits()) {\r\n      return this.firstDigits(count) <= max ? this.shiftDigits(count) : this.shiftDigits(count - 1);\r\n    }\r\n    return or;\r\n  }\r\n\r\n  protected extractDigitsLeft(count: number, max: number = Number.MAX_VALUE, or: number = 0): number {\r\n    if (this.hasDigits()) {\r\n      return this.lastDigits(count) <= max ? this.popDigits(count) : this.popDigits(count - 1);\r\n    }\r\n    return or;\r\n  }\r\n\r\n}\r\n\r\nexport class DateInputParser extends DigitsInputParser {\r\n\r\n  private date: Date = new Date();\r\n  private day: number = 0;\r\n  private month: number = 0;\r\n  private year: number = 0;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public parse(digits: string): void {\r\n    this.reset();\r\n    this.setDigits(digits);\r\n    this.day = this.extractDigitsRight(2, 31, this.day);\r\n    this.month = this.extractDigitsRight(2, 12, this.month);\r\n    const fix_year = this.hasDigits() && this.digitsLength() < 4; // Fix year value if user did not input full year value\r\n    this.year = this.extractDigitsRight(4, Number.MAX_VALUE, this.year);\r\n    // eg. year 21 => 2021, year 98 => 1998\r\n    if (fix_year) this.year += this.year <= 50 ? 2000 : 1900;\r\n  }\r\n\r\n  private reset(): void {\r\n    this.date = new Date();\r\n    this.day = this.date.getDate();\r\n    this.month = this.date.getMonth() + 1;\r\n    this.year = this.date.getFullYear();\r\n  }\r\n\r\n  public asDate(): Date {\r\n    return createDateWithStrictYear(this.year, this.month - 1, this.day);\r\n  }\r\n\r\n  static parse(digits: string): DateInputParser {\r\n    const parser = new DateInputParser();\r\n    parser.parse(digits);\r\n    return parser;\r\n  }\r\n\r\n}\r\n\r\nexport class TimeInputParser extends DigitsInputParser {\r\n\r\n  private date: Date = new Date();\r\n  private hours: number = 0;\r\n  private minutes: number = 0;\r\n  private seconds: number = 0;\r\n  private milliseconds: number = 0;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public parse(digits: string): void {\r\n    this.reset();\r\n    this.setDigits(digits);\r\n    if (this.digitsLength() === 3) {\r\n      this.minutes = this.extractDigitsLeft(2);\r\n      this.hours = this.extractDigitsLeft(2, 24);\r\n    } else {\r\n      this.hours = this.extractDigitsRight(2, 24);\r\n      this.minutes = this.extractDigitsRight(2);\r\n    }\r\n  }\r\n\r\n  private reset(): void {\r\n    this.date = new Date();\r\n    this.hours = this.date.getHours();\r\n    this.minutes = this.date.getMinutes();\r\n    this.seconds = this.date.getSeconds();\r\n    this.milliseconds = this.date.getMilliseconds();\r\n  }\r\n\r\n  public asDate(): Date {\r\n    return createDateWithStrictYear(0, 0, 0, this.hours, this.minutes, this.seconds, this.milliseconds);\r\n  }\r\n\r\n  static parse(digits: string): TimeInputParser {\r\n    const parser = new TimeInputParser();\r\n    parser.parse(digits);\r\n    return parser;\r\n  }\r\n\r\n}\r\n\r\nexport class DurationInputParser extends DigitsInputParser {\r\n  private seconds: number = 0;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public parse(digits: string): void {\r\n    this.reset();\r\n    this.setDigits(digits);\r\n    this.seconds += this.extractDigitsLeft(2) * 60; // minutes\r\n    this.seconds += this.extractDigitsLeft(Number.MAX_VALUE) * 60 * 60; // hours\r\n  }\r\n\r\n  protected reset(): void {\r\n    this.seconds = 0;\r\n  }\r\n\r\n  // public asDuration() {\r\n  //   return new Duration(this.seconds, 0);\r\n  // }\r\n\r\n  // public asMilliseconds() {\r\n  //   return this.seconds * 1000;\r\n  // }\r\n\r\n  static parse(digits: string) {\r\n    const parser = new DurationInputParser();\r\n    parser.parse(digits);\r\n    return parser;\r\n  }\r\n\r\n}\r\n\r\n// class FormattedDurationInputParser {\r\n//   private seconds: number|undefined;\r\n//\r\n//   constructor(private settings: FormattedDurationParserSettings) {\r\n//   }\r\n//\r\n//   private matchMarked(str: string, mark: string) {\r\n//     return str && mark ? str.match(new RegExp(\"\\\\d+(?=\" + mark + \")\", \"i\")) : null;\r\n//   }\r\n//\r\n//   private firstOr(arr: Array<string>, or: number) {\r\n//     return arr && arr.length > 0 ? parseInt(arr[0]) : or;\r\n//   }\r\n//\r\n//   public parse(duration: string): FormattedDurationInputParser {\r\n//\r\n//     const days = this.firstOr(this.matchMarked(duration, this.settings.daysMarker), 0);\r\n//     const hours = this.firstOr(this.matchMarked(duration, this.settings.hoursMarker), 0);\r\n//     const minutes = this.firstOr(this.matchMarked(duration, this.settings.minutesMarker), 0);\r\n//     this.seconds = this.firstOr(this.matchMarked(duration, this.settings.secondsMarker), 0);\r\n//\r\n//     this.seconds += minutes * 60;\r\n//     this.seconds += hours * 3600;\r\n//     this.seconds += days * 3600 * this.settings.hoursInDay;\r\n//\r\n//     return this;\r\n//   }\r\n//\r\n//   // public asDuration(){\r\n//   //   return new Duration(this.seconds, 0);\r\n//   // }\r\n//\r\n//   // public asMilliseconds(): number {\r\n//   //   return this.seconds * 1000;\r\n//   // }\r\n//\r\n//   static parse(digits: string, settings: FormattedDurationParserSettings): FormattedDurationInputParser {\r\n//     const parser = new FormattedDurationInputParser(settings);\r\n//     parser.parse(digits);\r\n//     return parser;\r\n//   }\r\n//\r\n// }\r\n\r\nexport class ColonDurationInputParser {\r\n\r\n  // private days = 0;\r\n  // private hours = 0;\r\n  // private minutes = 0;\r\n  private seconds = 0;\r\n\r\n  constructor(private hours_in_day: number) {\r\n  }\r\n\r\n  public parse(duration: string): void {\r\n\r\n    const duration_parts = duration.split(':', 4).map(v => parseInt(stripNonDigits(v)));\r\n\r\n    // // seconds\r\n    // if (duration_parts.length > 0) {\r\n    //   this.seconds += duration_parts.pop();\r\n    // }\r\n    //\r\n    // // minutes\r\n    // if (duration_parts.length > 0) {\r\n    //   this.seconds += duration_parts.pop() * 60;\r\n    // }\r\n    //\r\n    // // hours\r\n    // if (duration_parts.length > 0) {\r\n    //   this.seconds += duration_parts.pop() * 3600;\r\n    // }\r\n    //\r\n    // // days\r\n    // if (duration_parts.length > 0) {\r\n    //   this.seconds += duration_parts.pop() * this.hours_in_day * 3600;\r\n    // }\r\n\r\n    // if (this.seconds >= 60) {\r\n    //   this.minutes += Math.floor(this.seconds / 60);\r\n    //   this.seconds = this.seconds % 60;\r\n    // }\r\n    //\r\n    // if (this.minutes >= 60) {\r\n    //   this.hours += Math.floor(this.minutes / 60);\r\n    //   this.minutes = this.minutes % 60;\r\n    // }\r\n    //\r\n    // if (this.hours >= this.hours_in_day) {\r\n    //   this.days += Math.floor(this.hours / this.hours_in_day);\r\n    //   this.hours = this.hours % this.hours_in_day;\r\n    // }\r\n\r\n  }\r\n\r\n  // public asDuration(): Duration {\r\n  //   return new Duration(this.seconds, 0);\r\n  // }\r\n  //\r\n  // // public asMilliseconds(): number {\r\n  // //   return this.seconds * 1000;\r\n  // // }\r\n  //\r\n  // static parse(digits: string, hours_in_day: number): ColonDurationInputParser {\r\n  //   const parser = new ColonDurationInputParser(hours_in_day);\r\n  //   parser.parse(digits);\r\n  //   return parser;\r\n  // }\r\n\r\n}\r\n"],"names":["MultiTypeInputFactory","VariablePath","AutomaticActionId","Option","Typed","i18n","AutomaticActionType","constructor","name","ScriptAction","id","async","identifier","conditional","conditionExpression","script","saveTo","className","copy","other","map","searchableText","getOrElse","s","path","join","SetValueAction","expression","ClearValueAction","EmailAction","emailRecipients","emailSubject","emailBody","emailAttachments","disableResponse","copyTyped","emailRecipientsUnwrapped","v","value","emailSubjectUnwrapped","emailBodyUnwrapped","emailAttachmentsUnwrapped","NotificationAction","notificationRecipients","notificationSubject","notificationMessage","notificationRecipientsUnwrapped","notificationSubjectUnwrapped","notificationMessageUnwrapped","SMSAction","phoneNumbers","smsMessage","test","phoneNumbersUnwrapped","smsMessageUnwrapped","AutomaticActionFactory","input","copyByType","action","of","Error","JSON","stringify","ActionAsyncExecutionCompleted","ActionAsyncExecutionFailed","ActionAsyncExecutionStarted","ActionExecutionTriggered","ActionSyncExecutionCompleted","ActionSyncExecutionFailed","ActionValidationFailed","ComponentInnerRepeatableContextChanged","ComponentModelChanged","ComponentModelInProgress","ComponentPropertyChanged","ComponentPropertyErrorOccurred","ComponentPropertyInProgress","ComponentRefPropertyChanged","ComponentRefPropertyErrorOccurred","ComponentRefPropertyInProgress","ComponentRefValidationChanged","ComponentSingleContextChanged","ComponentStateCreated","ComponentStateDeleted","ComponentStatusChanged","ComponentValidationChanged","ComponentValidationErrorOccurred","FileInfoModel","OptionalContextComponentState","OutputParameterChanged","RefStateCreated","RefStateDeleted","RepeatableComponentEntryAdded","RepeatableComponentEntryDeleted","RepeatableContextComponentState","NumberVariable","toastr","__","None","Some","screenInstanceDownloadUrl","ScreenInstanceServerModel","eventBus","screenInstanceService","instance","serverEventsService","filesService","version","subscribeForNewEvents","subscriptionId","forEach","unsubscribe","subscribeForScreenInstance","consumerSubscriptionId","eventsSubscription","serverEventBus","on","screenInstanceEvent","newEvents","active","getInstanceId","screenInstanceId","statesToUpdate","error","isEmpty","eventsUnwrapped","event","concat","handleComponentPropertyInProgress","handleComponentPropertyChanged","handleComponentPropertyErrorOccurred","handleComponentRefPropertyInProgress","handleComponentRefPropertyChanged","handleComponentRefPropertyErrorOccurred","handleComponentModelInProgress","handleComponentModelChanged","handleComponentSingleContextChanged","handleActionExecutionTriggered","handleActionValidationFailed","handleActionSyncExecutionFailed","handleSyncActionExecutionCompleted","handleActionAsyncExecutionStarted","handleActionAsyncExecutionFailed","handleActionAsyncExecutionCompleted","handleComponentValidationChanged","handleComponentValidationErrorOccurred","handleComponentRefValidationChanged","handleComponentInnerRepeatableContextChanged","handleRefStateCreated","handleRefStateDeleted","handleComponentStateCreated","handleComponentStateDeleted","handleComponentStatusChanged","handleRepeatableComponentEntryAdded","handleRepeatableComponentEntryDeleted","onOutputParameterChanged","unique","state","updated","componentsStateUpdated","get","componentsState","getComponentRefState","contextId","componentRefId","isDefined","properties","putValue","propertyName","unwrappedValue","clearValue","putInProgress","putError","timestamp","message","getComponentState","componentId","updateModel","modelName","setModelInProgress","updateInnerContext","innerContext","status","setActionStateInProgress","actionName","setActionStateValidationError","messages","setComponentValidationErrors","errors","setComponentValidationException","index","setActionSyncStateError","setActionStateSyncCompleted","setActionStateInAsyncStarted","asyncActions","setActionAsyncStateError","setActionStateInAsyncCompleted","clearInnerContext","putComponentRefState","refId","stateUnwrapped","deleteComponentRefState","putComponentState","deleteComponentState","pushToInnerContext","entryId","removeFromModel","changeModel","refsPath","clearModel","changeMultipleModelsWithAction","modelChanges","actionTriggered","changeMultipleModels","changeModelWithAction","clearModelWithAction","appendToModel","removeFromModelWithAction","valueIndex","executeAction","executeEntryAction","entryContextId","addRepeatableContextEntry","onComplete","deleteRepeatableContextEntry","entryIndex","moveEntry","fromIndex","toIndex","destroy","terminate","onSuccess","loadFilesInfo","files","length","filesInfo","f","ofBasicInfo","uri","loadFileInfo","file","getFileDownloadUri","fileUri","checkDebugInfoAvailable","getDebugInfoAvailable","debugInfoAvailable","debugInfoAvailableLoaded","loadDebugInfo","getDebugInfo","debugInfo","debugInfoLoaded","evaluateExpression","contextPath","callNo","evaluateExpressionCallNo","result","durationMillis","expressionEvaluated","expressionEvaluatedWithError","outputParameterChanged","variableName","changeInputParameters","params","MapComponentViewModelWrapper","GoogleMap","i0","MapComponentComponent","librariesService","undefined","googleMap","_map","wrapper","injectMap","ngOnInit","apiLoaded","loadGoogleMaps","onApiLoaded","viewModel","selectors","viewQuery","FileUri","I18nText","Trilean","Duration","LocalDate","LocalDateTime","LocalTime","BooleanVariable","ObjectVariable","StringVariable","validateVariableName","validateVariablePath","arraysEqual","arraysEqualBy","PropertyValueError","toString","ComponentPropertyFactory","TrileanProperty","BooleanProperty","OptionalBooleanProperty","I18nTextProperty","OptionalI18nTextProperty","StringProperty","OptionalStringProperty","FileProperty","OptionalFileProperty","NumberProperty","OptionalNumberProperty","LabeledValuesProperty","OptionalOrganizationNodesProperty","OptionalStringArrayProperty","DateTimeProperty","TimeProperty","DurationProperty","OptionalDateTimeProperty","OptionalTimeProperty","OptionalDurationProperty","DateProperty","OptionalDateProperty","ModelProperty","OptionalModelProperty","PropertyTryError","PropertyTry","p","e","success","inProgress","successCompleted","errorCompleted","errorOf","errorFrom","inProgressEmpty","isError","isSuccess","valueIsDefined","valueOrDefault","d","PropertySettingsType","nonStaticValue","StaticValue","isStaticValue","isBoundExpression","BoundExpression","isBoundVariablePath","BoundVariablePath","PropertySettingsFactory","settings","INSTANCE","equals","searchText","convertTo","settingsType","empty","toSettingsType","isEqual","staticValue","isOptional","ofTrue","TRUE","ofFalse","FALSE","isTrue","settingsUnwrapped","isFalse","currentValue","fromState","ofSettings","static","isEnabled","toRequired","toOptional","property","enabled","disabled","defaultValue","plText","text","pl","staticValueOption","parse","ofExpression","ofVariablePath","slice","ZERO","ModelAutomaticEvaluation","initOnly","root","ofDynamicExpression","dynamicExpression","ofVariableName","variablePath","LabeledValueFactory","StringLabeledValue","NumberLabeledValue","BooleanLabeledValue","selected","label","a","b","toBusinessVariable","getOrError","trim","getCurrentWithFallback","isString","isNumber","isBoolean","asString","asNumber","asBoolean","toVisibleValue","l","staticValueUnwrapped","values","ApplicationId","OrganizationId","ScreenId","ScreenInstanceId","ScreenReleaseId","VariableId","AutomaticActionRef","AutomaticActionRefWithSchedule","AutomaticVariableMode","RepeatableContext","ScreenAuthorizationType","ScreenComponentIdInScreen","ScreenComponentRefId","ScreenComponentRefIdInScreen","ScreenComponentRefStateFactory","ScreenComponents","ScreenComponentsState","ScreenComponentStateFactory","ScreenLifeMode","BusinessVariableFactory","BusinessVariableTypeFactory","AggregateId","AggregateVersion","OrganizationNodeId","PersonId","AnyVariablePath","ScreenInstanceSummary","applicationId","instanceId","screenId","mainTitle","subTitle","lifeMode","ScreenWithRelease","screen","releaseId","releaseVersion","release","workingRelease","ScreenInfo","ScreenRelease","ScreenReleaseSummary","releaseNumber","comment","code","creationDate","creator","Screen","organizationId","activeRelease","parent","previewAuthorization","editAuthorization","runAuthorization","runExternalAnonymously","runExternalByServices","runExternalByServicesAuthorization","AutomaticVariable","mode","byName","AutomaticVariableSettingsFactory","StaticStringValueVariableSettings","StaticNumberValueVariableSettings","StaticBooleanValueVariableSettings","BoundExpressionVariableSettings","BoundVariablePathVariableSettings","toExpression","toAsync","ScreenParam","tpe","documentation","output","required","tpeUnwrapped","defaultValueUnwrapped","ScreenReleaseWithName","screenName","releaseComment","releaseCode","closed","description","components","lastModified","lastModifiedBy","authorizationType","rootComponentRefId","automaticVariables","onInit","onInterval","titleExpression","releases","CreateScreenInstance","applicationIdOrIdentifier","applicationComponent","returnComponents","CreateScreenWorkingReleaseInstance","GetScreenInstanceForWidgetScope","widgetInstanceId","GetScreenInstanceState","ScreenDefinitionComponents","ScreenInstanceState","screenReleaseId","allScreensReleases","contextProviderId","c","updateMaps","componentsAsMap","ComponentModelChange","ChangeSimpleInputParameters","ChangeMultipleComponentModels","modelsChanges","actionsTriggered","ChangeComponentModel","ClearComponentModel","AppendToComponentModel","RefIdInContext","RemoveFromComponentModel","ExecuteAction","ExecuteEntryAction","AddRepeatableContextEntry","DeleteRepeatableContextEntry","MoveEntry","EvaluateExpressionInScreen","EvaluateExpressionInScreenSuccessResponse","resultVariable","EvaluateExpressionInScreenFailureResponse","EvaluateExpressionInScreenResponseFactory","response","TerminateScreen","ApplicationResponse","NewScreenInstanceEvents","events","ScreenInstanceStateEventFactory","previousInnerContext","hasChildren","ComponentValidationErrorFactory","RequiredModelValueNotAvailable","toMessage","ValueOfIncorrectType","actualTypeName","expectedTypeName","actual","expected","NumberLargerThanMaximum","actualValue","maximumValue","maximum","NumberSmallerThanMinimum","minimumValue","minimum","DateLargerThanMaximum","formatted","DateSmallerThanMinimum","TimeLargerThanMaximum","formattedToMinutes","TimeSmallerThanMinimum","DateTimeLargerThanMaximum","DateTimeSmallerThanMinimum","DurationLargerThanMaximum","formatted24","DurationSmallerThanMinimum","StringShorterThanMinimum","actualLength","minimumLength","StringLongerThanMaximum","maximumLength","StringDoesNotMatchRegex","StringPolishNipIncorrect","StringPolishPeselIncorrect","StringPolishBankAccountIncorrect","StringPolishPostalCodeIncorrect","StringEmailIncorrect","SelectInputIncorrectValue","ComponentRuleError","ScreenLogEntryLevel","level","ofLevel","warning","debug","VariableError","ScreenLogEntry","logType","ScreenDebugInfo","logs","data","ScreenInstancesListUpdate","instances","ApplicationComponentRef","ButtonComponentDefinition","ButtonComponentRef","ComponentErrorInfo","DateInputComponentDefinition","DropListComponentDefinition","DropListComponentRef","HtmlComponentDefinition","HtmlComponentRef","ImageComponentDefinition","ImageComponentRef","LabelComponentDefinition","LabelComponentRef","LabelPosition","LayoutAlign","LayoutStretch","LayoutType","LayoutWrap","LinkComponentDefinition","LinkComponentRef","MapComponentDefinition","MapComponentRef","MultiAttachmentInputComponentDefinition","MultiAttachmentInputComponentRef","MultiCheckboxComponentDefinition","MultiCheckboxComponentRef","NumberInputComponentDefinition","NumberInputComponentRef","PasswordInputComponentDefinition","PasswordInputComponentRef","PropertyType","RadioButtonComponentDefinition","RadioButtonComponentRef","RepeatableContainerDefinition","RepeatableContainerRef","SectionContainerDefinition","SectionContainerRef","SingleAttachmentInputComponentDefinition","SingleAttachmentInputComponentRef","SingleCheckboxComponentDefinition","SingleCheckboxComponentRef","SwitchComponentDefinition","SwitchComponentRef","TabsContainerDefinition","TabsContainerRef","TextAlign","TextFont","TextInputComponentDefinition","TextInputComponentRef","TextVerticalAlign","ValidationRule","ValidationRuleRef","DateInputComponentRef","TableContainerDefinition","TableContainerRef","ArrayVariable","DateTimeVariable","DateVariable","DepartmentVariable","FileVariableV2","GroupVariable","I18nTextVariable","IntervalVariable","NullVariable","PasswordVariable","PersonVariable","TimeVariable","FileProtocol","clearArray","overwriteArray","___","OtherScreenComponents","definitions","refs","actions","validationRules","getDefinition","found","find","findDefinition","getRef","findComponent","getRemoteScreenIds","filter","r","applicationScreen","uniqueBy","actionsUnwrapped","ScreenComponentDefinitionFactory","ScreenComponentRefFactory","DefaultPropertyProvider","providerName","propertiesSerialized","fallbacks","propertyType","i","getIfExistsOrNull","getOptionalStringProperty","OptionalString","getStringProperty","String","getOptionalNumberProperty","OptionalNumber","getNumberProperty","Number","getOptionalBooleanProperty","OptionalBoolean","getBooleanProperty","Boolean","getTrileanProperty","getDateProperty","Date","getI18nTextProperty","getDateTimeProperty","DateTime","getTimeProperty","Time","getFileProperty","File","getOptionalFileProperty","OptionalFile","getModelProperty","Model","getOptionalModel","OptionalModel","getAnyModelProperty","getOptionalI18nProperty","OptionalI18nText","getOptionalDateProperty","OptionalDate","getOptionalDateTimeProperty","OptionalDateTime","getOptionalTimeProperty","OptionalTime","getOptionalDurationProperty","OptionalDuration","getLabeledValuesProperty","LabeledValues","getOptionalOrganizationNodesProperty","OptionalOrganizationNodes","getOptionalStringArrayProperty","OptionalStringArray","getOptionalStringPropertyIfExists","getIfExists","getStringPropertyIfExists","getOptionalNumberPropertyIfExists","getNumberPropertyIfExists","getOptionalBooleanPropertyIfExists","getBooleanPropertyIfExists","getTrileanPropertyIfExists","getDatePropertyIfExists","getI18nTextPropertyIfExists","getDateTimePropertyIfExists","getTimePropertyIfExists","getFilePropertyIfExists","getOptionalFilePropertyIfExists","getModelPropertyIfExists","getOptionalModelPropertyIfExists","getAnyModelPropertyIfExists","getOptionalI18nTextPropertyIfExists","getOptionalDatePropertyIfExists","getOptionalDateTimePropertyIfExists","getOptionalTimePropertyIfExists","getDurationPropertyIfExists","getOptionalDurationPropertyIfExists","getLabeledValuesPropertyIfExists","getOptionalOrganizationNodesPropertyIfExists","getOptionalStringArrayPropertyIfExists","ofFallbacks","ofSkins","skinsPropertiesProvider","getOrNull","DEFAULT","horizontal","top","center","ComponentValidationRules","rules","ActionValidationRule","messageExpression","stopOnError","ComponentActionProperty","componentsToValidate","ClipboardAutomaticAction","ComponentClipboardActionProperty","validationRulesRefs","ComponentClipboardActionProperties","putActions","automaticActions","findIndexOf","splice","push","handler","getActionRule","ruleId","actionProperty","ComponentActionProperties","getActions","getComponentsToValidate","getValidationRules","ComponentProperties","mapProperties","getPropertyOption","getOrElseLazy","getEnabledPropertyOption","propertyOption","def","defaultProvider","getOptionalBooleanPropertyNonDefault","getOptionalModelProperty","getAnyModelPropertiesByPrefix","propertyNamePrefix","indexOf","substring","getOptionalI18nTextProperty","getOptionalStringPropertyNonDefault","putProperty","deleteProperty","putPropertyIfNotEmpty","optional","PaddingsProperties","prefix","paddingTop","skinName","componentTypeName","componentClass","paddingLeft","paddingBottom","paddingRight","BordersProperties","borderTop","borderLeft","borderBottom","borderRight","borderRadius","borderColorTop","borderColorLeft","borderColorBottom","borderColorRight","outerShadow","BackgroundsProperties","backgroundColor","SizeProperties","componentSkin","cssClass","contentMinWidth","contentMinHeight","maxWidth","maxHeight","TextsProperties","textSize","textColor","textFont","textAlign","textVerticalAlign","bold","italic","underline","lineThrough","HeaderProperties","headerTextSize","headerTextColor","headerTextFont","headerTextAlign","headerTextVerticalAlign","headerTextBold","headerTextItalic","headerTextUnderline","headerTextLineThrough","headerBackgroundColor","headerMinHeight","LayoutsProperties","gapColumn","gapRow","layout","layoutAlign","layoutStretch","layoutWrap","columns","rows","LabelProperties","labelPosition","labelWidth","labelHeight","labelSize","labelColor","labelFont","labelAlign","labelVerticalAlign","labelBold","labelItalic","labelUnderline","labelLineThrough","PositionProperties","desiredWidth","desiredHeight","left","right","bottom","marginTop","marginLeft","marginBottom","marginRight","column","row","columnSpan","rowSpan","FileSource","url","Https","downloadUrl","isRepositoryFile","simpleUrl","update","charAt","RepositoryFile","serialize","hasDownloadUrl","isSimpleUrlDefined","AutoVariableFill","variable","n","ScreenComponentRef","ref","positionProperties","defaultPropertiesProvider","uncovered","visible","editable","preview","createDefaultDefinition","InputComponentRef","ScreenContainerRef","GenericScreenComponentDefinition","sizeProperties","initialized","modelIsReadOnly","modelNames","getModelNames","all","model","getChildren","hasLabel","displayName","typeName","en","ScreenComponentDefinition","ScreenComponentDefinitionWithLabel","tooltip","labelProperties","NoContextContainerDefinition","OptionalContextContainerDefinition","RepeatableContextContainerDefinition","ComponentValidationExceptionState","ruleIndex","PropertyValueHolder","isOK","isInProgress","ActionStateError","ActionStateHolder","syncInProgress","validationErrors","asyncStarted","asyncCompleted","isValidationError","PropertiesStateHolder","validationException","current","propertyByName","booleanProperty","simpleValueType","trileanProperty","ofBoolean","UNKNOWN","labeledValuesProperty","modelProperty","optionalModelProperty","stringProperty","i18nTextProperty","ofCurrent","stringifiedI18nProperty","toStringVariable","numberProperty","fileProperty","optionalNumberProperty","optionalBusinessVariableProperty","optionalStringProperty","optionalPasswordProperty","password","optionalI18nTextProperty","optionalDateProperty","optionalDateTimeProperty","optionalTimeProperty","optionalDurationProperty","optionalBooleanProperty","optionalObjectsArrayProperty","o","stringArrayProperty","optionalStringArrayProperty","vv","optionalArrayProperty","optionalPersonProperty","optionalOrganizationNodeProperty","fromPersonId","fromDepartmentId","fromGroupId","optionalFileProperty","validation","toArray","flatMap","allValidationErrors","anyInProgress","valuesInProgress","exists","actionsInProgress","updateActionState","actionState","getActionState","ind","startedAsyncActions","currentActionState","currentSyncInProgress","currentErrors","currentActionCompleted","completedAsyncAction","actionStared","isActionInProgress","RefPositionPropertiesState","BordersPropertiesState","BackgroundsPropertiesState","LayoutsPropertiesState","PaddingsPropertiesState","BoxPropertiesState","TextPropertiesState","HeaderPropertiesState","LabelPropertiesState","componentStatesMap","refStatesMap","componentStates","context","entry","asMapKey","refStates","contextKey","byContext","isComponentRefState","componentState","refState","states","cs","css","entries","ScriptValue","ScreenSharedViewModel","skins","CreateComponentRef","containerId","containerPlainId","childIndex","refCopy","CreateSection","stretch","align","gap","padding","modelVariableName","CreateRepeatable","entriesLayout","CreateTable","AddTableColumn","TabToCreate","tabId","CreateTabs","tabs","AddTabToTabs","tabName","ReorderTabs","tabIds","DeleteTabFromTabs","CreateTextInput","CreatePasswordInput","CreateNumberInput","CreateDateInput","CreateDateTimeInput","CreateTimeInput","CreateDurationInput","CreateDropList","options","CreateCalendar","entriesVariableName","selectedVariableName","CreateMap","markersVariableName","mapBoundariesVariableName","mapCenterVariableName","CreateRadioButton","CreateMultiCheckbox","CreateSingleCheckbox","valueLabel","CreateSwitch","CreateSingleAttachmentInput","CreateMultiAttachmentInput","CreateButton","CreateLabel","CreateLink","CreateImage","CreateHtml","html","CreateWidgetComponent","CreatePersonSelect","ChangeComponentPosition","MoveComponentToNewContainer","oldContainerId","oldPlainId","newContainerId","newPlainId","ChangeComponentIdentifier","MoveComponent","ChangeComponentDesiredSize","width","height","ChangeComponentMinContentSize","minWidth","minHeight","ChangeComponentDesiredHeight","ChangeComponentDesiredWidth","ChangeComponentContentMinHeight","ChangeComponentContentMinWidth","ChangeComponentGridPosition","ChangeComponentGridPositionNewContainer","DeleteComponentRef","ComponentRefIndex","RearrangeComponentRefs","newComponentsIndieces","CreateScriptAction","CreateClearValueAction","CreateSetValueAction","CreateCompleteAction","DeleteAutomaticAction","ChangeAction","ChangeComponentDefinitionActionsProperty","ChangeComponentDefinitionActionValidation","ChangeComponentActionComponentsToValidate","ChangeComponentDefinitionProperty","ClearComponentDefinitionProperty","ChangeComponentRefProperty","ClearComponentRefProperty","DeleteComponent","ChangeComponentDefinitionValidationRules","CreateCompleteValidationRule","validationRule","CreateValidationRule","messageType","ChangeValidationRule","DeleteValidationRule","ChangeDescription","ChangeTitleExpression","AddOnInitAction","actionId","ChangeOnInitAction","DeleteOnInitAction","AddOnIntervalAction","ChangeOnInitActions","AddParam","paramId","ChangeParam","DeleteParam","AddAutomaticVariable","automaticVariableId","ChangeAutomaticVariable","AddAutomaticVariableDefined","DeleteAutomaticVariable","ChangeAuthorizationType","AddScreenAutomaticVariableBoundExpression","DeleteScreenAutomaticVariable","ChangeScreenAutomaticVariable","AddScreenParam","DeleteScreenParam","ChangeScreenParam","AddScreenOnInitAction","RearrangeScreenOnInitActions","refsIds","DeleteScreenOnInitAction","AddScreenOnIntervalAction","delaySeconds","intervalSeconds","RearrangeScreenOnIntervalActions","DeleteScreenOnIntervalAction","ChangeScreenOnIntervalAction","ChangeScreenLifeMode","catchError","Translation","LibrariesService","httpClient","i18nService","googleMapsLoaded","callbacks","googleMapsCallbacks","callback","fineUploaderLoaded","fineUploaderCallbacks","googleMapsObservable","apiKey","console","log","loadLibrary","onGoogleMapsLoaded","loadFineUploader","fineUploaderLoading","translationLoaded","libraryLoaded","initialize","fileUploader","finally","onFineUploaderLoaded","loadLibraryJSONP","jsonp","pipe","err","caught","urls","loaded","document","createElement","src","head","appendChild","addEventListener","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}